# è¯¾ç¨‹å­—å¹•ç¿»è¯‘

1. ## **Planning workflows** â€”â€” å·¥ä½œæµç¨‹è§„åˆ’

æ¬¢è¿æ¥åˆ°è¿™ **æœ€åä¸€ä¸ªå•å…ƒ** ï¼Œåœ¨è¿™é‡Œæ‚¨å°†å­¦ä¹ åˆ°èƒ½è®©æ‚¨æ„å»º**é«˜åº¦è‡ªä¸»æ™ºèƒ½ä½“**çš„ **è®¾è®¡æ¨¡å¼** ï¼Œæ‚¨**æ— éœ€äº‹å…ˆç¡¬ç¼–ç **è¦é‡‡å–çš„æ­¥éª¤åºåˆ—ï¼Œ

0:06

è€Œæ˜¯å¯ä»¥ **æ›´åŠ çµæ´»** ï¼Œè®©æ™ºèƒ½ä½“**è‡ªè¡Œå†³å®š**è¦é‡‡å–å“ªäº›æ­¥éª¤æ¥å®Œæˆä»»åŠ¡ã€‚

0:11

æˆ‘ä»¬å°†è®¨è®º **è§„åˆ’ (planning) è®¾è®¡æ¨¡å¼** ï¼Œç„¶ååœ¨æœ¬å•å…ƒç¨åï¼Œè®¨è®º **å¦‚ä½•æ„å»ºå¤šæ™ºèƒ½ä½“ç³»ç»Ÿ (multi-agent systems)** ã€‚

0:16

è®©æˆ‘ä»¬å¼€å§‹å§ã€‚

0:20

å‡è®¾æ‚¨ç»è¥ä¸€å®¶ **å¤ªé˜³é•œé›¶å”®åº—** ï¼Œå¹¶å°†æœ‰å…³åº“å­˜çš„å¤ªé˜³é•œä¿¡æ¯å­˜å‚¨åœ¨ä¸€ä¸ª**æ•°æ®åº“**ä¸­ã€‚

0:23

æ‚¨å¯èƒ½å¸Œæœ›å®¢æˆ·æœåŠ¡æ™ºèƒ½ä½“èƒ½å¤Ÿå›ç­”è¿™æ ·çš„é—®é¢˜ï¼šâ€œä½ ä»¬æœ‰**åœ†å½¢**çš„å¤ªé˜³é•œå—ï¼Ÿè€Œä¸”è¦ **ä½äº 100 ç¾å…ƒ** ã€‚â€

0:30

è¿™æ˜¯ä¸€ä¸ª **ç›¸å½“å¤æ‚çš„æŸ¥è¯¢** ï¼Œå› ä¸ºå®ƒå¿…é¡»**æŸ¥çœ‹äº§å“æè¿°**ä»¥ç¡®å®šå“ªäº›å¤ªé˜³é•œæ˜¯åœ†å½¢çš„ï¼Œç„¶å **æŸ¥çœ‹åº“å­˜** ï¼Œæœ€åæŸ¥çœ‹ **å“ªäº›ä½äº 100 ç¾å…ƒ** ï¼Œæ‰èƒ½å‘Šè¯‰å®¢æˆ·ï¼šâ€œæ˜¯çš„ï¼Œæˆ‘ä»¬æœ‰ç»å…¸çš„å¤ªé˜³é•œã€‚â€

0:36

æ‚¨å¦‚ä½•æ„å»ºä¸€ä¸ªæ™ºèƒ½ä½“æ¥å›ç­”åƒè¿™æ ·ä»¥åŠè®¸å¤šå…¶ä»–**å¹¿æ³›çš„å®¢æˆ·æŸ¥è¯¢**å‘¢ï¼Ÿ

0:45

ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†ç»™ LLM  **æä¾›ä¸€å¥—å·¥å…·** ï¼Œè®©å®ƒèƒ½å¤Ÿè·å–ç‰©å“æè¿°ï¼ˆä¾‹å¦‚ **æŸ¥æ‰¾ä¸åŒçš„çœ¼é•œæ˜¯å¦ä¸ºåœ†å½¢** ï¼‰ã€ **æ£€æŸ¥åº“å­˜** ã€ **å¤„ç†ç‰©å“é€€è´§** ï¼ˆè¿™ä¸ªæŸ¥è¯¢ä¸éœ€è¦ï¼Œä½†å…¶ä»–æŸ¥è¯¢å¯èƒ½éœ€è¦ï¼‰ã€ **è·å–ç‰©å“ä»·æ ¼** ã€ **æ£€æŸ¥å†å²äº¤æ˜“** ã€**å¤„ç†ç‰©å“é”€å”®**ç­‰ç­‰ã€‚

0:59

ä¸ºäº†è®© LLM å¼„æ¸…æ¥šè¦ä½¿ç”¨**æ­£ç¡®çš„å·¥å…·åºåˆ—**æ¥å“åº”å®¢æˆ·è¯·æ±‚ï¼Œæ‚¨å¯ä»¥ç¼–å†™ä¸€ä¸ªåƒè¿™æ ·çš„æç¤ºï¼š

1:05

â€œæ‚¨æœ‰æƒè®¿é—®ä»¥ä¸‹å·¥å…·â€ï¼Œç„¶åç»™å‡º LLM æ‰€æ‹¥æœ‰çš„ï¼ˆä¾‹å¦‚ï¼‰å…­ä¸ªæˆ–æ›´å¤š **å·¥å…·çš„æè¿°** ï¼Œå¹¶å‘Šè¯‰å®ƒ**è¿”å›ä¸€ä¸ªé€æ­¥çš„è®¡åˆ’**æ¥æ‰§è¡Œç”¨æˆ·çš„è¯·æ±‚ã€‚

1:15

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¦å›ç­”è¿™ä¸ªç‰¹å®šçš„æŸ¥è¯¢ï¼ŒLLM å¯èƒ½ä¼šè¾“å‡ºä¸€ä¸ª **åˆç†çš„è®¡åˆ’** ï¼š

1:22

é¦–å…ˆï¼Œä½¿ç”¨**â€œè·å–ç‰©å“æè¿°â€**æ¥æ£€æŸ¥ä¸åŒçš„æè¿°ä»¥**æ‰¾åˆ°åœ†å½¢çš„å¤ªé˜³é•œ**ï¼Œç„¶åä½¿ç”¨**â€œæ£€æŸ¥åº“å­˜â€**æ¥çœ‹å®ƒä»¬æ˜¯å¦**æœ‰åº“å­˜**ï¼Œå¹¶ä½¿ç”¨**â€œè·å–ç‰©å“ä»·æ ¼â€**æ¥çœ‹æœ‰åº“å­˜çš„ç»“æœæ˜¯å¦**ä½äº 100 ç¾å…ƒ**ã€‚

1:29

åœ¨ä¸€ä¸ª LLM è¾“å‡ºè¿™ä¸ªåŒ…å«ä¸‰ä¸ªæ­¥éª¤çš„è®¡åˆ’åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å¯ä»¥ **å–å‡ºç¬¬ä¸€æ­¥çš„æ–‡æœ¬** ï¼ˆå³è¿™é‡Œç”¨çº¢è‰²å†™çš„æ–‡æœ¬ï¼‰ï¼Œå¹¶å°†å…¶ **ä¼ é€’ç»™ä¸€ä¸ª LLM** ï¼Œå¯èƒ½é™„å¸¦å…³äºå·¥å…·æœ‰å“ªäº›ã€æ‚¨çš„ç”¨æˆ·æŸ¥è¯¢æ˜¯ä»€ä¹ˆã€é¢å¤–çš„èƒŒæ™¯ä¿¡æ¯ç­‰ï¼Œç„¶åè®© LLM  **æ‰§è¡Œç¬¬ä¸€æ­¥** ã€‚

1:38

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¸Œæœ› LLM ä¼šé€‰æ‹©**è°ƒç”¨â€œè·å–ç‰©å“æè¿°â€**æ¥è·å–åˆé€‚çš„ç‰©å“æè¿°ï¼Œ

1:48

è€Œ**ç¬¬ä¸€æ­¥çš„è¾“å‡º**å¯ä»¥è®©å®ƒ **é€‰æ‹©å“ªäº›æ˜¯åœ†å½¢çš„å¤ªé˜³é•œ** ï¼Œ

1:53

ç„¶å**ç¬¬ä¸€æ­¥çš„è¾“å‡º**å°†ä¸**ç¬¬äºŒæ­¥çš„** **æŒ‡ä»¤** ï¼ˆå³æˆ‘è¿™é‡Œç”¨è“è‰²æ ‡è®°çš„æŒ‡ä»¤ï¼‰ä¸€èµ· **ä¼ é€’ç»™å¦ä¸€ä¸ª LLM** ï¼Œä»¥ **æ‰§è¡Œè®¡åˆ’çš„ç¬¬äºŒæ­¥** ã€‚

1:57

å¸Œæœ›å®ƒéšåä¼š**æ£€æŸ¥**æˆ‘ä»¬åœ¨ä¸Šä¸€ä¸ªé¡µé¢ä¸Šæ‰¾åˆ°çš„ **ä¸¤å‰¯åœ†å½¢å¤ªé˜³é•œçš„åº“å­˜** ï¼Œ

2:05

ç„¶å**ç¬¬äºŒæ­¥çš„è¾“å‡º**ä¼šè¢«ç”¨äº **å¦ä¸€æ¬¡ LLM è°ƒç”¨** ï¼Œæ‚¨å°†æ‹¥æœ‰ç¬¬äºŒæ­¥çš„è¾“å‡ºä»¥åŠ**ç¬¬ä¸‰æ­¥çš„æ“ä½œ** **æŒ‡ä»¤** ã€‚

2:09

å°†å®ƒä¼ é€’ç»™ LLMï¼Œè®©å®ƒ **è·å–ç‰©å“ä»·æ ¼** ï¼Œæœ€åè¿™ä¸ªè¾“å‡ºä¼š **æœ€åä¸€æ¬¡åé¦ˆç»™ LLM** ï¼Œä»¥ **ç”Ÿæˆç»™ç”¨æˆ·çš„æœ€ç»ˆç­”æ¡ˆ** ã€‚

2:16

åœ¨è¿™ä¸ªé¡µé¢ä¸Šï¼Œæˆ‘ç®€åŒ–äº†è®¸å¤šç»†èŠ‚ã€‚LLM å®é™…ç¼–å†™çš„è®¡åˆ’é€šå¸¸æ¯”è¿™äº›ç®€å•çš„å•è¡ŒæŒ‡ä»¤ **æ›´è¯¦ç»†** ï¼Œ

2:22

ä½†åŸºæœ¬çš„å·¥ä½œæµç¨‹æ˜¯ï¼šè®© LLM  **å†™å‡ºè®¡åˆ’çš„å¤šä¸ªæ­¥éª¤** ï¼Œç„¶å**ä¾æ¬¡**ç»™å®ƒåˆ†é…ä»»åŠ¡ï¼Œè®©å®ƒ **æ‰§è¡Œè®¡åˆ’çš„æ¯ä¸€æ­¥** ï¼Œå¹¶é™„å¸¦å…³äºä»»åŠ¡æ˜¯ä»€ä¹ˆã€å¯ç”¨å·¥å…·æœ‰å“ªäº›ç­‰ç­‰ **é€‚å½“çš„å‘¨è¾¹ä¸Šä¸‹æ–‡** ã€‚

2:30

ä»¥è¿™ç§æ–¹å¼ä½¿ç”¨ LLM è¿›è¡Œè§„åˆ’çš„**ä»¤äººå…´å¥‹ä¹‹å¤„**åœ¨äºï¼Œæˆ‘ä»¬**ä¸å¿…äº‹å…ˆå†³å®š**è°ƒç”¨å·¥å…·çš„**é¡ºåº**æ¥å›ç­”ä¸€ä¸ªç›¸å½“å¤æ‚çš„å®¢æˆ·è¯·æ±‚ã€‚

2:38

å¦‚æœå®¢æˆ·æå‡ºä¸€ä¸ª **ä¸åŒçš„è¯·æ±‚** ï¼Œä¾‹å¦‚ï¼šâ€œæˆ‘å¸Œæœ›**é€€å›**æˆ‘è´­ä¹°çš„ **é‡‘è‰²è¾¹æ¡†çœ¼é•œ** ï¼Œè€Œä¸æ˜¯é‡‘å±è¾¹æ¡†çš„â€ï¼Œ

2:44

é‚£ä¹ˆæ‚¨å¯ä»¥æƒ³è±¡ LLM åŒæ ·èƒ½å¤Ÿ **æå‡ºä¸€ä¸ªä¸åŒçš„è®¡åˆ’** ï¼Œæ ¹æ®ä»–ä»¬ä¹‹å‰è´­ä¹°çš„ä¸œè¥¿ï¼Œé€šè¿‡**â€œè·å–ç‰©å“æè¿°â€**å¼„æ¸…æ¥šä»–ä»¬è´­ä¹°äº†å“ªäº›çœ¼é•œï¼Œå…¶ä¸­å“ªäº›æ˜¯ä»–ä»¬æƒ³é€€å›çš„**é‡‘è‰²è¾¹æ¡†**ï¼Œç„¶åå¯èƒ½ä¼š **è°ƒç”¨â€œå¤„ç†ç‰©å“é€€è´§â€** ã€‚

2:52

å› æ­¤ï¼Œæœ‰äº†åƒè¿™æ · **å¯ä»¥è§„åˆ’çš„ä»£ç†** ï¼Œå®ƒå°±å¯ä»¥æ‰§è¡Œ **æ›´å¹¿æ³›çš„ä»»åŠ¡èŒƒå›´** ï¼Œè¿™äº›ä»»åŠ¡å¯èƒ½éœ€è¦ä»¥**è®¸å¤šä¸åŒé¡ºåº**è°ƒç”¨ **è®¸å¤šä¸åŒçš„å·¥å…·** ã€‚

2:59

å¦ä¸€ä¸ªè§„åˆ’çš„ä¾‹å­ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ **é‚®ä»¶åŠ©ç†** ã€‚

3:02

å¦‚æœæ‚¨æƒ³å‘Šè¯‰æ‚¨çš„åŠ©ç†ï¼šâ€œè¯·**å›å¤** Bob åœ¨çº½çº¦çš„é‚®ä»¶é‚€è¯·ï¼Œå‘Šè¯‰ä»– **æˆ‘ä¼šå‚åŠ ** ï¼Œå¹¶**å½’æ¡£**ä»–çš„é‚®ä»¶ã€‚â€

3:07

é‚£ä¹ˆé‚®ä»¶åŠ©ç†å¯èƒ½ä¼šè¢«èµ‹äºˆåƒè¿™æ ·çš„å·¥å…·ï¼š**æœç´¢é‚®ä»¶ã€ç§»åŠ¨é‚®ä»¶ã€åˆ é™¤é‚®ä»¶**å’Œ **å‘é€é‚®ä»¶** ã€‚

3:14

æ‚¨å¯èƒ½ä¼šç¼–å†™ä¸€ä¸ªåŠ©ç†æç¤ºï¼šâ€œæ‚¨æœ‰æƒè®¿é—®ä»¥ä¸‹å·¥å…·â€ï¼Œå¹¶å†æ¬¡è¦æ±‚å®ƒ **è¿”å›ä¸€ä¸ªé€æ­¥çš„è®¡åˆ’** ã€‚

3:18

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒLLM å¯èƒ½ä¼šè¯´ï¼Œè¿™ä¸ªä»»åŠ¡çš„æ­¥éª¤æ˜¯ï¼šä½¿ç”¨**â€œæœç´¢é‚®ä»¶â€**æ‰¾åˆ° ****Bob**** å‘æ¥çš„ã€æåˆ°æ™šé¤å’Œçº½çº¦çš„é‚®ä»¶ï¼Œç„¶å**ç”Ÿæˆå¹¶å‘é€ä¸€å°é‚®ä»¶**ç¡®è®¤å‡ºå¸­ï¼Œæœ€åå°†è¯¥é‚®ä»¶**ç§»åŠ¨åˆ°å½’æ¡£æ–‡ä»¶å¤¹**ã€‚

3:24

é‰´äºè¿™ä¸ªçœ‹èµ·æ¥åˆç†çš„è®¡åˆ’ï¼Œæ‚¨å°†å†æ¬¡**é€æ­¥åˆ†é…ä»»åŠ¡ç»™ ****LLM** æ¥æ‰§è¡Œè¿™ä¸ªè®¡åˆ’ã€‚

3:32

å› æ­¤ï¼Œ **ç¬¬ä¸€æ­¥çš„æ–‡æœ¬** ï¼ˆè¿™é‡Œä»¥çº¢è‰²æ˜¾ç¤ºï¼‰å°†è¢«æä¾›ç»™ LLMï¼Œé™„å¸¦é¢å¤–çš„èƒŒæ™¯ä¸Šä¸‹æ–‡ï¼Œå¹¶å¸Œæœ›å®ƒèƒ½ **è§¦å‘â€œæœç´¢é‚®ä»¶â€** ã€‚

3:40

ç„¶åï¼Œ**è¯¥è¾“å‡º**å¯ä»¥å†æ¬¡äº¤ç»™ LLMï¼Œé™„å¸¦**ç¬¬äºŒæ­¥çš„** **æŒ‡ä»¤** ï¼Œä»¥å‘é€é€‚å½“çš„å›å¤ã€‚

3:44

æœ€åï¼Œå‡è®¾é‚®ä»¶å‘é€æˆåŠŸï¼Œæ‚¨å¯ä»¥ **è·å–è¯¥è¾“å‡º** ï¼Œè®© LLM  **æ‰§è¡Œç¬¬ä¸‰æ­¥** ï¼Œå°† Bob çš„é‚®ä»¶ **ç§»åŠ¨åˆ°å½’æ¡£æ–‡ä»¶å¤¹** ã€‚

3:50

**è§„åˆ’è®¾è®¡æ¨¡å¼**å·²ç»æˆåŠŸåœ°åº”ç”¨äºè®¸å¤š**é«˜åº¦ä»£ç†åŒ–çš„ç¼–ç ç³»ç»Ÿ**ä¸­ï¼Œå¦‚æœæ‚¨è¦æ±‚å®ƒç¼–å†™ä¸€æ®µè½¯ä»¶æ¥æ„å»ºä¸€äº› **ç›¸å½“å¤æ‚çš„åº”ç”¨ç¨‹åº** ï¼Œå®ƒå¯èƒ½ä¼šæƒ³å‡ºä¸€ä¸ªè®¡åˆ’ï¼šå…ˆæ„å»ºè¿™ä¸ªç»„ä»¶ï¼Œå†æ„å»ºé‚£ä¸ªç»„ä»¶ï¼Œå‡ ä¹å½¢æˆä¸€ä¸ª **æ¸…å•** ï¼Œç„¶å **é€ä¸€æ‰§è¡Œè¿™äº›æ­¥éª¤** ï¼Œä»¥æ„å»ºä¸€ä¸ª **ç›¸å½“å¤æ‚çš„è½¯ä»¶** ã€‚

3:56

å¯¹äºè®¸å¤šå…¶ä»–åº”ç”¨ç¨‹åºï¼Œè§„åˆ’çš„ä½¿ç”¨å¯èƒ½ **ä»å¤„äºè¯•éªŒé˜¶æ®µ** ï¼Œå°šæœªå¹¿æ³›ä½¿ç”¨ã€‚è§„åˆ’çš„**æŒ‘æˆ˜ä¹‹ä¸€**æ˜¯å®ƒæœ‰æ—¶ä¼šä½¿ç³»ç»Ÿ **æœ‰ç‚¹éš¾ä»¥æ§åˆ¶** ï¼Œå› ä¸ºä½œä¸ºå¼€å‘äººå‘˜ï¼Œæ‚¨**æ— æ³•çœŸæ­£çŸ¥é“**åœ¨è¿è¡Œæ—¶å®ƒä¼šæƒ³å‡º **ä»€ä¹ˆæ ·çš„è®¡åˆ’** ã€‚

4:09

å› æ­¤ï¼Œæˆ‘è®¤ä¸ºåœ¨ **é«˜åº¦ä»£ç†åŒ–ç¼–ç ç³»ç»Ÿ** ï¼ˆå®ƒç¡®å®è¿è¡Œå¾—éå¸¸å¥½ï¼‰ä¹‹å¤–ï¼Œè§„åˆ’çš„ **åº”ç”¨ä»åœ¨å…¶ä»–é¢†åŸŸå¢é•¿** ã€‚

4:14

ä½†è¿™æ˜¯ä¸€é¡¹ **ä»¤äººå…´å¥‹çš„æŠ€æœ¯** ï¼Œæˆ‘è®¤ä¸ºå®ƒä¼š **ä¸æ–­æ”¹è¿›** ï¼Œæˆ‘ä»¬ä¼šåœ¨**è¶Šæ¥è¶Šå¤šçš„åº”ç”¨**ä¸­çœ‹åˆ°å®ƒã€‚

4:25

æ„å»ºå¯ä»¥**è‡ªè¡Œè§„åˆ’çš„ä»£ç†**çš„é…·ä¹‹å¤„åœ¨äºï¼Œæ‚¨**æ— éœ€äº‹å…ˆç¡¬ç¼–ç ** LLM ä¸ºæ‰§è¡Œå¤æ‚ä»»åŠ¡å¯èƒ½é‡‡å–çš„ **ç¡®åˆ‡æ­¥éª¤åºåˆ—** ã€‚

4:30

ç°åœ¨ï¼Œæˆ‘çŸ¥é“åœ¨è¿™ä¸ªè§†é¢‘ä¸­ï¼Œæˆ‘ä»¥ä¸€ä¸ª**ç›¸å½“é«˜çš„å±‚æ¬¡**ä»‹ç»äº†è§„åˆ’è¿‡ç¨‹ï¼šåˆ—å‡ºæ­¥éª¤ï¼Œç„¶åä»»åŠ¡ LLM **ä¸€æ¬¡ä¸€æ­¥**åœ°æ‰§è¡Œè®¡åˆ’çš„æ­¥éª¤ã€‚

4:40

ä½† **è¿™åˆ°åº•æ˜¯å¦‚ä½•è¿ä½œçš„å‘¢** ï¼Ÿåœ¨ä¸‹ä¸€ä¸ªè§†é¢‘ä¸­ï¼Œæˆ‘ä»¬å°†è¿›è¡Œ **æ›´æ·±å…¥çš„æ¢ç©¶** ï¼Œè¿›ä¸€æ­¥äº†è§£è¿™äº›è®¡åˆ’çš„ **å®é™…å†…éƒ¨ç»“æ„** ï¼Œä»¥åŠå®ƒä»¬æ˜¯å¦‚ä½•ä¸²è”èµ·æ¥ï¼Œè®© LLM ä¸ºæ‚¨**è§„åˆ’å’Œæ‰§è¡Œè®¡åˆ’**çš„ã€‚

4:49

è®©æˆ‘ä»¬åœ¨ä¸‹ä¸€ä¸ªè§†é¢‘ä¸­çœ‹çœ‹ã€‚

2. ## **Creating and executing ****LLM**** plans** â€”â€” åˆ›å»ºå¹¶æ‰§è¡Œå¤§è¯­è¨€æ¨¡å‹è®¡åˆ’

åœ¨è¿™ä¸ªè§†é¢‘ä¸­ï¼Œæˆ‘ä»¬å°†è¯¦ç»†äº†è§£**å¦‚ä½•æç¤º ****LLM** ** ç”Ÿæˆè®¡åˆ’** ï¼Œä»¥åŠ **å¦‚ä½•è¯»å–ã€è§£é‡Šå’Œæ‰§è¡Œè¯¥è®¡åˆ’** ã€‚è®©æˆ‘ä»¬æ·±å…¥æ¢è®¨ã€‚

0:04

è¿™æ˜¯æ‚¨åœ¨**ä¸Šä¸€ä¸ªè§†é¢‘**ä¸­çœ‹åˆ°çš„**å®¢æˆ·æœåŠ¡ä»£ç†**çš„è®¡åˆ’ï¼Œæˆ‘ä½¿ç”¨ç®€å•çš„æ–‡æœ¬æè¿°ä»¥**é«˜å±‚æ¬¡**çš„æ–¹å¼å‘ˆç°äº†è¯¥è®¡åˆ’ã€‚

0:08

è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•è®© LLM ç¼–å†™ **éå¸¸æ¸…æ™°çš„è®¡åˆ’** ï¼Œè¿™äº›è®¡åˆ’è¦**æ¯”**é‚£äº›ç®€å•çš„é«˜å±‚æ¬¡æ–‡æœ¬æè¿° **æ›´è¿›ä¸€æ­¥** ã€‚

0:17

äº‹å®è¯æ˜ï¼Œè®¸å¤šå¼€å‘äººå‘˜ä¼šè¦æ±‚ LLM ä»¥ **JSON**** æ ¼å¼**æ¥æ ¼å¼åŒ–å®ƒæƒ³è¦æ‰§è¡Œçš„è®¡åˆ’ï¼Œå› ä¸ºè¿™ä½¿å¾—**ä¸‹æ¸¸ä»£ç **èƒ½å¤Ÿä»¥ç›¸å¯¹**æ¸…æ™°å’Œæ˜ç¡®**çš„æ–¹å¼ **è§£æè®¡åˆ’çš„å…·ä½“æ­¥éª¤** ï¼Œ

0:30

è€Œä¸”æ‰€æœ‰ä¸»æµçš„ LLM ç›®å‰éƒ½**éå¸¸æ“…é•¿ç”Ÿæˆ ****JSON** ** è¾“å‡º** ã€‚

0:36

å› æ­¤ï¼Œç³»ç»Ÿæç¤ºå¯èƒ½åƒè¿™æ ·ï¼šâ€œæ‚¨æœ‰æƒè®¿é—®ä»¥ä¸‹å·¥å…·â€ï¼Œç„¶åè¦æ±‚å®ƒ**â€œä»¥ JSON æ ¼å¼åˆ›å»ºä¸€æ­¥ä¸€æ­¥çš„è®¡åˆ’â€**ï¼Œæ‚¨å¯èƒ½ä¼š**è¯¦ç»†æè¿° JSON æ ¼å¼**ï¼Œç›®æ ‡æ˜¯è®©å®ƒè¾“å‡ºå¦‚å³ä¾§æ‰€ç¤ºçš„è®¡åˆ’ã€‚

0:46

åœ¨è¿™ä¸ª JSON è¾“å‡ºä¸­ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ª **åˆ—è¡¨** ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªåˆ—è¡¨é¡¹æœ‰æ¸…æ™°çš„**é”®** **å’Œå€¼** ï¼Œè¯´æ˜è®¡åˆ’çš„**ç¬¬ä¸€æ­¥**æœ‰ä»¥ä¸‹ **æè¿°** ï¼Œå®ƒåº”è¯¥ä½¿ç”¨ä»¥ä¸‹ **å·¥å…·** ï¼Œå¹¶ä¼ å…¥ä»¥ä¸‹**å‚æ•°**ç»™è¯¥å·¥å…·ã€‚

1:02

ç„¶åï¼Œè®¡åˆ’çš„**ç¬¬äºŒæ­¥**æ˜¯æ‰§è¡Œè¿™ä¸ªä»»åŠ¡ï¼Œæ¥ç€ä½¿ç”¨è¿™ä¸ªå·¥å…·ï¼Œç­‰ç­‰ã€‚

1:15

å› æ­¤ï¼Œè¿™ç§ **JSON** ** æ ¼å¼** ï¼ˆè€Œä¸æ˜¯ç”¨è‹±æ–‡æ¥ç¼–å†™è®¡åˆ’ï¼‰å…è®¸ä¸‹æ¸¸ä»£ç **æ›´æ¸…æ™°åœ°è§£æ**è®¡åˆ’çš„ **ç¡®åˆ‡æ­¥éª¤** ï¼Œä»è€Œå¯ä»¥**å¯é åœ°**ä¸€æ­¥ä¸€æ­¥æ‰§è¡Œã€‚

1:26

é™¤äº† JSON ä¹‹å¤–ï¼Œæˆ‘ä¹Ÿçœ‹åˆ°ä¸€äº›å¼€å‘äººå‘˜ä½¿ç”¨  **XML** ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ XML åˆ†éš”ç¬¦ã€‚æ‚¨ä½¿ç”¨ **XML æ ‡ç­¾**æ¥æ¸…æ™°åœ°æŒ‡å®šè®¡åˆ’çš„**æ­¥éª¤**ä»¥åŠå®ƒæ˜¯ **ç¬¬å‡ æ­¥** ã€‚

1:38

ä¸€äº›å¼€å‘äººå‘˜ï¼ˆæˆ‘è§‰å¾—æ•°é‡è¾ƒå°‘ï¼‰ä¼šä½¿ç”¨  **Markdown** ï¼Œä½†å®ƒçš„è§£ææ–¹å¼æœ‰æ—¶**ç¨å¾®æ¨¡ç³Š**ä¸€äº›ï¼Œæˆ‘è®¤ä¸º**çº¯æ–‡æœ¬**å¯èƒ½æ˜¯è¿™äº›é€‰é¡¹ä¸­**æœ€ä¸å¯é **çš„ã€‚

1:50

ä½†æˆ‘è®¤ä¸º  **JSON** ï¼ˆæˆ‘è¿™é‡Œå±•ç¤ºçš„ï¼‰æˆ– **XML** éƒ½æ˜¯ **å¾ˆå¥½çš„é€‰é¡¹** ï¼Œå¯ç”¨äºè¦æ±‚ LLM **æ˜ç¡®åœ°**æ ¼å¼åŒ–è®¡åˆ’ã€‚

2:00

å°±æ˜¯è¿™æ ·ã€‚é€šè¿‡ä»¥ JSON æ ¼å¼è¾“å‡ºè®¡åˆ’ï¼Œæ‚¨å¯ä»¥**è§£æ**å®ƒï¼Œå¹¶è®©ä¸‹æ¸¸å·¥ä½œæµç¨‹ **æ›´ç³»ç»Ÿåœ°æ‰§è¡Œè®¡åˆ’çš„ä¸åŒæ­¥éª¤** ã€‚

2:05

ç°åœ¨ï¼Œå…³äºè®© LLM è¿›è¡Œè§„åˆ’ï¼Œäº‹å®è¯æ˜è¿˜æœ‰ä¸€ä¸ª **éå¸¸å·§å¦™çš„æ€è·¯** ï¼Œå¯ä»¥è®© LLM è¾“å‡º**éå¸¸å¤æ‚çš„è®¡åˆ’**å¹¶ **å¯é åœ°æ‰§è¡Œ** ï¼Œé‚£å°±æ˜¯ **è®©å®ƒä»¬ç¼–å†™ä»£ç ** ï¼Œå¹¶ **ç”¨ä»£ç æ¥è¡¨è¾¾è®¡åˆ’** ã€‚

2:20

è®©æˆ‘ä»¬åœ¨ä¸‹ä¸€ä¸ªè§†é¢‘ä¸­çœ‹çœ‹è¿™ä¸ªã€‚

3. ## **Planning with code execution** â€”â€” ç»“åˆä»£ç æ‰§è¡Œçš„è§„åˆ’

**ä½¿ç”¨ä»£ç æ‰§è¡Œè¿›è¡Œè§„åˆ’**çš„æƒ³æ³•æ˜¯ï¼šä¸å…¶è¦æ±‚ LLM è¾“å‡ºä¸€ä¸ª**ä¾‹å¦‚ ****JSON**** æ ¼å¼**çš„è®¡åˆ’å¹¶ **ä¸€æ­¥æ­¥æ‰§è¡Œ** ï¼Œä¸ºä»€ä¹ˆä¸è®© LLM ç›´æ¥å°è¯• **ç¼–å†™ä»£ç ** ï¼Œ

0:06

è¿™æ®µä»£ç å¯ä»¥ **æ•è·è®¡åˆ’çš„å¤šä¸ªæ­¥éª¤** ï¼Œæ¯”å¦‚è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œç„¶åè°ƒç”¨é‚£ä¸ªå‡½æ•°ï¼Œå†è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ã€‚é€šè¿‡ **æ‰§è¡Œ LLM ç”Ÿæˆçš„ä»£ç ** ï¼Œæˆ‘ä»¬å®é™…ä¸Šå¯ä»¥æ‰§è¡Œ **ç›¸å½“å¤æ‚çš„è®¡åˆ’** ã€‚

0:12

è®©æˆ‘ä»¬çœ‹çœ‹**ä½•æ—¶**æ‚¨å¯èƒ½æƒ³è¦ä½¿ç”¨è¿™é¡¹æŠ€æœ¯ã€‚

0:22

å‡è®¾æ‚¨æƒ³è¦æ„å»ºä¸€ä¸ªç³»ç»Ÿï¼Œæ ¹æ®ä¸€ä¸ªåŒ…å«**å…ˆå‰é”€å”®æ•°æ®**çš„ç”µå­è¡¨æ ¼ï¼ˆå¦‚å³å›¾æ‰€ç¤ºï¼‰ï¼Œæ¥å›ç­”æœ‰å…³**å’–å•¡æœºé”€å”®**çš„é—®é¢˜ã€‚

0:27

æ‚¨å¯èƒ½ä¼šç»™ LLM ä¸€å¥—åƒè¿™æ ·çš„ **å·¥å…·** ï¼š`è·å–åˆ—æœ€å¤§å€¼`ï¼ˆæŸ¥çœ‹æŸä¸€åˆ—å¹¶è·å–æœ€å¤§å€¼ï¼Œä¾‹å¦‚å›ç­”â€œæœ€è´µçš„å’–å•¡æ˜¯ä»€ä¹ˆâ€ï¼‰ï¼Œ`è·å–åˆ—å¹³å‡å€¼`ï¼Œ`è¿‡æ»¤è¡Œ`ï¼Œ`è·å–åˆ—æœ€å°å€¼`ï¼Œ`è·å–åˆ—ä¸­ä½æ•°`ï¼Œ`å¯¹è¡Œæ±‚å’Œ`ç­‰ç­‰ã€‚

0:33

è¿™äº›æ˜¯æ‚¨å¯ä»¥èµ‹äºˆ LLM çš„ä¸€ç³»åˆ—å·¥å…·çš„ä¾‹å­ï¼Œç”¨äºä»¥**ä¸åŒçš„æ–¹å¼å¤„ç†**è¿™ä¸ªç”µå­è¡¨æ ¼æˆ–è¿™äº›è¡Œå’Œåˆ—çš„æ•°æ®ã€‚

0:50

ç°åœ¨ï¼Œå¦‚æœç”¨æˆ·é—®ï¼šâ€œ **å“ªä¸ªæœˆä»½çƒ­å·§å…‹åŠ›çš„é”€é‡æœ€é«˜ï¼Ÿ** â€

1:00

äº‹å®è¯æ˜ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›å·¥å…·å›ç­”è¿™ä¸ªæŸ¥è¯¢ï¼Œä½†å®ƒ **éå¸¸å¤æ‚** ã€‚

1:06

æ‚¨å¿…é¡»ä½¿ç”¨**â€œè¿‡æ»¤è¡Œâ€**æ¥æå–ä¸€æœˆä»½çƒ­å·§å…‹åŠ›çš„äº¤æ˜“ï¼Œç„¶åå¯¹å…¶è¿›è¡Œç»Ÿè®¡ï¼Œå†é‡å¤äºŒæœˆä»½çš„ï¼Œå¯¹å…¶è¿›è¡Œç»Ÿè®¡ï¼Œç„¶åé‡å¤ä¸‰æœˆã€å››æœˆã€äº”æœˆï¼Œä¸€ç›´åˆ°åäºŒæœˆï¼Œç„¶åå†å–**æœ€å¤§å€¼**ã€‚

1:11

å› æ­¤ï¼Œæ‚¨å®é™…ä¸Šå¯ä»¥ä½¿ç”¨è¿™äº›å·¥å…·å°†å…¶ä¸²è”æˆä¸€ä¸ª **ç›¸å½“å¤æ‚çš„è¿‡ç¨‹** ï¼Œä½†è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆã€‚

1:24

ä½†æ›´ç³Ÿçš„æ˜¯ï¼Œå¦‚æœæœ‰äººé—®ï¼šâ€œ **ä¸Šå‘¨æœ‰å¤šå°‘ç‹¬ç‰¹çš„äº¤æ˜“ï¼Ÿ** â€ é‚£ä¹ˆ**è¿™äº›å·¥å…·æ˜¯ä¸è¶³ä»¥**å¾—åˆ°ç­”æ¡ˆçš„ã€‚

1:28

å› æ­¤ï¼Œæ‚¨å¯èƒ½æœ€ç»ˆä¼šåˆ›å»ºä¸€ä¸ª **æ–°çš„å·¥å…·** ï¼Œä¾‹å¦‚ `è·å–å”¯ä¸€æ¡ç›®`ï¼›æˆ–è€…æ‚¨å¯èƒ½ä¼šé‡åˆ°å¦ä¸€ä¸ªæŸ¥è¯¢ï¼šâ€œ **æœ€è¿‘äº”ç¬”äº¤æ˜“çš„é‡‘é¢æ˜¯å¤šå°‘ï¼Ÿ** â€ é‚£ä¹ˆæ‚¨åˆä¸å¾—ä¸åˆ›å»º**å¦ä¸€ä¸ªå·¥å…·**æ¥è·å–æ•°æ®ä»¥å›ç­”è¯¥æŸ¥è¯¢ã€‚

1:35

åœ¨å®è·µä¸­ï¼Œæˆ‘è§è¿‡ä¸€äº›å›¢é˜Ÿï¼Œéšç€é‡åˆ°çš„æŸ¥è¯¢è¶Šæ¥è¶Šå¤šï¼Œæœ€ç»ˆä¸å¾—ä¸ **åˆ›å»ºè¶Šæ¥è¶Šå¤šã€è¶Šæ¥è¶Šå¤šçš„å·¥å…·** ï¼Œè¯•å›¾ä¸º LLM æä¾›**è¶³å¤Ÿçš„å·¥å…·**æ¥æ¶µç›–äººä»¬å¯èƒ½é—®åŠè¿™ç±»æ•°æ®é›†çš„æ‰€æœ‰èŒƒå›´ã€‚

1:49

æ‰€ä»¥ï¼Œè¿™ç§æ–¹æ³• **è„†å¼±ã€æ•ˆç‡ä½ä¸‹** ï¼Œæˆ‘è§è¿‡å›¢é˜Ÿä¸æ–­åœ°å¤„ç†**è¾¹ç¼˜æƒ…å†µ**å¹¶å°è¯•åˆ›å»ºæ›´å¤šå·¥å…·ã€‚ä½†äº‹å®è¯æ˜ï¼Œæœ‰ä¸€ä¸ª **æ›´å¥½çš„æ–¹æ³•** ï¼Œ

2:06

é‚£å°±æ˜¯æ‚¨å¯ä»¥æç¤º LLM è¯´ï¼šâ€œè¯·**ç¼–å†™ä»£ç **æ¥è§£å†³ç”¨æˆ·çš„æŸ¥è¯¢ï¼Œå¹¶ä»¥ **Python ä»£ç **è¿”å›æ‚¨çš„ç­”æ¡ˆï¼Œå¯èƒ½ç”¨è¿™äº›å¼€å§‹å’Œç»“æŸçš„ `execute_python` XML æ ‡ç­¾æ¥åˆ†éš”ã€‚â€

2:13

ç„¶å LLM å°±å¯ä»¥ **ç¼–å†™ä»£ç ** ï¼Œå°†ç”µå­è¡¨æ ¼åŠ è½½åˆ°ä¸€ä¸ª**æ•°æ®å¤„ç†åº“**ä¸­ï¼ˆè¿™é‡Œå®ƒä½¿ç”¨çš„æ˜¯ **Pandas** ** åº“** ï¼‰ï¼Œç„¶åå®ƒå®é™…ä¸Šæ˜¯åœ¨ **æå‡ºä¸€ä¸ªè®¡åˆ’** ã€‚

2:26

è®¡åˆ’æ˜¯ï¼šåœ¨åŠ è½½ CSV åï¼Œé¦–å…ˆå¿…é¡»ç¡®ä¿ **æ—¥æœŸåˆ—ä»¥æŸç§æ–¹å¼è§£æ** ï¼Œç„¶å **æŒ‰æ—¥æœŸæ’åº** ï¼Œ **é€‰æ‹©æœ€è¿‘äº”ç¬”äº¤æ˜“** ï¼Œ**åªæ˜¾ç¤ºä»·æ ¼åˆ—**ç­‰ç­‰ã€‚

2:38

è¿™äº›å°±æ˜¯è®¡åˆ’ä¸­çš„ç¬¬ä¸€ã€äºŒã€ä¸‰ã€å››ã€äº”æ­¥ã€‚

2:49

å› ä¸ºåƒ Python è¿™æ ·çš„ç¼–ç¨‹è¯­è¨€ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿˜å¯¼å…¥äº† **Pandas** ** æ•°æ®å¤„ç†åº“** ï¼‰ï¼Œå®ƒæ‹¥æœ‰è®¸å¤š **å†…ç½®å‡½æ•°** ï¼Œ **æ•°ç™¾ç”šè‡³æ•°åƒä¸ªå‡½æ•°** ï¼Œè€Œä¸” LLM å·²ç»çœ‹åˆ°äº†**å¤§é‡å…³äºä½•æ—¶è°ƒç”¨è¿™äº›æ•°æ®çš„** **è®­ç»ƒæ•°æ®** ã€‚

2:55

é€šè¿‡è®©æ‚¨çš„ LLM  **ç¼–å†™ä»£ç ** ï¼Œå®ƒå¯ä»¥ä»è¿™**æ•°ç™¾æˆ–æ•°åƒä¸ªç›¸å…³å‡½æ•°**ä¸­è¿›è¡Œé€‰æ‹©ï¼Œè€Œå®ƒå·²ç»çœ‹åˆ°äº†å¤§é‡å…³äºä½•æ—¶ä½¿ç”¨å®ƒä»¬çš„æ•°æ®ã€‚å› æ­¤ï¼Œè¿™ä½¿å¾—å®ƒèƒ½å¤Ÿå°†æ¥è‡ªè¿™ä¸ª**éå¸¸å¤§çš„åº“**çš„**ä¸åŒå‡½æ•°é€‰æ‹©**ä¸²è”èµ·æ¥ï¼Œä»è€Œæå‡ºä¸€ä¸ª **å›ç­”ç›¸å½“å¤æ‚æŸ¥è¯¢çš„è®¡åˆ’** ã€‚

3:10

å†ä¸¾ä¸€ä¸ªä¾‹å­ã€‚å¦‚æœæœ‰äººé—®ï¼šâ€œ **ä¸Šå‘¨æœ‰å¤šå°‘ç‹¬ç‰¹çš„äº¤æ˜“ï¼Ÿ** â€

3:18

æ‚¨å¯ä»¥æƒ³å‡ºä¸€ä¸ªè®¡åˆ’ï¼š**è¯»å– ****CSV** ** æ–‡ä»¶** ï¼Œ **è§£ææ—¥æœŸåˆ—** ï¼Œ **å®šä¹‰æ—¶é—´çª—å£** ï¼Œ **è¿‡æ»¤è¡Œ** ï¼Œ **åˆ é™¤é‡å¤è¡Œ** ï¼Œç„¶å **è®¡æ•°** ã€‚

3:24

è¿™äº›ç»†èŠ‚å¹¶ä¸é‡è¦ï¼Œä½†å¸Œæœ›æ‚¨èƒ½çœ‹åˆ°ï¼ˆå¦‚æœæ‚¨é˜…è¯»è¿™é‡Œçš„æ³¨é‡Šï¼‰ï¼ŒLLM å¤§è‡´æå‡ºäº†ä¸€ä¸ª **å››æ­¥è®¡åˆ’** ï¼Œå¹¶ä»¥**æ‚¨å¯ä»¥ç›´æ¥æ‰§è¡Œçš„ä»£ç **è¡¨è¾¾äº†æ¯ä¸€æ­¥ï¼Œè¿™å°†ä¸ºç”¨æˆ·è·å¾—ç­”æ¡ˆã€‚

3:32

å› æ­¤ï¼Œå¯¹äº**ä»»åŠ¡å¯ä»¥åˆç†åœ°é€šè¿‡ç¼–å†™ä»£ç æ¥å®Œæˆ**çš„åº”ç”¨ï¼Œè®© LLM ä»¥**æ‚¨å¯ä»¥ç›´æ¥æ‰§è¡Œçš„è½¯ä»¶ä»£ç **æ¥è¡¨è¾¾å…¶è®¡åˆ’ï¼Œå¯ä»¥æ˜¯ä¸€ç§**éå¸¸æœ‰åŠ›çš„**æ–¹å¼ï¼Œè®©å®ƒç¼–å†™ **ä¸°å¯Œçš„è®¡åˆ’** ã€‚

3:43

å½“ç„¶ï¼Œæˆ‘æ›¾åœ¨å·¥å…·ä½¿ç”¨å•å…ƒä¸­æåˆ°çš„**æ³¨æ„äº‹é¡¹**ä¹Ÿé€‚ç”¨ï¼šè€ƒè™‘æ‚¨æ˜¯å¦éœ€è¦ä¸€ä¸ª**å®‰å…¨** **æ‰§è¡Œç¯å¢ƒ** ï¼Œæ¯”å¦‚**æ²™ç®±**æ¥è¿è¡Œä»£ç ã€‚å°½ç®¡æˆ‘çŸ¥é“å³ä½¿å¯èƒ½ä¸æ˜¯æœ€ä½³å®è·µï¼Œæˆ‘ä»ç„¶çŸ¥é“å¾ˆå¤šå¼€å‘äººå‘˜å¹¶ **ä¸ä½¿ç”¨æ²™ç®±** ã€‚

4:01

æœ€åï¼Œäº‹å®è¯æ˜ **ä½¿ç”¨ä»£ç è¿›è¡Œè§„åˆ’æ•ˆæœå¾ˆå¥½** ã€‚

4:05

ä»è¿™å¼ æ”¹ç¼–è‡ª Xinyao Wang ç­‰äººç ”ç©¶è®ºæ–‡çš„å›¾è¡¨ä¸­ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºä»–ä»¬æ£€æŸ¥çš„**è®¸å¤šä¸åŒæ¨¡å‹**çš„ä»»åŠ¡ï¼Œ **ä»£ç ä½œä¸ºè¡ŒåŠ¨ (Code as Action)** ï¼ˆå…¶ä¸­ LLM è¢«é‚€è¯·ç¼–å†™ä»£ç å¹¶é€šè¿‡ä»£ç é‡‡å–è¡ŒåŠ¨ï¼‰**ä¼˜äº**è®©å®ƒç¼–å†™ JSON ç„¶åå°† JSON è½¬æ¢æˆè¡ŒåŠ¨æˆ–æ–‡æœ¬ã€‚

4:25

æ‚¨è¿˜ä¼šçœ‹åˆ°ä¸€ä¸ªè¶‹åŠ¿ï¼š**ç¼–å†™ä»£ç **çš„è¡¨ç°**ä¼˜äº**è®© LLM ä»¥ JSON ç¼–å†™è®¡åˆ’ï¼Œè€Œ**ä»¥ JSON ç¼–å†™è®¡åˆ’**ä¹Ÿæ¯”**ä»…ç”¨çº¯æ–‡æœ¬ç¼–å†™è®¡åˆ’**è¦å¥½ä¸€äº›ã€‚

4:32

å½“ç„¶ï¼Œæœ‰äº›åº”ç”¨æ‚¨å¯èƒ½å¸Œæœ›å°†æ‚¨çš„**å®šåˆ¶å·¥å…·**äº¤ç»™ LLM ä½¿ç”¨ï¼Œæ‰€ä»¥ **ç¼–å†™ä»£ç å¹¶éé€‚ç”¨äºæ¯ä¸€ä¸ªåº”ç”¨** ã€‚ä½†å½“å®ƒé€‚ç”¨æ—¶ï¼Œå®ƒå¯ä»¥æ˜¯ LLM è¡¨è¾¾è®¡åˆ’çš„ **ä¸€ç§éå¸¸å¼ºå¤§çš„æ–¹å¼** ã€‚

4:40

è¿™ç»“æŸäº†å…³äº**è§„åˆ’**çš„éƒ¨åˆ†ã€‚å¦‚ä»Šï¼Œ**è§„åˆ’å¼ä»£ç† ****AI**** æœ€å¼ºå¤§çš„ç”¨é€”ä¹‹ä¸€**æ˜¯**é«˜åº¦ä»£ç†åŒ–çš„è½¯ä»¶** **ç¼–ç å™¨** ã€‚

4:46

äº‹å®è¯æ˜ï¼Œå¦‚æœæ‚¨è¦æ±‚å…¶ä¸­ä¸€ä¸ª**é«˜åº¦ä»£ç†åŒ–çš„è½¯ä»¶ç¼–ç è¾…åŠ©å·¥å…·**ä¸ºæ‚¨ç¼–å†™ä¸€æ®µ **å¤æ‚çš„è½¯ä»¶** ï¼Œå®ƒå¯èƒ½ä¼šæƒ³å‡ºä¸€ä¸ª **è¯¦ç»†çš„è®¡åˆ’** ï¼šå…ˆæ„å»ºè½¯ä»¶çš„è¿™ä¸ªç»„ä»¶ï¼Œç„¶åæ„å»ºç¬¬äºŒä¸ªç»„ä»¶ï¼Œæ„å»ºç¬¬ä¸‰ä¸ªï¼Œç”šè‡³å¯èƒ½è®¡åˆ’ **åœ¨è¿›è¡Œè¿‡ç¨‹ä¸­æµ‹è¯•ç»„ä»¶** ã€‚ç„¶åå®ƒä¼šå½¢æˆä¸€ä¸ª **æ¸…å•** ï¼Œå¹¶ **é€ä¸€æ‰§è¡Œ** ã€‚

5:00

å› æ­¤ï¼Œå®ƒåœ¨æ„å»º**æ—¥ç›Šå¤æ‚çš„è½¯ä»¶**æ–¹é¢ç¡®å®è¿è¡Œå¾—éå¸¸å¥½ã€‚å¯¹äº **å…¶ä»–åº”ç”¨** ï¼Œæˆ‘è®¤ä¸ºè§„åˆ’çš„ä½¿ç”¨ **ä»åœ¨å‘å±•å’Œå®Œå–„ä¸­** ã€‚

5:08

è§„åˆ’çš„**ç¼ºç‚¹ä¹‹ä¸€**æ˜¯ï¼Œå› ä¸ºå¼€å‘äººå‘˜ **æ²¡æœ‰å‘Šè¯‰ç³»ç»Ÿå…·ä½“è¯¥åšä»€ä¹ˆ** ï¼Œæ‰€ä»¥ **æ§åˆ¶èµ·æ¥æœ‰ç‚¹å›°éš¾** ï¼Œè€Œä¸”æ‚¨**æ— æ³•äº‹å…ˆçŸ¥é“**è¿è¡Œæ—¶ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ä½† **æ”¾å¼ƒä¸€äº›æ§åˆ¶æƒ** ï¼Œç¡®å® **æ˜¾è‘—å¢åŠ äº†æ¨¡å‹å¯èƒ½å†³å®šå°è¯•çš„äº‹ç‰©èŒƒå›´** ã€‚

5:14

å› æ­¤ï¼Œè¿™é¡¹é‡è¦çš„æŠ€æœ¯ **å¤„äºå‰æ²¿** ï¼Œ**åœ¨ä»£ç†å¼ç¼–ç ä¹‹å¤–**æ„Ÿè§‰ **å°šæœªå®Œå…¨æˆç†Ÿ** ï¼ˆå°½ç®¡å®ƒè¿è¡Œè‰¯å¥½ï¼Œä½†è‚¯å®šè¿˜æœ‰å¾ˆå¤§çš„æˆé•¿ç©ºé—´ï¼‰ã€‚ä½†æˆ‘å¸Œæœ›æ‚¨æœ‰ä¸€å¤©èƒ½åœ¨æ‚¨çš„ä¸€äº›åº”ç”¨ä¸­äº«å—åˆ°å®ƒçš„ä¹è¶£ã€‚

5:32

å…³äºè§„åˆ’çš„éƒ¨åˆ†åˆ°æ­¤ç»“æŸã€‚åœ¨æœ¬å•å…ƒä¸­ï¼Œæˆ‘å¸Œæœ›ä¸æ‚¨åˆ†äº« **æœ€åä¸€ä¸ªè®¾è®¡æ¨¡å¼** ï¼Œå³ **å¦‚ä½•æ„å»ºå¤šä»£ç†ç³»ç»Ÿ (Multi-Agent Systems)** ã€‚æˆ‘ä»¬ä¸å†åªæœ‰ä¸€ä¸ªä»£ç†ï¼Œè€Œæ˜¯**è®¸å¤šä»£ç†ååŒå·¥ä½œ**æ¥ä¸ºæ‚¨å®Œæˆä»»åŠ¡ã€‚

5:44

è®©æˆ‘ä»¬åœ¨ä¸‹ä¸€ä¸ªè§†é¢‘ä¸­çœ‹çœ‹è¿™ä¸ªã€‚

4. ## **ã€å®éªŒã€‘Ungraded Lab: ****Customer Service**** Agent** â€”â€” éè¯„åˆ†å®éªŒï¼šå®¢æœä»£ç†

ä»¥ä¸‹æ˜¯ M5 å®éªŒæŒ‡å—çš„ä¸­æ–‡ç¿»è¯‘ï¼š

### M5 æ™ºèƒ½ä½“ AI - å®¢æˆ·æœåŠ¡æ™ºèƒ½ä½“

1. ä»‹ç»

æ­£å¦‚ Andrew åœ¨è®²åº§ä¸­è§£é‡Šçš„ï¼Œ**é€šè¿‡ä»£ç æ‰§è¡Œè¿›è¡Œè§„åˆ’** (planning with code execution) æ„å‘³ç€è®© LLM  **ç¼–å†™ä»£ç ï¼Œè€Œè¿™äº›ä»£ç æœ¬èº«å°±æˆä¸ºäº†è§„åˆ’** ã€‚ä¸çº¯æ–‡æœ¬æˆ–åŸºäº JSON çš„è§„åˆ’ç›¸æ¯”ï¼Œè¿™ç§æ–¹æ³•æ›´å…·è¡¨ç°åŠ›å’Œçµæ´»æ€§ï¼šä»£ç ä¸ä»…è®°å½•äº†æ­¥éª¤ï¼Œè¿˜å¯ä»¥ç›´æ¥æ‰§è¡Œå®ƒä»¬ã€‚

åœ¨æœ¬å®éªŒä¸­ï¼Œä½ å°†äº²æ‰‹å®ç°è¿™ç§è®¾è®¡æ¨¡å¼ã€‚

æˆ‘ä»¬å°†ä¸å†è¦æ±‚ LLM ä»¥ JSON æ ¼å¼è¾“å‡ºè§„åˆ’ï¼Œç„¶åæ‰‹åŠ¨æ‰§è¡Œæ¯ä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯å…è®¸å®ƒ**ç¼–å†™ Python ä»£ç **æ¥ç›´æ¥æ•è·è§„åˆ’çš„å¤šä¸ªæ­¥éª¤ã€‚é€šè¿‡æ‰§è¡Œæ­¤ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªåŠ¨æ‰§è¡Œå¤æ‚çš„æŸ¥è¯¢ã€‚

ä¸ºäº†ä½¿äº‹æƒ…å…·ä½“åŒ–ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿäº†ä¸€ä¸ª **å¤ªé˜³é•œå•†åº—** ï¼Œå®ƒæœ‰ä¸€ä¸ªäº§å“**åº“å­˜**å’Œä¸€ç»„ **äº¤æ˜“** ï¼ˆé”€å”®ã€é€€è´§ã€ä½™é¢æ›´æ–°ï¼‰ã€‚è¿™ä¸ªä¾‹å­å±•ç¤ºäº† LLM å¦‚ä½•ç”Ÿæˆä»£ç æ¥æŸ¥è¯¢æˆ–æ›´æ–°è®°å½•ï¼Œè¯æ˜äº†è¿™ç§æ¨¡å¼çš„çµæ´»æ€§ã€‚

### 1.1 å®éªŒæ¦‚è¿°

æˆ‘ä»¬å°†ï¼š

* åˆ›å»ºç®€å•çš„**åº“å­˜**å’Œ**äº¤æ˜“**æ•°æ®é›†ã€‚
* æ„å»ºä¸€ä¸ªæè¿°æ•°æ®çš„**æ¨¡å¼å—** (schema block)ã€‚
* æç¤º LLM  **ä»¥ Python ä»£ç çš„å½¢å¼ç¼–å†™è§„åˆ’** ï¼ˆå¹¶é™„æœ‰è§£é‡Šæ¯ä¸ªæ­¥éª¤çš„æ³¨é‡Šï¼‰ã€‚
* åœ¨æ²™ç›’ (sandbox) ä¸­æ‰§è¡Œä»£ç ä»¥è·å–ç­”æ¡ˆã€‚

### 1.2 å­¦ä¹ æˆæœ

å®Œæˆæœ¬å®éªŒåï¼Œä½ å°†èƒ½å¤Ÿï¼š

* è§£é‡Š **ä¸ºä»€ä¹ˆè®©æ¨¡å‹ç¼–å†™ä»£ç ** ï¼ˆè€Œä¸æ˜¯ JSON æˆ–çº¯æ–‡æœ¬è§„åˆ’ï¼‰èƒ½å¤Ÿå®ç°æ›´ä¸°å¯Œã€æ›´çµæ´»çš„è§„åˆ’ã€‚
* **æç¤º (Prompt)** LLM ç”Ÿæˆå¸¦æœ‰åˆ†æ­¥æ³¨é‡Šçš„ Python ä»£ç ï¼Œè¿™äº›ä»£ç æ—¢èƒ½è®°å½•è§„åˆ’ä¹Ÿèƒ½æ‰§è¡Œè§„åˆ’ã€‚
* åœ¨æ²™ç›’ä¸­å®‰å…¨åœ°**è¿è¡Œ**ç”Ÿæˆçš„ä»£ç å¹¶è§£é‡Šç»“æœã€‚

è¿™è¯´æ˜äº†**â€œä»£ç å³è¡ŒåŠ¨â€ (Code as Action)** å¦‚ä½•èƒ½èƒœè¿‡è„†å¼±çš„å·¥å…·é“¾å’ŒåŸºäº JSON çš„è§„åˆ’æ–¹æ³•ã€‚

---

2. è®¾ç½®

```Plain
# ==== Imports ====from __future__ import annotations
import json
from dotenv import load_dotenv
from openai import OpenAI
import re, io, sys, traceback, json
from typing import Any, Dict, Optional
from tinydb import Query, where
 
# Utility modulesimport utils      # helper functions for prompting/printingimport inv_utils  # functions for inventory, transactions, schema building, and TinyDB seeding
 
load_dotenv()
client = OpenAI()
```

åœ¨ `inv_utils` æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹å‡½æ•°ï¼š

* `create_inventory()` â€“ æ„å»ºå¤ªé˜³é•œåº“å­˜ã€‚
* `create_transactions()` â€“ æ„å»ºåˆå§‹äº¤æ˜“æ—¥å¿—ã€‚
* `seed_db()` â€“ å°†åº“å­˜å’Œäº¤æ˜“åŠ è½½åˆ°ç”± JSON æ”¯æŒçš„å­˜å‚¨ä¸­ã€‚
* `build_schema_block()` â€“ ç”Ÿæˆç”¨äºæç¤ºä¸­çš„æ¨¡å¼æè¿°ã€‚
* è¾…åŠ©å‡½æ•°å¦‚ `get_current_balance()` å’Œ `next_transaction_id()` â€“ è®© LLM å¤„ç†è·¨åº“å­˜å’Œäº¤æ˜“çš„ä¸€è‡´æ›´æ–°ã€‚

### 2.1 åˆ›å»ºç¤ºä¾‹è¡¨

æˆ‘ä»¬ç°åœ¨å°†ä½¿ç”¨ **TinyDB** ä¸ºå¤ªé˜³é•œå•†åº—æ¨¡æ‹Ÿåˆ›å»ºä¸¤ä¸ªå°è¡¨ã€‚TinyDB æ˜¯ä¸€ä¸ªç”¨çº¯ Python ç¼–å†™çš„è½»é‡çº§é¢å‘æ–‡æ¡£çš„æ•°æ®åº“ã€‚

TinyDB å°†æ•°æ®å­˜å‚¨ä¸º JSON æ–‡æ¡£ï¼Œéå¸¸é€‚åˆå°å‹åº”ç”¨æˆ–åŸå‹ï¼Œå› ä¸ºå®ƒä¸éœ€è¦æœåŠ¡å™¨è®¾ç½®ï¼Œå¹¶å…è®¸ä½ è½»æ¾æŸ¥è¯¢å’Œæ›´æ–°æ•°æ®ã€‚

è¿™ä¸¤ä¸ªè¡¨æ˜¯ï¼š

* `inventory_tbl`: åŒ…å«äº§å“è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚åç§°ã€å•†å“ IDã€æè¿°ã€åº“å­˜æ•°é‡å’Œä»·æ ¼ã€‚
* `transactions_tbl`: ä»¥æœŸåˆä½™é¢å¼€å§‹ï¼Œç¨åå°†è·Ÿè¸ªè´­ä¹°ã€é€€è´§å’Œè°ƒæ•´ã€‚

ä½ å°†ä½¿ç”¨ `inv_utils` ä¸­çš„è¾…åŠ©å‡½æ•°ç”Ÿæˆè¿™äº›è¡¨ï¼Œç„¶ååœ¨ä¸‹é¢é¢„è§ˆå‰å‡ è¡Œã€‚

```Plain
db, inventory_tbl, transactions_tbl = inv_utils.seed_db()
```

ç°åœ¨ï¼Œä½ å¯ä»¥é€šè¿‡å°†è®°å½•æ‰“å°ä¸ºæ ¼å¼åŒ–çš„ JSON æ¥æ£€æŸ¥æ¯ä¸ªè¡¨ä¸­çš„è®°å½•ï¼š

```Plain
utils.print_html(json.dumps(inventory_tbl.all(), indent=2), title="Inventory Table")
utils.print_html(json.dumps(transactions_tbl.all(), indent=2), title="Transactions Table")
```

å¦‚ä¸Šæ‰€ç¤ºï¼Œæ¯ä¸ªè¡¨çš„æ¨¡å¼å¦‚ä¸‹ï¼š

**åº“å­˜è¡¨ (inventory_tbl)**

* `item_id` (string): å”¯ä¸€äº§å“æ ‡è¯†ç¬¦ (ä¾‹å¦‚, SG001)ã€‚
* `name` (string): å¤ªé˜³é•œæ¬¾å¼ (ä¾‹å¦‚, Aviator, Round)ã€‚
* `description` (string): äº§å“çš„æ–‡æœ¬æè¿°ã€‚
* `quantity_in_stock` (int): å½“å‰å¯ç”¨åº“å­˜ã€‚
* `price` (float): ç¾å…ƒä»·æ ¼ã€‚

**äº¤æ˜“è¡¨ (transactions_tbl)**

* `transaction_id` (string): å”¯ä¸€æ ‡è¯†ç¬¦ (ä¾‹å¦‚, TXN001)ã€‚
* `customer_name` (string): å®¢æˆ·åç§°ï¼Œæˆ– `OPENING_BALANCE` (æœŸåˆä½™é¢) ç”¨äºåˆå§‹æ¡ç›®ã€‚
* `transaction_summary` (string): äº¤æ˜“çš„ç®€çŸ­æè¿°ã€‚
* `transaction_amount` (float): æ­¤äº¤æ˜“çš„é‡‘é¢ã€‚
* `balance_after_transaction` (float): åº”ç”¨æ­¤äº¤æ˜“åçš„è¿è¡Œä½™é¢ã€‚
* `timestamp` (string): äº¤æ˜“çš„ ISO-8601 æ ¼å¼æ—¥æœŸ/æ—¶é—´ã€‚

---

## é€šè¿‡ä»£ç æ‰§è¡Œè¿›è¡Œè§„åˆ’

### 2.1. è§„åˆ’

ä¸€æ—¦æ¨¡å¼æ¸…æ™°ï¼Œä½ å°†æ„å»º **æç¤º (prompt)** ï¼ŒæŒ‡ç¤ºæ¨¡å‹ **é€šè¿‡ç¼–å†™ä»£ç æ¥è¿›è¡Œè§„åˆ’** ï¼Œç„¶åæ‰§è¡Œè¯¥ä»£ç ã€‚æ­£å¦‚ Andrew å¼ºè°ƒçš„ï¼Œ **ä»£ç å°±æ˜¯è§„åˆ’** ï¼šæ¨¡å‹åœ¨æ³¨é‡Šä¸­è§£é‡Šæ¯ä¸ªæ­¥éª¤ï¼Œç„¶åæ‰§è¡Œå®ƒã€‚ä¸‹é¢çš„æç¤ºè¿˜ä½¿æ¨¡å‹èƒ½å¤Ÿè‡ªè¡Œå†³å®šè¯·æ±‚æ˜¯åªè¯»çš„è¿˜æ˜¯çŠ¶æ€æ›´æ”¹ï¼Œå¹¶ä¸”å®ƒå¼ºåˆ¶æ‰§è¡Œå®‰å…¨æ‰§è¡Œï¼ˆæ—  I/Oï¼Œæ— ç½‘ç»œï¼Œä»…é™ TinyDB æŸ¥è¯¢ï¼Œä¸€è‡´çš„å¯å˜æ“ä½œï¼‰ã€‚

```Plain
PROMPT = """You are a senior data assistant. PLAN BY WRITING PYTHON CODE USING TINYDB.
 
Database Schema & Samples (read-only):
{schema_block}
 
Execution Environment (already imported/provided):
- Variables: db, inventory_tbl, transactions_tbl  # TinyDB Table objects
- Helpers: get_current_balance(tbl) -> float, next_transaction_id(tbl, prefix="TXN") -> str
- Natural language: user_request: str  # the original user message
 
PLANNING RULES (critical):
- Derive ALL filters/parameters from user_request (shape/keywords, price ranges "under/over/between", stock mentions,
  quantities, buy/return intent). Do NOT hard-code values.
- Build TinyDB queries dynamically with Query(). If a constraint isn't in user_request, don't apply it.
- Be conservative: if intent is ambiguous, do read-only (DRY RUN).
 
TRANSACTION POLICY (hard):
- Do NOT create aggregated multi-item transactions.
- If the request contains multiple items, create a separate transaction row PER ITEM.
- For each item:
  - compute its own line total (unit_price * qty),
  - insert ONE transaction with that amount,
  - update balance sequentially (balance += line_total),
  - update the itemâ€™s stock.
- If any requested item lacks sufficient stock, do NOT mutate anything; reply with STATUS="insufficient_stock".
 
HUMAN RESPONSE REQUIREMENT (hard):
- You MUST set a variable named `answer_text` (type str) with a short, customer-friendly sentence (1â€“2 lines).
- This sentence is the only user-facing message. No dataframes/JSON, no boilerplate disclaimers.
- If nothing matches, politely say so and offer a nearby alternative (closest style/price) or a next step.
 
ACTION POLICY:
- If the request clearly asks to change state (buy/purchase/return/restock/adjust):
    ACTION="mutate"; SHOULD_MUTATE=True; perform the change and write a matching transaction row.
  Otherwise:
    ACTION="read"; SHOULD_MUTATE=False; simulate and explain briefly as a dry run (in logs only).
 
FAILURE & EDGE-CASE HANDLING (must implement):
- Do not capture outer variables in Query.test. Pass them as explicit args.
- Always set a short `answer_text`. Also set a string `STATUS` to one of:
  "success", "no_match", "insufficient_stock", "invalid_request", "unsupported_intent".
- no_match: No items satisfy the filters â†’ suggest the closest in style/price, or invite a different range.
- insufficient_stock: Item found but stock < requested qty â†’ state available qty and offer the max you can fulfill.
- invalid_request: Unable to parse essential info (e.g., quantity for a purchase/return) â†’ ask for the missing piece succinctly.
- unsupported_intent: The action is outside the storeâ€™s capabilities â†’ provide the nearest supported alternative.
- In all cases, keep the tone helpful and concise (1â€“2 sentences). Put technical details (e.g., ACTION/DRY RUN) only in stdout logs.
 
OUTPUT CONTRACT:
- Return ONLY executable Python between these tags (no extra text):
  <execute_python>
  # your python
  </execute_python>
 
CODE CHECKLIST (follow in code):
1) Parse intent & constraints from user_request (regex ok).
2) Build TinyDB condition incrementally; query inventory_tbl.
3) If mutate: validate stock, update inventory, insert a transaction (new id, amount, balance, timestamp).
4) ALWAYS set:
   - `answer_text` (human sentence, required),
   - `STATUS` (see list above).
   Also print a brief log to stdout, e.g., "LOG: ACTION=read DRY_RUN=True STATUS=no_match".
5) Optional: set `answer_rows` or `answer_json` if useful, but `answer_text` is mandatory.
 
TONE EXAMPLES (for `answer_text`):
- success: "Yes, we have our Classic sunglasses, a round frame, for $60."
- no_match: "We donâ€™t have round frames under $100 in stock right now, but our Moon round frame is available at $120."
- insufficient_stock: "We only have 1 pair of Classic left; I can reserve that for you."
- invalid_request: "I can help with thatâ€”how many pairs would you like to purchase?"
- unsupported_intent: "We canâ€™t refurbish frames, but I can suggest similar new models."
 
Constraints:
- Use TinyDB Query for filtering. Standard library imports only if needed.
- Keep code clear and commented with numbered steps.
 
User request:
{question}
"""
```

### 2.2 ä»æç¤ºåˆ°ä»£ç ï¼ˆåœ¨ä»£ç ä¸­è§„åˆ’ï¼‰

è®©æˆ‘ä»¬ç”Ÿæˆ**å³ä¸ºè§„åˆ’**çš„ä»£ç ã€‚

ä¸å…¶è¦æ±‚æ¨¡å‹ä»¥ JSON æ ¼å¼è¾“å‡ºè§„åˆ’å¹¶ä½¿ç”¨è®¸å¤šå°å‹å·¥å…·é€æ­¥è¿è¡Œå®ƒï¼Œä¸å¦‚è®©å®ƒ **ç¼–å†™ Python ä»£ç æ¥ç¼–ç æ•´ä¸ªè§„åˆ’** ï¼ˆä¾‹å¦‚ï¼Œâ€œè¿‡æ»¤è¿™ä¸ªï¼Œç„¶åè®¡ç®—é‚£ä¸ªï¼Œç„¶åæ›´æ–°è¿™ä¸€è¡Œâ€ï¼‰ã€‚å‡½æ•° `generate_llm_code`ï¼š

* ä» `inventory_tbl` å’Œ `transactions_tbl`  **æ„å»ºå®æ—¶æ¨¡å¼** ï¼Œä»¥ä¾¿æ¨¡å‹çœ‹åˆ°çœŸå®çš„å­—æ®µã€ç±»å‹å’Œç¤ºä¾‹ã€‚
* ä½¿ç”¨è¯¥æ¨¡å¼å’Œç”¨æˆ·çš„é—®é¢˜ **æ ¼å¼åŒ–æç¤º** ã€‚
* **è°ƒç”¨æ¨¡å‹**ä»¥ç”Ÿæˆ**å¸¦ä»£ç çš„è§„åˆ’**å“åº”â€”â€”é€šå¸¸æ˜¯ä¸€ä¸ª `<execute_python>...</execute_python>` å—ï¼Œå…¶ä¸»ä½“åŒ…å«åˆ†æ­¥é€»è¾‘ã€‚
* **è¿”å›å®Œæ•´çš„å“åº”** ï¼ˆåŒ…æ‹¬è§„åˆ’å’Œä»£ç ï¼‰ã€‚

**æˆ‘ä»¬åœ¨æ­¤æ­¥éª¤ä¸­ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚**

**ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ç§æ¨¡å¼ï¼Ÿ** è®©æˆ‘ä»¬åˆ©ç”¨ Python/TinyDB ä½œä¸ºä¸€ä¸ªä¸°å¯Œçš„å·¥å…·ç®±ï¼Œæ¨¡å‹å·²ç»â€œäº†è§£â€å®ƒï¼Œå› æ­¤å®ƒå¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸­ç»„åˆå¤šæ­¥è§£å†³æ–¹æ¡ˆï¼Œè€Œä¸æ˜¯ä¾èµ–äºä¸€ç»„ä¸æ–­å¢é•¿çš„å®šåˆ¶å·¥å…·ã€‚æˆ‘ä»¬å°†åœ¨ç¨åçš„æ­¥éª¤ä¸­æå–å¹¶è¿è¡Œä»£ç ã€‚

```Plain
# ---------- 1) Code generation ----------def generate_llm_code(
    prompt: str,
    *,
    inventory_tbl,
    transactions_tbl,
    model: str = "gpt-4.1-mini",
    temperature: float = 0.2,
) -> str:"""
    Ask the LLM to produce a plan-with-code response.
    Returns the FULL assistant content (including surrounding text and tags).
    The actual code extraction happens later in execute_generated_code.
    """
    schema_block = inv_utils.build_schema_block(inventory_tbl, transactions_tbl)
    prompt = PROMPT.format(schema_block=schema_block, question=prompt)
 
    resp = client.chat.completions.create(
        model=model,
        temperature=temperature,
        messages=[
            {
                "role": "system",
                "content": "You write safe, well-commented TinyDB code to handle data questions and updates."
            },
            {"role": "user", "content": prompt},
        ],
    )
    content = resp.choices[0].message.content or ""return content
```

### 2.3 å°è¯•ä¸€ä¸ªç¤ºä¾‹æç¤ºï¼ˆåœ¨ä»£ç ä¸­è§„åˆ’ï¼‰

æˆ‘ä»¬å°†ä½¿ç”¨ Andrew åœ¨è®²åº§ä¸­ä½¿ç”¨çš„ç›¸åŒæç¤ºï¼š

**æç¤ºï¼š** â€œä½ ä»¬æœ‰ 100 ç¾å…ƒä»¥ä¸‹çš„åœ†å½¢å¤ªé˜³é•œåº“å­˜å—ï¼Ÿâ€

åœ¨ç”Ÿæˆä»»ä½•ä»£ç ä¹‹å‰ï¼Œè®©æˆ‘ä»¬æ‰‹åŠ¨æ£€æŸ¥ TinyDB è¡¨ï¼Œçœ‹çœ‹æ˜¯å¦çœŸçš„æœ‰**åœ†å½¢ (round)** é•œæ¡†ï¼ˆä»…é™å•è¯åŒ¹é…ï¼‰ä»¥åŠå®ƒä»¬çš„ä»·æ ¼ã€‚è¿è¡Œä¸‹ä¸€ä¸ªå•å…ƒæ ¼ä»¥é¢„è§ˆåº“å­˜å¹¶çªå‡ºæ˜¾ç¤ºä¸â€œroundâ€ä¸€è¯åŒ¹é…çš„å•†å“ã€‚

```Plain
Item = Query()                    # Create a Query object to reference fields (e.g., Item.name, Item.description)# Search the inventory table for documents where either the description OR the name# contains the word "round" (case-insensitive). The check is done inline:# - (v or "") ensures we handle None by converting it to an empty string# - .lower() normalizes case# - " round " enforces a crude word boundary (won't match "wraparound")
round_sunglasses = inventory_tbl.search(
    (Item.description.test(lambda v: " round " in ((v or "").lower()))) |
    (Item.name.test(        lambda v: " round " in ((v or "").lower())))
)
 
# Render the results as formatted JSON in the notebook UI
utils.print_html(json.dumps(round_sunglasses, indent=2), title="Inventory Status: Round Sunglasses")
```

å¤ªå¥½äº†â€”â€”æˆ‘ä»¬ç¡®å®æœ‰åœ†å½¢é•œæ¡†ã€‚ä»æˆ‘ä»¬çš„æ‰‹åŠ¨æ£€æŸ¥æ¥çœ‹ï¼Œæœ‰ä¸¤ç§åœ†å½¢æ¬¾å¼æœ‰åº“å­˜ï¼Œä½†åªæœ‰**ä¸€ç§**ä½äº 100 ç¾å…ƒã€‚å› æ­¤ï¼Œæ»¡è¶³è¦æ±‚çš„å•†å“æ˜¯ï¼š

```Plain
{
  "item_id": "SG005",
  "name": "Classic",
  "description": "Classic round profile with minimalist metal frames, offering a timeless and versatile style that fits both casual and formal wear.",
  "quantity_in_stock": 10,
  "price": 60
}
```

ç°åœ¨ï¼Œè®©æˆ‘ä»¬è¦æ±‚æ¨¡å‹**ç”Ÿæˆä¸€ä¸ªä»£ç è§„åˆ’**æ¥å›ç­” Andrew çš„æç¤ºï¼ˆå°šæœªæ‰§è¡Œï¼‰ã€‚

```Plain
# Andrew's prompt from the lecture
prompt_round = "Do you have any round sunglasses in stock that are under $100?"# Generate the plan-as-code (FULL content; may include <execute_python> tags)
full_content_round = generate_llm_code(
    prompt_round,
    inventory_tbl=inventory_tbl,
    transactions_tbl=transactions_tbl,
    model="o4-mini",
    temperature=1.0,
)
 
# Inspect the LLMâ€™s plan + code (no execution here)
utils.print_html(full_content_round, title="Plan with Code (Full Response)")
```

### 2.4. å®šä¹‰æ‰§è¡Œå™¨å‡½æ•°ï¼ˆè¿è¡Œç»™å®šè§„åˆ’ï¼‰

ç°åœ¨æˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒ **æ¥æ”¶æ¨¡å‹ç”Ÿæˆçš„è§„åˆ’å¹¶å®‰å…¨åœ°è¿è¡Œå®ƒ** ï¼š

* å®ƒ**æ¥å—**å®Œæ•´çš„ LLM å“åº”ï¼ˆå¸¦æœ‰ `<execute_python>â€¦</execute_python>`ï¼‰**æˆ–**åŸå§‹ Python ä»£ç ã€‚
* å®ƒåœ¨éœ€è¦æ—¶**æå–**å¯æ‰§è¡Œå—ã€‚
* å®ƒåœ¨**å—æ§çš„å‘½åç©ºé—´** (namespace) ä¸­è¿è¡Œä»£ç ï¼ˆä»…é™ TinyDB è¡¨ + å®‰å…¨çš„è¾…åŠ©å‡½æ•°ï¼‰ã€‚
* å®ƒæ•è·  **stdout** ã€**é”™è¯¯**ä»¥åŠæ¨¡å‹è®¾ç½®çš„ç­”æ¡ˆå˜é‡ï¼ˆ`answer_text`, `answer_rows`, `answer_json`ï¼‰ã€‚
* å®ƒå‘ˆç°**æ‰§è¡Œå‰/å**çš„è¡¨å¿«ç…§ï¼Œä»¥ä½¿å‰¯ä½œç”¨æ˜ç¡®ã€‚

è¿™æ˜¯å°†**â€œä»£ç å³è§„åˆ’â€** (plan-as-code) è½¬æ¢ä¸ºè¡ŒåŠ¨å’Œç®€æ´çš„é¢å‘ç”¨æˆ·ç­”æ¡ˆçš„â€œæ‰§è¡Œå™¨â€ã€‚

```Plain
# --- Helper: extract code between <execute_python>...</execute_python> ---def _extract_execute_block(text: str) -> str:"""
    Returns the Python code inside <execute_python>...</execute_python>.
    If no tags are found, assumes 'text' is already raw Python code.
    """if not text:
        raise RuntimeError("Empty content passed to code executor.")
    m = re.search(r"<execute_python>(.*?)</execute_python>", text, re.DOTALL | re.IGNORECASE)
    return m.group(1).strip() if m else text.strip()
 
 
# ---------- 2) Code execution ----------def execute_generated_code(
    code_or_content: str,
    *,
    db,
    inventory_tbl,
    transactions_tbl,
    user_request: Optional[str] = None,
) -> Dict[str, Any]:"""
    Execute code in a controlled namespace.
    Accepts either raw Python code OR full content with <execute_python> tags.
    Returns minimal artifacts: stdout, error, and extracted answer.
    """# Extract code here (now centralized)
    code = _extract_execute_block(code_or_content)
 
    SAFE_GLOBALS = {
        "Query": Query,
        "get_current_balance": inv_utils.get_current_balance,
        "next_transaction_id": inv_utils.next_transaction_id,
        "user_request": user_request or "",
    }
    SAFE_LOCALS = {
        "db": db,
        "inventory_tbl": inventory_tbl,
        "transactions_tbl": transactions_tbl,
    }
 
    # Capture stdout from the executed code
    _stdout_buf, _old_stdout = io.StringIO(), sys.stdout
    sys.stdout = _stdout_buf
    err_text = Nonetry:
        exec(code, SAFE_GLOBALS, SAFE_LOCALS)
    except Exception:
        err_text = traceback.format_exc()
    finally:
        sys.stdout = _old_stdout
    printed = _stdout_buf.getvalue().strip()
 
    # Extract possible answers set by the generated code
    answer = (
        SAFE_LOCALS.get("answer_text")
        or SAFE_LOCALS.get("answer_rows")
        or SAFE_LOCALS.get("answer_json")
    )
 
 
    return {
        "code": code,            # <- å·²ç»æ²¡æœ‰æ ‡ç­¾äº†"stdout": printed,
        "error": err_text,
        "answer": answer,
        "transactions_tbl": transactions_tbl.all(),  # For inspection"inventory_tbl": inventory_tbl.all(),  # For inspection
    }
```

ä½ å·²ç»æ£€æŸ¥äº†è´§æ¶ï¼Œç¡®è®¤åªæœ‰ä¸€æ¬¾ 100 ç¾å…ƒä»¥ä¸‹çš„åœ†å½¢å¤ªé˜³é•œã€‚ç°åœ¨æœ‰è¶£çš„éƒ¨åˆ†æ¥äº†ï¼šè®©æˆ‘ä»¬æŠŠæ¨¡å‹çš„â€œä»£ç å³è§„åˆ’â€äº¤ç»™æˆ‘ä»¬çš„æ‰§è¡Œå™¨ï¼Œçœ‹å®ƒå¦‚ä½•å·¥ä½œã€‚æ‰§è¡Œå™¨å°†å‰¥ç¦»å‡º `<execute_python>...</execute_python>` å—ï¼Œåœ¨ä¸€ä¸ªé”å®šçš„æ²™ç›’ä¸­è¿è¡Œå®ƒï¼Œç„¶åå‘ä½ å±•ç¤ºæ‰€æœ‰é‡è¦ä¿¡æ¯â€”â€”è¡¨ä¸­çš„å˜åŒ–ï¼ˆä¹‹å‰/ä¹‹åï¼‰ã€è§„åˆ’æ‰“å°çš„ä»»ä½•æ—¥å¿—ï¼Œä»¥åŠæœ€ç»ˆçš„ã€é¢å‘å®¢æˆ·çš„ `answer_text`ã€‚

```Plain
# Execute the generated plan for the round-sunglasses question
result = execute_generated_code(
    full_content_round,          # the full LLM response you generated earlier
    db=db,
    inventory_tbl=inventory_tbl,
    transactions_tbl=transactions_tbl,
    user_request=prompt_round, # e.g., "Do you have any round sunglasses in stock that are under $100?"
)
 
# Peek at exactly what Python the plan executed
utils.print_html(result["answer"], title="Plan Execution Â· Extracted Answer")
```

å¦‚ä½ æ‰€è§ï¼Œè¿™ä¸æˆ‘ä»¬ä¹‹å‰æ‰‹åŠ¨åˆ†æçš„é¢„æœŸç»“æœä¸€è‡´ã€‚

### 2.4 é€€å›ä¸¤å‰¯é£è¡Œå‘˜å¤ªé˜³é•œ

åœ¨ä¸Šä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬åª**æŸ¥è¯¢**äº†æ•°æ®ï¼Œå› æ­¤åº“å­˜å’Œäº¤æ˜“æ²¡æœ‰å˜åŒ–ã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨â€œåœ¨ä»£ç ä¸­è§„åˆ’â€çš„æ¨¡å¼å¤„ç†ä¸€ä¸ª**é€€è´§**åœºæ™¯ï¼š

**è¯·æ±‚ï¼š** â€œé€€å›æˆ‘ä¸Šå‘¨ä¹°çš„ 2 å‰¯é£è¡Œå‘˜å¤ªé˜³é•œã€‚â€

åœ¨ç”Ÿæˆè§„åˆ’ä¹‹å‰ï¼Œè®©æˆ‘ä»¬**æ£€æŸ¥å½“å‰åº“å­˜**ä¸­çš„ **Aviator (é£è¡Œå‘˜)** æ¨¡å‹ã€‚

```Plain
Item = Query()                    # Create a Query object to reference fields (e.g., Item.name, Item.description)# Query: fetch all inventory rows whose 'name' is exactly "Aviator".# Notes:# - This is a case-sensitive equality check. "aviator" won't match.# - If you need case-insensitive matching, consider a .test(...) or .matches(...) with re.I.
aviators = inventory_tbl.search(
    (Item.name == "Aviator")
)
 
# Display the matched documents in a readable JSON panel
utils.print_html(json.dumps(aviators, indent=2), title="Inventory status: Aviator sunglasses before return")
```

åº“å­˜ç¡®è®¤æœ‰ä¸€æ¬¾ Aviator SKU åœ¨åº“â€”â€” **SG001 (Aviator)** ï¼š**23** ä»¶ï¼Œæ¯ä»¶  **$80** ã€‚ç°åœ¨è®©æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªè§„åˆ’æ¥å›ç­”è¿™ä¸ªæç¤ºï¼š

```Plain
prompt_aviator = "Return 2 Aviator sunglasses I bought last week."# Generate the plan-as-code (FULL content; may include <execute_python> tags)
full_content_aviator = generate_llm_code(
    prompt_aviator,
    inventory_tbl=inventory_tbl,
    transactions_tbl=transactions_tbl,
    model="o4-mini",
    temperature=1,
)
 
# Inspect the LLMâ€™s plan + code (no execution here)
utils.print_html(full_content_aviator, title="Plan with Code (Full Response)")
```

åœ¨æˆ‘ä»¬æ‰§è¡Œè§„åˆ’ä¹‹å‰ï¼Œè®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹äº¤æ˜“çš„å½“å‰çŠ¶æ€ã€‚

```Plain
utils.print_html(json.dumps(transactions_tbl.all(), indent=2), title="Transactions Table Before Return")
```

äº¤æ˜“æ—¥å¿—ç›®å‰æ˜¾ç¤ºä¸€ä¸ªæ¡ç›®â€”â€”**$500.00** çš„æœŸåˆä½™é¢ (TXN001)ï¼Œè®°å½•äº `2025-10-03T09:16:59.628898`ã€‚

å‡†å¤‡å°±ç»ªâ€”â€”è¿è¡Œä¸‹é¢çš„å•å…ƒæ ¼æ¥æ‰§è¡Œè§„åˆ’ã€‚

```Plain
# Execute the generated plan for the round-sunglasses question
result = execute_generated_code(
    full_content_aviator,          # the full LLM response you generated earlier
    db=db,
    inventory_tbl=inventory_tbl,
    transactions_tbl=transactions_tbl,
    user_request=prompt_aviator, # e.g., "Return 2 aviator sunglasses I bought last week."
)
 
# Peek at exactly what Python the plan executed
utils.print_html(result["answer"], title="Plan Execution Â· Extracted Answer")
```

ä½ å¯ä»¥åœ¨ä¸‹é¢çœ‹åˆ°ï¼Œå·²ç»ä¸º Aviator å¤ªé˜³é•œçš„é€€è´§æ’å…¥äº†ä¸€ä¸ªæ–°çš„äº¤æ˜“ã€‚

```Plain
utils.print_html(json.dumps(transactions_tbl.all(), indent=2), title="Transactions Table After Return")
```

é€šè¿‡è¿è¡Œä¸‹é¢çš„å•å…ƒæ ¼ï¼Œä½ ä¼šçœ‹åˆ° Aviator åº“å­˜å¢åŠ åˆ° 25 (quantity_in_stock)ã€‚

```Plain
Item = Query()                
 
aviators = inventory_tbl.search(
    (Item.name == "Aviator")
)
 
utils.print_html(json.dumps(aviators, indent=2), title="Inventory status: Aviator sunglasses after return")
```

---

3. æ•´åˆï¼šå®¢æˆ·æœåŠ¡æ™ºèƒ½ä½“

ä½ å·²ç»æ„å»ºäº†å„ä¸ªéƒ¨åˆ†â€”â€”æ¨¡å¼ã€æç¤ºã€ä»£ç ç”Ÿæˆå™¨å’Œæ‰§è¡Œå™¨ã€‚ç°åœ¨è®©æˆ‘ä»¬å°†å®ƒä»¬è¿æ¥æˆä¸€ä¸ªå•ä¸€çš„è¾…åŠ©å‡½æ•°ï¼Œå®ƒæ¥æ”¶è‡ªç„¶è¯­è¨€è¯·æ±‚ï¼Œç”Ÿæˆâ€œä»£ç å³è§„åˆ’â€ï¼Œå®‰å…¨åœ°æ‰§è¡Œå®ƒï¼Œå¹¶æ˜¾ç¤ºç»“æœï¼ˆä»¥åŠæ‰§è¡Œå‰åçš„è¡¨ï¼‰ã€‚

### è¿™ä¸ªæ™ºèƒ½ä½“åšä»€ä¹ˆ

* å¯é€‰åœ°é‡æ–°æ’­ç§ (reseed) æ¼”ç¤ºæ•°æ®ä»¥è¿›è¡Œå¹²å‡€çš„è¿è¡Œã€‚
* ç”Ÿæˆè§„åˆ’ï¼ˆ`<execute_python>â€¦</execute_python>` ä¸­çš„ Pythonï¼‰ã€‚
* åœ¨å—æ§çš„å‘½åç©ºé—´ï¼ˆTinyDB + è¾…åŠ©å‡½æ•°ï¼‰ä¸­æ‰§è¡Œè§„åˆ’ã€‚
* å‘ˆç°ç®€æ´çš„ `answer_text` å¹¶æ¸²æŸ“æ‰§è¡Œå‰/åçš„å¿«ç…§ã€‚

```Plain
def customer_service_agent(
    question: str,
    *,
    db,
    inventory_tbl,
    transactions_tbl,
    model: str = "o4-mini",
    temperature: float = 1.0,
    reseed: bool = False,
) -> dict:"""
    End-to-end helper:
      1) (Optional) reseed inventory & transactions
      2) Generate plan-as-code from `question`
      3) Execute in a controlled namespace
      4) Render before/after snapshots and return artifacts
 
    Returns:
      {
        "full_content": <raw LLM response (may include <execute_python> tags)>,
        "exec": {
            "code": <extracted python>,
            "stdout": <plan logs>,
            "error": <traceback or None>,
            "answer": <answer_text/rows/json>,
            "inventory_after": [...],
            "transactions_after": [...]
        }
      }
    """# 0) Optional reseedif reseed:
        # Note: These utils functions likely need to modify the tables in-place# or return new ones. Assuming they modify the passed-in tables.
        inv_utils.seed_db(db=db, inventory_tbl=inventory_tbl, transactions_tbl=transactions_tbl, force_reseed=True)
 
    # 1) Show the question
    utils.print_html(question, title="User Question")
 
    # 2) Generate plan-as-code (FULL content)
    full_content = generate_llm_code(
        question,
        inventory_tbl=inventory_tbl,
        transactions_tbl=transactions_tbl,
        model=model,
        temperature=temperature,
    )
    utils.print_html(full_content, title="Plan with Code (Full Response)")
 
    # 3) Before snapshots
    inv_before = inventory_tbl.all()
    trx_before = transactions_tbl.all()
    utils.print_html(json.dumps(inv_before, indent=2), title="Inventory Table Â· Before")
    utils.print_html(json.dumps(trx_before, indent=2), title="Transactions Table Â· Before")
 
    # 4) Execute
    exec_res = execute_generated_code(
        full_content,
        db=db,
        inventory_tbl=inventory_tbl,
        transactions_tbl=transactions_tbl,
        user_request=question,
    )
 
    # 5) After snapshots + final answer
    inv_after = inventory_tbl.all()
    trx_after = transactions_tbl.all()
    utils.print_html(exec_res["answer"], title="Plan Execution Â· Extracted Answer")
    utils.print_html(json.dumps(inv_after, indent=2), title="Inventory Table Â· After")
    utils.print_html(json.dumps(trx_after, indent=2), title="Transactions Table Â· After")
 
    # 6) Return artifactsreturn {
        "full_content": full_content,
        "exec": {
            "code": exec_res["code"],
            "stdout": exec_res["stdout"],
            "error": exec_res["error"],
            "answer": exec_res["answer"],
            "inventory_after": inv_after,
            "transactions_after": trx_after,
        },
    }
```

*(è¯‘è€…æ³¨ï¼šä¸Šè¿°ä»£ç å—ä¸­çš„ **`customer_service_agent`** å‡½æ•°å®ç°å·²æ ¹æ®ä¸Šä¸‹æ–‡è¿›è¡Œäº†è°ƒæ•´ï¼Œä»¥æ­£ç¡®åæ˜  **`reseed`** é€»è¾‘ã€‚åŸå§‹ **Markdown** ä¸­çš„ **`inv_utils.create_inventory()`** å’Œ **`inv_utils.create_transactions()`** å¯èƒ½æ— æ³•æŒ‰é¢„æœŸå·¥ä½œï¼Œå› ä¸º **`seed_db`** ä¼¼ä¹æ˜¯è¿”å›è¡¨å®ä¾‹çš„å‡½æ•°ã€‚ä¸ºäº†ä¸ **`execute_generated_code`** ä¸€è‡´ï¼Œå‡è®¾è¡¨å¯¹è±¡æ˜¯å¯å˜çš„æˆ–è¢«æ­£ç¡®åœ°é‡æ–°æ’­ç§ã€‚)*

---

4. è¯•ä¸€è¯•ï¼ˆä½¿ç”¨å®¢æˆ·æœåŠ¡æ™ºèƒ½ä½“ï¼‰

ä½¿ç”¨ `customer_service_agent(...)` è¾…åŠ©å‡½æ•°ï¼Œå®ç°ä»è‡ªç„¶è¯­è¨€è¯·æ±‚ â†’ ä»£ç å³è§„åˆ’ â†’ å®‰å…¨æ‰§è¡Œ â†’ æ‰§è¡Œå‰/åå¿«ç…§çš„å®Œæ•´æµç¨‹ã€‚

è¯•è¯•è¿™äº›æç¤ºï¼š

1. åªè¯» (Andrew çš„ä¾‹å­):
2. â€œä½ ä»¬æœ‰ 100 ç¾å…ƒä»¥ä¸‹çš„åœ†å½¢å¤ªé˜³é•œåº“å­˜å—ï¼Ÿâ€
3. å¯å˜æ“ä½œ â€” é€€è´§:
4. â€œé€€å› 2 å‰¯é£è¡Œå‘˜å¤ªé˜³é•œã€‚â€
5. å¯å˜æ“ä½œ â€” è´­ä¹°:
6. â€œä¸ºå®¢æˆ· Alice è´­ä¹° 3 å‰¯ Wayfarer å¤ªé˜³é•œã€‚â€
7. å¯å˜æ“ä½œ - è´­ä¹°å¤šä»¶å•†å“:
8. â€œæˆ‘æƒ³ä¹° 3 å‰¯ classic å¤ªé˜³é•œå’Œ 1 å‰¯ aviatorã€‚â€

**ğŸ” ****`reseed=True`**** æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ**

å½“ä½ è°ƒç”¨ `customer_service_agent(..., reseed=True)` æ—¶ï¼Œæ™ºèƒ½ä½“åœ¨è¿è¡Œä½ çš„æç¤ºä¹‹å‰ä¼š**é‡æ–°åˆå§‹åŒ–**æ¼”ç¤ºæ•°æ®ï¼š

* å°† `inventory_tbl` **é‡ç½®**ä¸ºé»˜è®¤äº§å“é›†ã€‚
* å°† `transactions_tbl` **é‡ç½®**ä¸ºå•ä¸ªæœŸåˆä½™é¢æ¡ç›®ã€‚
* ç¡®ä¿**å¹²å‡€ã€å¯é‡ç°çš„**è¿è¡Œï¼Œä»¥ä¾¿ç»“æœä¸å—å…ˆå‰æµ‹è¯•çš„å½±å“ã€‚

å¦‚æœä½ æƒ³**ä¿ç•™**å½“å‰çŠ¶æ€å¹¶ä»å…ˆå‰çš„æ“ä½œç»§ç»­ï¼Œè¯·è®¾ç½® `reseed=False`ã€‚

```Plain
prompt = "I want to buy 3 pairs of classic sunglasses and 1 pair of aviator sunglasses."
 
out = customer_service_agent(
    prompt,
    db=db,
    inventory_tbl=inventory_tbl,
    transactions_tbl=transactions_tbl,
    model="o4-mini",
    temperature=1.0,
    reseed=True,   # set False to keep current state of the inventory and the transactions
)
```

---

9. æ€»ç»“

* **ä½ è®©ä»£ç æˆä¸ºäº†è§„åˆ’ã€‚** éµå¾ª Andrew çš„â€œä»£ç å³è¡ŒåŠ¨â€ç†å¿µï¼Œä½ è®©æ¨¡å‹ç¼–å†™äº†é“¾æ¥å„ä¸ªæ­¥éª¤ï¼ˆè¿‡æ»¤ â†’ è®¡ç®— â†’ æ›´æ–°ï¼‰çš„ Python ä»£ç ï¼Œç„¶åä½ åªæ˜¯è¿è¡Œäº†å®ƒã€‚
* **ä½ è·³è¿‡äº†è„†å¼±çš„å·¥å…·â€œå¤§æ‚çƒ©â€ã€‚** ä½ æ²¡æœ‰å †ç§¯å°å‹å·¥å…·æˆ– JSON è§„åˆ’ï¼Œè€Œæ˜¯ä½¿ç”¨äº† Python/TinyDBâ€”â€”ç»™äº†æ¨¡å‹ä¸€ä¸ªå®ƒç†Ÿæ‚‰çš„ã€åºå¤§çš„å·¥å…·ç®±ï¼Œç”¨ä¸€ä¸ªæç¤ºå°±èƒ½å¤„ç†å¤šç§æŸ¥è¯¢å½¢æ€ã€‚
* **ä½ ä¿æŒäº†è¿è¡Œçš„å®‰å…¨å’Œå¯è§ã€‚** ä½ åœ¨å—æ§çš„å‘½åç©ºé—´ä¸­æ‰§è¡Œï¼Œæ•è·äº†æ—¥å¿—/é”™è¯¯ï¼Œå¹¶å®¡æŸ¥äº†æ‰§è¡Œå‰/åçš„è¡¨â€”â€”å› æ­¤ä½ å§‹ç»ˆçŸ¥é“æ”¹å˜äº†ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆæ”¹å˜ã€‚

ğŸ‰ **æ­å–œï¼**

ä½ åˆšåˆšå®Œæˆäº†å®éªŒå¹¶æ„å»ºäº†ä¸€ä¸ª**æ™ºèƒ½ä½“**** (agentic)** å®¢æˆ·æœåŠ¡å·¥ä½œæµã€‚ä½ è®©æ¨¡å‹ç¼–å†™ä»£ç ä½œä¸ºè§„åˆ’ï¼Œå®‰å…¨åœ°è¿è¡Œå®ƒï¼Œå¹¶ä½¿ç”¨ç®€å•çš„éªŒè¯æ¥ä¿æŒæ›´æ–°çš„å¯é æ€§ã€‚å½“å‡ºç°æ•…éšœæ—¶ï¼Œä½ å‘ˆç°äº†æ¸…æ™°æ˜“æ‡‚çš„åŸå› ï¼›å½“ä¸€åˆ‡æ­£å¸¸æ—¶ï¼Œä½ é€šè¿‡æ‰§è¡Œå‰/åçš„å¿«ç…§å‡†ç¡®åœ°çœ‹åˆ°äº†å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ã€‚

æœ‰äº†è¿™ç§æ¨¡å¼â€”â€”**åœ¨ä»£ç ä¸­**è§„åˆ’ï¼ŒåŠ ä¸Šé€æ˜çš„æ‰§è¡Œâ€”â€”ä½ å°±å‡†å¤‡å¥½è®¾è®¡è‡ªå·±çš„ã€æ„Ÿè§‰è‡ªåŠ¨åŒ–ã€å®‰å…¨ä¸”æ˜“äºæ‰©å±•çš„å·¥ä½œæµäº†ã€‚ ğŸš€

5. ## **Multi-agentic workflows** â€”â€” å¤šä»£ç†å·¥ä½œæµç¨‹

æˆ‘ä»¬å·²ç»è®¨è®ºäº†**å¦‚ä½•æ„å»ºå•ä¸ªä»£ç†**æ¥ä¸ºæ‚¨å®Œæˆä»»åŠ¡ã€‚

0:04

è€Œåœ¨**å¤šä»£ç†æˆ–å¤šä¸»ä½“å·¥ä½œæµç¨‹ (multi-agent or multi-agentic ** **workflow** **)** ä¸­ï¼Œæˆ‘ä»¬æ‹¥æœ‰**å¤šä¸ªä»£ç†**ç»„æˆçš„é›†åˆï¼Œå®ƒä»¬**åä½œ**ä¸ºæ‚¨å®Œæˆå·¥ä½œã€‚

0:09

å½“ä¸€äº›äººç¬¬ä¸€æ¬¡å¬è¯´**å¤šä»£ç†ç³»ç»Ÿ**æ—¶ï¼Œä»–ä»¬ä¼šæƒ³ï¼šâ€œä¸ºä»€ä¹ˆæˆ‘éœ€è¦å¤šä¸ªä»£ç†ï¼Ÿ

0:12

å®ƒä¸å°±æ˜¯æˆ‘ä¸€éåˆä¸€éåœ°æç¤ºçš„**åŒä¸€ä¸ª LLM** å—ï¼Ÿæˆ–è€…åªæ˜¯ä¸€å°ç”µè„‘ã€‚ä¸ºä»€ä¹ˆæˆ‘éœ€è¦å¤šä¸ªä»£ç†ï¼Ÿâ€

0:18

æˆ‘å‘ç°ä¸€ä¸ªæœ‰ç”¨çš„ç±»æ¯”æ˜¯ï¼šå³ä½¿æˆ‘æ˜¯åœ¨**ä¸€å°ç”µè„‘**ä¸Šåšäº‹æƒ…ï¼Œæˆ‘ä»¬ä¹Ÿä¼šæŠŠä¸€å°ç”µè„‘ä¸Šçš„å·¥ä½œ **åˆ†è§£æˆå¤šä¸ªè¿›ç¨‹æˆ–å¤šä¸ªçº¿ç¨‹** ã€‚

0:25

å¯¹äºå¼€å‘äººå‘˜æ¥è¯´ï¼Œå³ä½¿ç”µè„‘ä¸Šåªæœ‰ä¸€ä¸ª CPUï¼Œæ€è€ƒ**å¦‚ä½•å°†å·¥ä½œåˆ†è§£**æˆå¤šä¸ªè¿›ç¨‹å’Œå¤šä¸ªè®¡ç®—æœºç¨‹åºæ¥è¿è¡Œï¼Œ **è¿™ä½¿å¾—æˆ‘ä½œä¸ºå¼€å‘äººå‘˜æ›´å®¹æ˜“ç¼–å†™ä»£ç ** ã€‚

0:37

ä»¥ç±»ä¼¼çš„æ–¹å¼ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ª**å¤æ‚çš„ä»»åŠ¡**è¦æ‰§è¡Œï¼Œæœ‰æ—¶ï¼Œä¸å…¶è€ƒè™‘**é›‡ä½£ä¸€ä¸ªäºº**æ¥ä¸ºæ‚¨å®Œæˆï¼Œä¸å¦‚è€ƒè™‘**é›‡ä½£ä¸€ä¸ªç”±å‡ ä¸ªäººç»„æˆçš„å›¢é˜Ÿ**æ¥ä¸ºæ‚¨å®Œæˆä»»åŠ¡çš„ **ä¸åŒéƒ¨åˆ†** ã€‚

0:52

å› æ­¤ï¼Œåœ¨å®è·µä¸­ï¼Œæˆ‘å‘ç°å¯¹äºè®¸å¤šä»£ç†ç³»ç»Ÿå¼€å‘äººå‘˜æ¥è¯´ï¼Œæ‹¥æœ‰è¿™ç§**æ€ç»´æ¡†æ¶**å¾ˆæœ‰å¸®åŠ©ï¼š **ä¸é—®** â€œæˆ‘å¯ä»¥é›‡ä½£å“ªä¸€ä¸ªäººæ¥åšè¿™ä»¶äº‹ï¼Ÿâ€ï¼Œè€Œæ˜¯é—®â€œ**é›‡ä½£ä¸‰åˆ°å››ä¸ªæ‹¥æœ‰ä¸åŒè§’è‰²çš„äºº**æ¥å®Œæˆè¿™ä¸ªæ•´ä½“ä»»åŠ¡æ˜¯å¦åˆç†ï¼Ÿâ€è¿™ä¸ºåˆ†è§£å¤æ‚çš„ä»»åŠ¡æä¾›äº†å¦ä¸€ç§æ–¹å¼ï¼Œå°†å…¶åˆ†è§£æˆ **å­ä»»åŠ¡** ï¼Œå¹¶**é€ä¸€**æ„å»ºè¿™äº›ç‹¬ç«‹çš„å­ä»»åŠ¡ã€‚

1:08

è®©æˆ‘ä»¬çœ‹ä¸€äº›è¿™ç§å·¥ä½œæ–¹å¼çš„ä¾‹å­ã€‚

1:33

ä»¥**åˆ›å»ºè¥é”€èµ„äº§**çš„ä»»åŠ¡ä¸ºä¾‹ï¼Œå‡è®¾æ‚¨æƒ³è¥é”€å¤ªé˜³é•œã€‚æ‚¨èƒ½ä¸ºæ­¤åˆ¶ä½œä¸€æœ¬è¥é”€æ‰‹å†Œå—ï¼Ÿ

1:36

æ‚¨å¯èƒ½éœ€è¦å›¢é˜Ÿä¸­æœ‰ä¸€å**ç ”ç©¶å‘˜**æ¥ç ”ç©¶å¤ªé˜³é•œçš„è¶‹åŠ¿å’Œç«äº‰å¯¹æ‰‹çš„äº§å“ã€‚

1:43

æ‚¨å¯èƒ½è¿˜éœ€è¦ä¸€å**å¹³é¢è®¾è®¡å¸ˆ**æ¥æ¸²æŸ“å›¾è¡¨æˆ–ç¾è§‚çš„å¤ªé˜³é•œå›¾å½¢ã€‚

1:49

ç„¶åï¼Œè¿˜éœ€è¦ä¸€å**æ’°ç¨¿äºº**å°†ç ”ç©¶ç»“æœå’Œå›¾å½¢èµ„äº§æ•´åˆåœ¨ä¸€èµ·ï¼Œåˆ¶ä½œæˆä¸€æœ¬ç²¾ç¾çš„å®£ä¼ å†Œã€‚

1:56

æˆ–è€…ï¼Œè¦æ’°å†™ä¸€ç¯‡ **ç ”ç©¶æ–‡ç« ** ï¼Œæ‚¨å¯èƒ½éœ€è¦ä¸€å**ç ”ç©¶å‘˜**è¿›è¡Œåœ¨çº¿ç ”ç©¶ï¼Œä¸€å**ç»Ÿè®¡å­¦å®¶**è®¡ç®—ç»Ÿè®¡æ•°æ®ï¼Œä¸€å **é¦–å¸­æ’°ç¨¿äºº** ï¼Œä»¥åŠä¸€å**ç¼–è¾‘**æ¥å®Œæˆä¸€ä»½ç²¾ç¾çš„æŠ¥å‘Šã€‚

2:02

æˆ–è€…ï¼Œè¦å‡†å¤‡ä¸€èµ· **æ³•å¾‹æ¡ˆä»¶** ï¼ŒçœŸæ­£çš„å¾‹å¸ˆäº‹åŠ¡æ‰€é€šå¸¸ä¼šæœ‰ **åŠ©ç†å¾‹å¸ˆ** ã€ **å¾‹å¸ˆåŠ©ç†** ï¼Œå¯èƒ½è¿˜æœ‰ä¸€å **è°ƒæŸ¥å‘˜** ã€‚

2:11

æˆ‘ä»¬å¾ˆè‡ªç„¶åœ°ä¼šå› ä¸º**äººç±»å›¢é˜Ÿçš„å·¥ä½œæ–¹å¼**è€Œæƒ³åˆ°ï¼Œå¤æ‚çš„ä»»åŠ¡å¯ä»¥è¢«åˆ†è§£æˆç”±**ä¸åŒè§’è‰²**çš„ä¸ªä½“æ¥å®Œæˆçš„ä¸åŒéƒ¨åˆ†ã€‚

2:18

æ‰€ä»¥ï¼Œè¿™äº›éƒ½æ˜¯å¤æ‚çš„ä»»åŠ¡å·²ç»è‡ªç„¶åœ°è¢« **åˆ†è§£æˆå­ä»»åŠ¡** ï¼Œç”±**å…·æœ‰ä¸åŒæŠ€èƒ½**çš„äººæ¥æ‰§è¡Œçš„ä¾‹å­ã€‚

2:31

ä»¥**åˆ›å»ºè¥é”€èµ„äº§**ä¸ºä¾‹ï¼Œæ·±å…¥çœ‹çœ‹ç ”ç©¶å‘˜ã€å¹³é¢è®¾è®¡å¸ˆå’Œæ’°ç¨¿äººåˆ†åˆ«ä¼šåšä»€ä¹ˆã€‚

2:41

**ç ”ç©¶å‘˜**çš„ä»»åŠ¡å¯èƒ½æ˜¯**åˆ†æå¸‚åœºè¶‹åŠ¿**å’Œ **ç ”ç©¶ç«äº‰å¯¹æ‰‹** ã€‚

2:44

åœ¨è®¾è®¡ç ”ç©¶ä»£ç†æ—¶ï¼Œè¦è®°ä½çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šç ”ç©¶å‘˜å¯èƒ½éœ€è¦**å“ªäº›å·¥å…·**æ‰èƒ½å®Œæˆè¿™ä»½å…³äºå¸‚åœºè¶‹åŠ¿å’Œç«äº‰å¯¹æ‰‹åŠ¨æ€çš„ç ”ç©¶æŠ¥å‘Šã€‚

2:55

å› æ­¤ï¼Œä¸€ä¸ªä»£ç†å¼ç ”ç©¶å‘˜å¯èƒ½éœ€è¦ä½¿ç”¨çš„è‡ªç„¶å·¥å…·æ˜¯ **ç½‘é¡µæœç´¢** ã€‚

3:07

å› ä¸ºä½œä¸ºä¸€åè¢«è¦æ±‚æ‰§è¡Œè¿™äº›ä»»åŠ¡çš„äººç±»ç ”ç©¶å‘˜ï¼Œå¯èƒ½éœ€è¦**åœ¨çº¿æœç´¢**æ‰èƒ½å®Œæˆä»–ä»¬çš„æŠ¥å‘Šã€‚

3:14

æˆ–è€…å¯¹äº **å¹³é¢è®¾è®¡å¸ˆä»£ç†** ï¼Œä»–ä»¬å¯èƒ½è¢«æŒ‡æ´¾ **åˆ›å»ºå¯è§†åŒ–å›¾è¡¨å’Œè‰ºæœ¯ä½œå“** ã€‚

3:20

é‚£ä¹ˆï¼Œä¸€ä¸ªä»£ç†å¼è½¯ä»¶å¹³é¢è®¾è®¡å¸ˆå¯èƒ½éœ€è¦**å“ªäº›å·¥å…·**å‘¢ï¼Ÿ

3:26

ä»–ä»¬å¯èƒ½éœ€è¦**å›¾åƒç”Ÿæˆå’Œæ“ä½œ ** **API** ã€‚

3:31

æˆ–è€…ï¼Œç±»ä¼¼äºæ‚¨åœ¨å’–å•¡æœºç¤ºä¾‹ä¸­çœ‹åˆ°çš„ï¼Œå®ƒå¯èƒ½éœ€è¦**ä»£ç æ‰§è¡Œ**æ¥ **ç”Ÿæˆå›¾è¡¨** ã€‚

3:36

æœ€åï¼Œ**æ’°ç¨¿äºº**çš„ä»»åŠ¡æ˜¯ **å°†ç ”ç©¶æˆæœè½¬åŒ–ä¸ºæŠ¥å‘Šæ–‡æœ¬å’Œè¥é”€æ–‡æ¡ˆ** ã€‚

3:44

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé™¤äº† LLM å·²ç»èƒ½å¤Ÿåšçš„**æ–‡æœ¬ç”Ÿæˆ**ä¹‹å¤–ï¼Œä»–ä»¬ **ä¸éœ€è¦ä»»ä½•å…¶ä»–å·¥å…·** ã€‚

3:49

åœ¨è¿™ä¸ªè§†é¢‘å’Œä¸‹ä¸€ä¸ªè§†é¢‘ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨è¿™äº›**ç´«è‰²æ–¹æ¡†**æ¥è¡¨ç¤ºä¸€ä¸ª **ä»£ç†** ã€‚

3:55

æ„å»º**å•ä¸ªä»£ç†**çš„æ–¹å¼æ˜¯**æç¤º LLM æ‰®æ¼”**ç ”ç©¶å‘˜ã€å¹³é¢è®¾è®¡å¸ˆæˆ–æ’°ç¨¿äººçš„ **è§’è‰²** ï¼Œå…·ä½“å–å†³äºå®ƒæ˜¯å“ªä¸ªä»£ç†çš„ä¸€éƒ¨åˆ†ã€‚

4:00

ä¾‹å¦‚ï¼Œå¯¹äº **ç ”ç©¶ä»£ç†** ï¼Œæ‚¨å¯ä»¥æç¤ºå®ƒï¼šâ€œæ‚¨æ˜¯ä¸€å **ç ”ç©¶ä»£ç†** ï¼Œæ“…é•¿åˆ†æå¸‚åœºè¶‹åŠ¿å’Œç«äº‰å¯¹æ‰‹ï¼Œè¿›è¡Œåœ¨çº¿ç ”ç©¶æ¥åˆ†æå¤ªé˜³é•œäº§å“çš„å¸‚åœºè¶‹åŠ¿ï¼Œå¹¶æ€»ç»“ç«äº‰å¯¹æ‰‹æ­£åœ¨åšä»€ä¹ˆã€‚â€

4:11

è¿™å°±èƒ½è®©æ‚¨æ„å»ºä¸€ä¸ª **ç ”ç©¶å‘˜ä»£ç†** ã€‚

4:27

åŒæ ·ï¼Œé€šè¿‡æç¤º LLM æ‰®æ¼”**å¹³é¢è®¾è®¡å¸ˆ**å¹¶é…å¤‡é€‚å½“çš„å·¥å…·ï¼Œä»¥åŠæ‰®æ¼” **æ’°ç¨¿äºº** ï¼Œæ‚¨å°±å¯ä»¥æ„å»ºå¹³é¢è®¾è®¡å¸ˆå’Œæ’°ç¨¿äººä»£ç†ã€‚

4:30

æ„å»ºäº†è¿™ä¸‰ä¸ªä»£ç†åï¼Œè®©å®ƒä»¬**ååŒå·¥ä½œ**ä»¥ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Šçš„ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨**ä¸€ä¸ªç®€å•çš„çº¿æ€§å·¥ä½œæµç¨‹**æˆ–è¿™é‡Œçš„ **çº¿æ€§è®¡åˆ’** ã€‚

4:43

å› æ­¤ï¼Œå¦‚æœæ‚¨æƒ³ä¸ºå¤ªé˜³é•œåˆ›å»º **å¤å­£è¥é”€æ´»åŠ¨** ï¼Œæ‚¨å¯ä»¥å°†è¯¥æç¤ºäº¤ç»™ **ç ”ç©¶å‘˜ä»£ç†** ã€‚

4:47

ç ”ç©¶å‘˜ä»£ç†éšåä¼šæ’°å†™ä¸€ä»½æŠ¥å‘Šï¼Œè¯´æ˜å½“å‰çš„å¤ªé˜³é•œè¶‹åŠ¿å’Œç«äº‰äº§å“ã€‚

5:00

è¿™ä»½ç ”ç©¶æŠ¥å‘Šéšåå¯ä»¥ **åé¦ˆç»™å¹³é¢è®¾è®¡å¸ˆ** ï¼Œå¹³é¢è®¾è®¡å¸ˆæŸ¥çœ‹ç ”ç©¶å‘ç°çš„æ•°æ®ï¼Œå¹¶åˆ›å»ºä¸€äº› **æ•°æ®å¯è§†åŒ–å›¾è¡¨å’Œè‰ºæœ¯ä½œå“é€‰é¡¹** ã€‚

5:08

æ‰€æœ‰è¿™äº›èµ„äº§éšåå¯ä»¥ **ä¼ é€’ç»™æ’°ç¨¿äºº** ï¼Œæ’°ç¨¿äººå°†ç ”ç©¶ç»“æœå’Œå›¾å½¢è¾“å‡ºæ•´åˆèµ·æ¥ï¼Œæ’°å†™ **æœ€ç»ˆçš„è¥é”€æ‰‹å†Œ** ã€‚

5:17

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ„å»º**å¤šä»£ç†å·¥ä½œæµç¨‹çš„ä¼˜åŠ¿**åœ¨äºï¼Œåœ¨è®¾è®¡ç ”ç©¶å‘˜ã€å¹³é¢è®¾è®¡å¸ˆæˆ–æ’°ç¨¿äººæ—¶ï¼Œæ‚¨å¯ä»¥ **ä¸€æ¬¡ä¸“æ³¨äºä¸€ä»¶äº‹æƒ…** ã€‚

5:27

å› æ­¤ï¼Œæˆ‘å¯ä»¥èŠ±æ—¶é—´æ„å»ºæˆ‘èƒ½åšåˆ°çš„ **æœ€å¥½çš„å¹³é¢è®¾è®¡å¸ˆä»£ç†** ï¼Œè€Œæˆ‘çš„åä½œè€…å¯èƒ½æ­£åœ¨æ„å»º**ç ”ç©¶å‘˜ä»£ç†**å’Œ **æ’°ç¨¿äººä»£ç†** ã€‚

5:36

æœ€åï¼Œæˆ‘ä»¬å°†å®ƒä»¬ **ä¸²è”èµ·æ¥** ï¼Œå½¢æˆè¿™ä¸ªå¤šä»£ç†ç³»ç»Ÿã€‚

5:45

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘çœ‹åˆ°å¼€å‘äººå‘˜ä¹Ÿå¼€å§‹ **å¤ç”¨ä¸€äº›ä»£ç†** ã€‚

5:50

å› æ­¤ï¼Œåœ¨ä¸ºè¥é”€æ‰‹å†Œæ„å»ºäº†ä¸€ä¸ªå¹³é¢è®¾è®¡å¸ˆä¹‹åï¼Œæˆ‘å¯èƒ½ä¼šè€ƒè™‘æ˜¯å¦å¯ä»¥æ„å»ºä¸€ä¸ª **æ›´é€šç”¨çš„å¹³é¢è®¾è®¡å¸ˆ** ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘æ’°å†™è¥é”€æ‰‹å†Œã€ç¤¾äº¤åª’ä½“å¸–å­ï¼Œä»¥åŠå¸®åŠ©æˆ‘è®¾è®¡åœ¨çº¿ç½‘é¡µæ’å›¾ã€‚

5:56

æ‰€ä»¥ï¼Œé€šè¿‡æ€è€ƒ **ä½ ä¼šé›‡ä½£å“ªäº›ä»£ç†æ¥å®Œæˆä»»åŠ¡** ï¼ˆè¿™æœ‰æ—¶ä¼šå¯¹åº”äºä½ ä¼šé›‡ä½£å“ªäº›**ç±»å‹çš„äººç±»å‘˜å·¥**æ¥å®Œæˆä»»åŠ¡ï¼‰ï¼Œ

6:10

æ‚¨å¯ä»¥è®¾è®¡å‡ºåƒè¿™æ ·çš„å·¥ä½œæµç¨‹ï¼Œç”šè‡³å¯èƒ½æ„å»ºå‡ºæ‚¨å¯ä»¥é€‰æ‹©**åœ¨å…¶ä»–åº”ç”¨ä¸­å¤ç”¨**çš„ä»£ç†ã€‚

6:22

ç°åœ¨ï¼Œæ‚¨åœ¨è¿™é‡Œçœ‹åˆ°çš„æ˜¯ä¸€ä¸ª **çº¿æ€§è®¡åˆ’** ï¼šç ”ç©¶å‘˜ä»£ç†å®Œæˆå·¥ä½œï¼Œç„¶åæ˜¯å¹³é¢è®¾è®¡å¸ˆï¼Œç„¶åæ˜¯æ’°ç¨¿äººã€‚

6:30

å¯¹äºä»£ç†ï¼Œä½œä¸º **çº¿æ€§è®¡åˆ’çš„æ›¿ä»£æ–¹æ¡ˆ** ï¼Œæ‚¨è¿˜å¯ä»¥è®© **ä»£ç†ä»¥æ›´å¤æ‚çš„æ–¹å¼ç›¸äº’äº¤äº’** ã€‚

6:38

è®©æˆ‘ç”¨ä¸€ä¸ª**ä½¿ç”¨å¤šä¸ªä»£ç†è¿›è¡Œè§„åˆ’**çš„ä¾‹å­æ¥è¯´æ˜ã€‚

6:47

ä¹‹å‰ï¼Œæ‚¨çœ‹åˆ°äº†æˆ‘ä»¬å¦‚ä½•ç»™ LLM ä¸€å¥—å¯ä»¥**è°ƒç”¨**æ¥æ‰§è¡Œä¸åŒä»»åŠ¡çš„ **å·¥å…·** ã€‚

6:51

åœ¨æˆ‘æ¥ä¸‹æ¥æƒ³å±•ç¤ºçš„å†…å®¹ä¸­ï¼Œæˆ‘ä»¬å°† **è½¬è€Œç»™ LLM é€‰é¡¹å»è°ƒç”¨ä¸åŒçš„ä»£ç†** ï¼Œè¦æ±‚è¿™äº›ä¸åŒçš„ä»£ç†å¸®åŠ©å®Œæˆä¸åŒçš„ä»»åŠ¡ã€‚

6:57

å…·ä½“æ¥è¯´ï¼Œæ‚¨å¯ä»¥ç¼–å†™ä¸€ä¸ªæç¤ºï¼Œæ¯”å¦‚ï¼šâ€œæ‚¨æ˜¯ä¸€å **è¥é”€ç»ç†** ï¼Œæ‹¥æœ‰ä»¥ä¸‹**ä»£ç†å›¢é˜Ÿ**å¯ä¾›åˆä½œâ€ï¼Œç„¶å **æè¿°è¿™äº›ä»£ç†** ã€‚

7:07

è¿™ä¸æˆ‘ä»¬ä½¿ç”¨å·¥å…·è¿›è¡Œè§„åˆ’çš„æ–¹å¼éå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯ **å·¥å…·** ï¼ˆç»¿è‰²æ–¹æ¡†ï¼‰è¢«æ›¿æ¢æˆäº† LLM å¯ä»¥è°ƒç”¨çš„ **ä»£ç†** ï¼ˆç´«è‰²æ–¹æ¡†ï¼‰ã€‚

7:14

æ‚¨ä¹Ÿå¯ä»¥è¦æ±‚å®ƒ**è¿”å›ä¸€ä¸ªé€æ­¥çš„è®¡åˆ’**æ¥æ‰§è¡Œç”¨æˆ·çš„è¯·æ±‚ã€‚

7:25

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒLLM å¯èƒ½ä¼š **è¦æ±‚ç ”ç©¶å‘˜ç ”ç©¶å½“å‰çš„å¤ªé˜³é•œè¶‹åŠ¿** ï¼Œç„¶å **æ±‡æŠ¥** ã€‚

7:28

ç„¶åï¼Œå®ƒä¼š **è¦æ±‚å¹³é¢è®¾è®¡å¸ˆåˆ›å»ºå›¾åƒ** ï¼Œç„¶å **æ±‡æŠ¥** ï¼›å†è¦æ±‚ **æ’°ç¨¿äººåˆ›å»ºæŠ¥å‘Š** ï¼›ç„¶å LLM å¯èƒ½ä¼šé€‰æ‹© **æœ€åä¸€æ¬¡å®¡æŸ¥æˆ–åæ€å¹¶æ”¹è¿›æŠ¥å‘Š** ã€‚

7:34

åœ¨æ‰§è¡Œè¿™ä¸ªè®¡åˆ’æ—¶ï¼Œæ‚¨ä¼šå–å‡º **ç¬¬ä¸€æ­¥ç ”ç©¶å‘˜çš„æ–‡æœ¬** ï¼Œæ‰§è¡Œç ”ç©¶ï¼Œç„¶åå°†å…¶ **ä¼ é€’ç»™å¹³é¢è®¾è®¡å¸ˆ** ï¼Œ **ä¼ é€’ç»™æ’°ç¨¿äºº** ï¼Œç„¶åå¯èƒ½è¿›è¡Œ **æœ€åä¸€æ¬¡åæ€æ­¥éª¤** ï¼Œç„¶åå°±å®Œæˆäº†ã€‚

7:45

çœ‹å¾…è¿™ä¸ªå·¥ä½œæµç¨‹çš„ä¸€ä¸ªæœ‰è¶£è§†è§’æ˜¯ï¼šæ‚¨æ‹¥æœ‰é¡¶éƒ¨çš„è¿™ä¸‰ä¸ªä»£ç†ï¼Œä½†**å·¦ä¾§çš„è¿™ä¸ª LLM** å®é™…ä¸Šå°±åƒ **ç¬¬å››ä¸ªä»£ç†** ï¼Œå®ƒæ˜¯ä¸€ä¸ª **è¥é”€ç»ç†** ï¼Œ**è´Ÿè´£åè°ƒ**è¥é”€å›¢é˜Ÿï¼Œ **è®¾å®šæ–¹å‘** ï¼Œç„¶åå°†ä»»åŠ¡ **å§”æ‰˜ç»™ç ”ç©¶å‘˜ã€å¹³é¢è®¾è®¡å¸ˆå’Œæ’°ç¨¿äººä»£ç†** ã€‚

7:59

å› æ­¤ï¼Œè¿™å®é™…ä¸Šæˆä¸ºäº†ä¸€ä¸ª **å››ä¸ªä»£ç†çš„é›†åˆ** ï¼Œç”±ä¸€ä¸ªè¥é”€ç»ç†ä»£ç†**åè°ƒ**ç ”ç©¶å‘˜ã€å¹³é¢è®¾è®¡å¸ˆå’Œæ’°ç¨¿äººçš„å·¥ä½œã€‚

8:18

åœ¨è¿™ä¸ªè§†é¢‘ä¸­ï¼Œæ‚¨çœ‹åˆ°äº† **ä¸¤ç§é€šä¿¡æ¨¡å¼** ã€‚

8:26

ä¸€ç§æ˜¯ **çº¿æ€§æ¨¡å¼** ï¼Œæ‚¨çš„ä»£ç†**ä¾æ¬¡é‡‡å–è¡ŒåŠ¨**ç›´åˆ°ç»“æŸã€‚

8:30

ç¬¬äºŒç§æ˜¯**è¥é”€ç»ç†åè°ƒ**å…¶ä»–å‡ ä¸ªä»£ç†çš„æ´»åŠ¨ã€‚

8:36

äº‹å®è¯æ˜ï¼Œæ„å»ºå¤šä»£ç†ç³»ç»Ÿæ—¶ï¼Œæ‚¨æœ€ç»ˆå¯èƒ½éœ€è¦åšå‡ºçš„**å…³é”®è®¾è®¡å†³ç­–ä¹‹ä¸€**æ˜¯ï¼š**æ‚¨çš„ä¸åŒä»£ç†ä¹‹é—´çš„é€šä¿¡æ¨¡å¼æ˜¯ä»€ä¹ˆï¼Ÿ**

8:41

è¿™æ˜¯ä¸€ä¸ªè‰°éš¾çš„ç ”ç©¶é¢†åŸŸï¼Œå¹¶ä¸”æ­£åœ¨å‡ºç°å¤šç§æ¨¡å¼ï¼Œä½†åœ¨ä¸‹ä¸€ä¸ªè§†é¢‘ä¸­ï¼Œæˆ‘æƒ³å‘æ‚¨å±•ç¤ºä¸€äº› **è®©æ‚¨çš„ä»£ç†ç›¸äº’åä½œçš„æœ€å¸¸è§é€šä¿¡æ¨¡å¼** ã€‚

8:51

è®©æˆ‘ä»¬åœ¨ä¸‹ä¸€ä¸ªè§†é¢‘ä¸­çœ‹çœ‹ã€‚

6. ## **ã€å®éªŒã€‘Ungraded Lab: ****Market Research**** Team** â€”â€” éè¯„åˆ†å®éªŒï¼šå¸‚åœºè°ƒç ”å›¢é˜Ÿ

### M5 æ™ºèƒ½ä½“ AI - å¸‚åœºç ”ç©¶å›¢é˜Ÿ

1. ### ä»‹ç»

#### 1.1. å®éªŒæ¦‚è¿°

åœ¨æœ¬å®éªŒä¸­ï¼Œä½ å°†æ‰®æ¼”ä¸€å®¶æ—¶å°šå“ç‰Œ **AI**** æŠ€æœ¯ä¸»ç®¡**çš„è§’è‰²ï¼Œä¸ºå¤å­£å¤ªé˜³é•œè¥é”€æ´»åŠ¨åšå‡†å¤‡ã€‚ä½ çš„ä»»åŠ¡æ˜¯è®¾è®¡ä¸€ä¸ª **å…¨è‡ªåŠ¨çš„åˆ›æ„æµç¨‹** ï¼Œä»¥æ¨¡æ‹ŸçœŸå®çš„ä¸šåŠ¡åœºæ™¯ã€‚ä½ å°†ä¸å†æ‰‹åŠ¨å¤„ç†æ¯ä¸ªç¯èŠ‚ï¼Œè€Œæ˜¯å¼•å¯¼ä¸€ä¸ªç³»ç»Ÿæ‰«æåœ¨çº¿èµ„æºä»¥è·å–æ–°å…´æ—¶å°šè¶‹åŠ¿ï¼Œå°†è¿™äº›è¶‹åŠ¿ä¸å†…éƒ¨ç›®å½•ä¸­çš„å¤ªé˜³é•œç›¸åŒ¹é…ï¼Œè®¾è®¡ä¸€ä¸ªè¥é”€æ´»åŠ¨è§†è§‰ï¼Œç”Ÿæˆä¸€å¥ç®€çŸ­çš„è¥é”€å¼•è¯­ï¼Œæœ€åå°†æ‰€æœ‰å†…å®¹æ‰“åŒ…æˆä¸€ä»½ **å¯ä¾›é«˜ç®¡å®¡é˜…çš„æŠ¥å‘Š** ã€‚

ç›®æ ‡æ˜¯ä½“éªŒå¦‚ä½•å°†å¤šä¸ªæ™ºèƒ½ä½“ã€å·¥å…·å’Œæ¨¡å‹**ç¼–æ’ (orchestrated)** æˆä¸€ä¸ªå•ä¸€ã€è¿è´¯çš„å·¥ä½œæµã€‚å®Œæˆæœ¬å®éªŒåï¼Œä½ å°†æ„å»ºä¸€ä¸ªæµç¨‹ï¼Œå®ƒæ„Ÿè§‰ä¸å†åƒä¸€ä¸ªç”±å­¤ç«‹æ­¥éª¤ç»„æˆçš„è„šæœ¬ï¼Œè€Œæ›´åƒä¸€ä¸ªå°å›¢é˜ŸååŒå·¥ä½œæ¥è§£å†³ä¸€ä¸ªåˆ›æ„æŒ‘æˆ˜ã€‚

#### 1.2. ğŸ¯ å­¦ä¹ æˆæœ

é€šè¿‡å®Œæˆæœ¬å®éªŒï¼Œä½ å°†äº†è§£å¦‚ä½•è¶…è¶Šä¸æ¨¡å‹çš„å•è½®äº¤äº’ï¼Œè½¬è€Œè®¾è®¡**å¤š****æ™ºèƒ½ä½“** **æµç¨‹ (multi-agent pipelines)** ï¼Œä»¥åè°ƒè§„åˆ’ã€ç ”ç©¶å’Œåˆ›æ„ç”Ÿæˆã€‚ä½ å°†å­¦ä¼šå¦‚ä½•å°†æ™ºèƒ½ä½“çš„æ¨ç†**é”šå®šåœ¨ (ground)** å¤–éƒ¨å·¥å…·ä¸Šï¼Œä½¿è¾“å‡ºä¸ä»…å¯Œæœ‰æƒ³è±¡åŠ›ï¼Œè€Œä¸”æœ‰çœŸå®æ•°æ®æ”¯æŒã€‚ä½ è¿˜å°†å®éªŒâ€œåæ€â€(reflection) å’Œâ€œå°è£…â€(packaging) æ­¥éª¤ï¼Œä»¥å®æ–½è´¨é‡æ§åˆ¶ï¼Œå¹¶ä¸ºé«˜ç®¡å—ä¼—å‡†å¤‡ç»“æœã€‚

ç®€è€Œè¨€ä¹‹ï¼Œæœ¬å®éªŒæ—¨åœ¨å­¦ä¹ å¦‚ä½•å°†**å¤§å‹è¯­è¨€æ¨¡å‹çš„æƒ³è±¡åŠ›**ä¸**ç»“æ„åŒ–****å·¥ä½œæµ****çš„è§„èŒƒæ€§**ç»“åˆèµ·æ¥ï¼Œä¸ºä½ æä¾›ä¸€ä¸ªæ„å»ºå…¼å…·åˆ›é€ åŠ›å’Œå¯é æ€§çš„è‡ªä¸»ç³»ç»Ÿçš„å®ç”¨æ¨¡å¼ã€‚

---

2. ### è®¾ç½®ï¼šå¯¼å…¥åº“å’ŒåŠ è½½ç¯å¢ƒ

ä¸ä¹‹å‰çš„å®éªŒä¸€æ ·ï¼Œä½ ç°åœ¨å¯¼å…¥æ‰€éœ€çš„åº“ï¼ŒåŠ è½½ç¯å¢ƒå˜é‡ï¼Œå¹¶è®¾ç½®è¾…åŠ©å·¥å…·ã€‚

```Plain
# =========================# Imports# =========================# --- Standard library ---import base64
import json
import os
import re
from datetime import datetime
from io import BytesIO
 
# --- Third-party ---import requests
import openai
from PIL import Image
from dotenv import load_dotenv
from IPython.display import Markdown, display
import aisuite
 
# --- Local / project ---import tools
import utils
 
 
# =========================# Environment & Client# =========================
load_dotenv()
client = aisuite.Client()
```

---

3. ### å¯ç”¨å·¥å…·

åªæœ‰å½“æ¨¡å‹è¢«èµ‹äºˆå…¶åŸºç¡€æ¨ç†ä¹‹å¤–çš„**æ˜ç¡®èƒ½åŠ›**æ—¶ï¼Œæ™ºèƒ½ä½“æµç¨‹æ‰ä¼šå˜å¾—æœ‰æ•ˆã€‚é¢„å…ˆå£°æ˜è¿™äº›å·¥å…·å¯ä»¥ä½¿æ™ºèƒ½ä½“çš„**åŠ¨ä½œç©ºé—´ (action space)** æ¸…æ™°æ˜ç¡®ï¼Œç¡®ä¿æç¤ºèƒ½å¤Ÿè‡ªç„¶åœ°å¼•å¯¼å·¥å…·é€‰æ‹©ï¼Œå¹¶é€šè¿‡å®šä¹‰è‰¯å¥½çš„æ¥å£ä¿æŒç¼–æ’å’Œæµ‹è¯•çš„é€æ˜åº¦ã€‚

ä½ å°†ç»„å»ºä¸€ä¸ª**å¸‚åœºç ”ç©¶** **å›¢é˜Ÿ** ï¼Œè¿™æ˜¯ä¸€ç»„ååŒå·¥ä½œçš„ä¸“ä¸šæ™ºèƒ½ä½“ï¼Œæ—¨åœ¨è®¾è®¡ä¸€ä¸ªå¤å­£å¤ªé˜³é•œè¥é”€æ´»åŠ¨ã€‚ä¸ºäº†èµ‹äºˆä»–ä»¬èƒ½åŠ›ï¼Œæˆ‘ä»¬é¦–å…ˆå®šä¹‰å°†ä»–ä»¬çš„æ¨ç†é”šå®šäºçœŸå®æ•°æ®çš„å·¥å…·ã€‚

ç¬¬ä¸€ä¸ªå·¥å…·æ˜¯ `tools.tavily_search_tool`ï¼Œå®ƒæ‰§è¡Œå®æ—¶ç½‘ç»œæœç´¢ï¼Œä»¥å‘ç°å½“å‰æ—¶å°šè¶‹åŠ¿çš„è¯æ®ã€‚ç°åœ¨é€šè¿‡è¿è¡Œä¸€ä¸ªå…³äº**â€œå¤ªé˜³é•œæ—¶å°šè¶‹åŠ¿â€**çš„ç®€å•æŸ¥è¯¢æ¥è¯•è¯•å®ƒï¼š

```Plain
tools.tavily_search_tool('trends in sunglasses fashion')
```

ç¬¬äºŒä¸ªå·¥å…·æ˜¯ `tools.product_catalog_tool`ï¼Œå®ƒè¿”å›å†…éƒ¨å¤ªé˜³é•œç›®å½•ã€‚æ¯ä¸ªæ¡ç›®éƒ½åŒ…å«äº§å“åç§°ã€IDã€æè¿°ã€åº“å­˜æ•°é‡å’Œä»·æ ¼ç­‰è¯¦ç»†ä¿¡æ¯ã€‚è¿™äº›ç»“æ„åŒ–æ•°æ®å°†ä½¿æ™ºèƒ½ä½“èƒ½å¤Ÿå°†åœ¨çº¿æ—¶å°šè¶‹åŠ¿ä¸å®é™…çš„åº“å­˜å•†å“è”ç³»èµ·æ¥ï¼š

```Plain
tools.product_catalog_tool()
```

æœ‰äº†è¿™äº›å·¥å…·ï¼Œä½ å°±å®šä¹‰äº†ä¸€ä¸ªæ¸…æ™°çš„åŠ¨ä½œç©ºé—´å’Œå¯é çš„æ•°æ®æºã€‚åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œä½ å°†æ„å»ºä½¿ç”¨è¿™äº›å·¥å…·çš„æ™ºèƒ½ä½“ï¼Œå°†åŸå§‹çš„æ—¶å°šä¿¡å·è½¬åŒ–ä¸ºç»“æ„åŒ–çš„æ´å¯Ÿå’Œè¥é”€æ´»åŠ¨ç´ æã€‚

---

4. ### æ™ºèƒ½ä½“å®šä¹‰ â€” ç»„å»ºä½ çš„å›¢é˜Ÿ

ç°åœ¨ä½ å·²ç»å®šä¹‰äº†å·¥å…·ï¼Œæ˜¯æ—¶å€™è®©å®ƒä»¬å·¥ä½œäº†ã€‚åœ¨æ­¤é˜¶æ®µï¼Œä½ å°†ç»„å»ºä¸€ä¸ª**å¸‚åœºç ”ç©¶** **å›¢é˜Ÿ** ï¼Œè¿™æ˜¯ä¸€ç»„ä½ ç”¨è‡ªç„¶æŒ‡ä»¤æŒ‡å¯¼çš„ä¸“ä¸šæ™ºèƒ½ä½“ã€‚

æ¯ä¸ªæ™ºèƒ½ä½“éƒ½ä¾èµ–äºä½ ä¹‹å‰ä»‹ç»çš„å·¥å…·ï¼Œå®ƒä»¬å…±åŒå°†åŸå§‹è¶‹åŠ¿æ•°æ®è½¬åŒ–ä¸ºç²¾ç¾çš„è¥é”€æ´»åŠ¨æŠ¥å‘Šã€‚æˆ‘ä»¬å°†é€ä¸€å®šä¹‰å®ƒä»¬ï¼Œä»‹ç»å®ƒä»¬å„è‡ªçš„è§’è‰²ï¼Œå¹¶å±•ç¤ºå®ç°æ¯ä¸ªæ™ºèƒ½ä½“çš„ä»£ç ã€‚

#### å¸‚åœºç ”ç©¶æ™ºèƒ½ä½“

é€šè¿‡**å¸‚åœºç ”ç©¶****æ™ºèƒ½ä½“** ** (** **Market Research** ** Agent)** ï¼Œä½ è¿ˆå‡ºäº†æ„å»ºè¥é”€æ´»åŠ¨çš„ç¬¬ä¸€æ­¥ã€‚ä½ è¦æ±‚å®ƒä½¿ç”¨ `tavily_search_tool` æ‰«æç½‘ç»œï¼Œå‘ç°å½“ä¸‹å¤ªé˜³é•œçš„æµè¡Œè¶‹åŠ¿ã€‚ç„¶åï¼Œä½ æŒ‡ç¤ºå®ƒä½¿ç”¨ `product_catalog_tool` å°†è¿™äº›ä¿¡å·ä¸ä½ çš„å†…éƒ¨ç›®å½•è¿›è¡Œäº¤å‰æ ¸å¯¹ï¼Œè¿™æ ·ä½ å°±çŸ¥é“ä½ çš„å“ªäº›äº§å“ç¬¦åˆå½“ä¸‹çš„æ½®æµã€‚

è¯¥æ™ºèƒ½ä½“è¿”å›ä¸€ä»½ç®€æ´çš„ç®€æŠ¥ï¼šå®ƒå‘ç°çš„é¡¶çº§æ—¶å°šæ´å¯Ÿã€ä¸ä¹‹åŒ¹é…çš„äº§å“ï¼Œä»¥åŠå…³äºä¸ºä»€ä¹ˆè¿™äº›é€‰æ‹©é€‚åˆä½ çš„å¤å­£æ¨å¹¿çš„ç®€çŸ­è§£é‡Šã€‚è¿™ä¸ºä½ æä¾›äº†ä¸€ä¸ªæ¸…æ™°çš„ã€æ•°æ®é©±åŠ¨çš„åŸºç¡€ï¼Œä»¥å¡‘é€ è¥é”€æ´»åŠ¨çš„å…¶ä½™éƒ¨åˆ†ã€‚

ä½ ç°åœ¨å¯ä»¥è¿è¡Œä»¥ä¸‹å•å…ƒæ ¼ï¼Œåœ¨ä»£ç ä¸­å®šä¹‰**å¸‚åœºç ”ç©¶** **æ™ºèƒ½ä½“** ã€‚

```Plain
def market_research_agent(return_messages: bool = False):
 
    utils.log_agent_title_html("Market Research Agent", "ğŸ•µï¸â™‚ï¸")
 
    prompt_ = f"""
ä½ æ˜¯ä¸€åæ—¶å°šå¸‚åœºç ”ç©¶æ™ºèƒ½ä½“ï¼Œä»»åŠ¡æ˜¯ä¸ºå¤å­£å¤ªé˜³é•œè¥é”€æ´»åŠ¨å‡†å¤‡ä¸€ä»½è¶‹åŠ¿åˆ†ææŠ¥å‘Šã€‚
 
ä½ çš„ç›®æ ‡ï¼š
1. ä½¿ç”¨ç½‘ç»œæœç´¢æ¢ç´¢ä¸å¤ªé˜³é•œç›¸å…³çš„å½“å‰æ—¶å°šè¶‹åŠ¿ã€‚
2. å®¡æŸ¥å†…éƒ¨äº§å“ç›®å½•ï¼Œæ‰¾å‡ºä¸è¿™äº›è¶‹åŠ¿ç›¸ç¬¦çš„å•†å“ã€‚
3. ä»ç›®å½•ä¸­æ¨èä¸€ä¸ªæˆ–å¤šä¸ªæœ€ç¬¦åˆæ–°å…´è¶‹åŠ¿çš„äº§å“ã€‚
4. å¦‚æœéœ€è¦ï¼Œä»Šå¤©æ˜¯ {datetime.now().strftime("%Y-%m-%d")}ã€‚
 
ä½ å¯ä»¥è°ƒç”¨ä»¥ä¸‹å·¥å…·ï¼š
- tavily_search_tool: å‘ç°å¤–éƒ¨ç½‘ç»œè¶‹åŠ¿ã€‚
- product_catalog_tool: æ£€æŸ¥å†…éƒ¨å¤ªé˜³é•œç›®å½•ã€‚
 
åˆ†æå®Œæˆåï¼Œè¯·æ€»ç»“ï¼š
- ä½ å‘ç°çš„ 2-3 ä¸ªä¸»è¦è¶‹åŠ¿ã€‚
- ç›®å½•ä¸­ç¬¦åˆè¿™äº›è¶‹åŠ¿çš„äº§å“ã€‚
- å®ƒä»¬é€‚åˆå¤å­£è¥é”€æ´»åŠ¨çš„ç†ç”±ã€‚
"""
    messages = [{"role": "user", "content": prompt_}]
    tools_ = tools.get_available_tools()
 
    while True:
        response = client.chat.completions.create(
            model="openai:o4-mini",
            messages=messages,
            tools=tools_,
            tool_choice="auto"
        )
 
        msg = response.choices[0].message
 
        if msg.content:
            utils.log_final_summary_html(msg.content)
            return (msg.content, messages) if return_messages else msg.content
 
        if msg.tool_calls:
            for tool_call in msg.tool_calls:
                utils.log_tool_call_html(tool_call.function.name, tool_call.function.arguments)
                result = tools.handle_tool_call(tool_call)
                utils.log_tool_result_html(result)
 
                messages.append(msg)
                messages.append(tools.create_tool_response_message(tool_call, result))
        else:
            utils.log_unexpected_html()
            return ("[âš ï¸ Unexpected: No tool_calls or content returned]", messages) if return_messages else "[âš ï¸ Unexpected: No tool_calls or content returned]"
```

è®©æˆ‘ä»¬å°è¯•ä»**å¸‚åœºç ”ç©¶****æ™ºèƒ½ä½“**é‚£é‡Œè·å–ä¸€äº›å…³äºæˆ‘ä»¬å¤å­£å¤ªé˜³é•œè¥é”€æ´»åŠ¨çš„å»ºè®®ã€‚

```Plain
market_research_result = market_research_agent()
```

æ¥ä¸‹æ¥ï¼Œä½ å°†ä½¿ç”¨å¹³é¢è®¾è®¡å¸ˆæ™ºèƒ½ä½“å°†è¿™ä»½ç®€æŠ¥è½¬åŒ–ä¸ºè§†è§‰æ¦‚å¿µã€‚

#### å¹³é¢è®¾è®¡å¸ˆæ™ºèƒ½ä½“

é€šè¿‡**å¹³é¢è®¾è®¡å¸ˆ****æ™ºèƒ½ä½“** ** (Graphic Designer Agent)** ï¼Œä½ ä»åˆ†æè½¬å‘åˆ›æ„ã€‚

ä½ è·å–å¸‚åœºç ”ç©¶æ™ºèƒ½ä½“çš„ç®€æŠ¥ï¼Œå¹¶è¦æ±‚è¿™ä¸ªæ™ºèƒ½ä½“å°†å…¶è½¬åŒ–ä¸ºä¸€ä¸ª **è§†è§‰æ¦‚å¿µ** ã€‚

ç”±äº `aisuite` **å°šä¸æ”¯æŒ**ç›´æ¥ç”Ÿæˆå›¾åƒï¼ˆå¦‚ DALLÂ·Eï¼‰ï¼Œä½ å°†åˆ†ä¸¤ä¸ªé˜¶æ®µæŒ‡å¯¼è¯¥è¿‡ç¨‹ï¼š

1. é¦–å…ˆï¼Œæ™ºèƒ½ä½“ä½¿ç”¨ `aisuite` å’Œ OpenAI æ–‡æœ¬æ¨¡å‹ (o4-mini) æ¥æ‰“é€ ä¸€ä¸ªç”ŸåŠ¨çš„**æç¤ºè¯ (prompt)** å’Œä¸€ä¸ªç®€çŸ­ã€å¸å¼•äººçš„ **å›¾æ³¨ (caption)** ã€‚
2. ç„¶åï¼Œè¯¥æç¤ºè¯è¢«å‘é€åˆ° OpenAI çš„ `dall-e-3` APIï¼Œä»¥ç”Ÿæˆ**è¥é”€æ´»åŠ¨å›¾åƒ**æœ¬èº«ã€‚

ç»“æœä¸ºä½ æä¾›äº†æ¨è¿›æ‰€éœ€çš„ä¸€åˆ‡ï¼šç”Ÿæˆçš„å›¾åƒï¼ˆä¿å­˜åœ¨æœ¬åœ°ä»¥ä¾›é‡ç”¨ï¼‰ã€ç”Ÿæˆå®ƒçš„ç¡®åˆ‡æç¤ºè¯ï¼ˆæœ‰åŠ©äºè¿­ä»£ï¼‰ä»¥åŠç”¨äºè¥é”€æ´»åŠ¨æ•…äº‹è®²è¿°çš„ç²¾ç¾å›¾æ³¨ã€‚

**æ³¨æ„ï¼š** ç›®å‰ï¼Œ`aisuite` **ä¸æ”¯æŒ**ç›´æ¥ç”Ÿæˆå›¾åƒã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ å°†å…¶åŸºäºæ–‡æœ¬çš„è¾“å‡ºï¼ˆæç¤ºè¯ + å›¾æ³¨ï¼‰ä¸ OpenAI çš„ `dall-e-3` ç»“åˆèµ·æ¥ï¼Œä»¥ç”Ÿæˆæœ€ç»ˆçš„è¥é”€æ´»åŠ¨è§†è§‰ã€‚

ä½ ç°åœ¨å¯ä»¥è¿è¡Œä»¥ä¸‹å•å…ƒæ ¼ï¼Œåœ¨ä»£ç ä¸­å®šä¹‰**å¹³é¢è®¾è®¡å¸ˆ** **æ™ºèƒ½ä½“** ã€‚

```Plain
def graphic_designer_agent(trend_insights: str, caption_style: str = "short punchy", size: str = "1024x1024") -> dict:"""
    ä½¿ç”¨ aisuite ç”Ÿæˆè¥é”€æç¤ºè¯/å›¾æ³¨ï¼Œå¹¶ï¼ˆç›´æ¥ï¼‰ä½¿ç”¨ OpenAI ç”Ÿæˆå›¾åƒã€‚
 
    Args:
        trend_insights (str): æ¥è‡ªç ”ç©¶æ™ºèƒ½ä½“çš„è¶‹åŠ¿æ‘˜è¦ã€‚
        caption_style (str): å¯é€‰çš„å›¾æ³¨é£æ ¼æç¤ºã€‚
        size (str): å›¾åƒåˆ†è¾¨ç‡ (ä¾‹å¦‚, '1024x1024')ã€‚
 
    Returns:
        dict: åŒ…å« image_urlã€prompt å’Œ caption çš„å­—å…¸ã€‚
    """
 
    utils.log_agent_title_html("Graphic Designer Agent", "ğŸ¨")
 
    # æ­¥éª¤ 1: ä½¿ç”¨ aisuite ç”Ÿæˆæç¤ºè¯å’Œå›¾æ³¨
    system_message = (
        "ä½ æ˜¯ä¸€åè§†è§‰è¥é”€åŠ©æ‰‹ã€‚æ ¹æ®è¾“å…¥çš„è¶‹åŠ¿æ´å¯Ÿï¼Œ""ä¸º AI å›¾åƒç”Ÿæˆæ¨¡å‹ç¼–å†™ä¸€ä¸ªå¯Œæœ‰åˆ›æ„å’Œè§†è§‰å†²å‡»åŠ›çš„æç¤ºè¯ï¼Œå¹¶é™„ä¸Šä¸€å¥ç®€çŸ­çš„å›¾æ³¨ã€‚"
    )
 
    user_prompt = f"""
è¶‹åŠ¿æ´å¯Ÿï¼š
{trend_insights}
 
è¯·è¾“å‡ºï¼š
1. ä¸€ä¸ªç”ŸåŠ¨çš„ã€æè¿°æ€§çš„æç¤ºè¯ï¼Œç”¨äºæŒ‡å¯¼å›¾åƒç”Ÿæˆã€‚
2. ä¸€å¥é£æ ¼ä¸º {caption_style} çš„è¥é”€å›¾æ³¨ã€‚
 
è¯·æŒ‰æ­¤æ ¼å¼å›åº”ï¼š
{{"prompt": "...", "caption": "..."}}
"""
 
    chat_response = client.chat.completions.create(
        model="openai:o4-mini",
        messages=[
            {"role": "system", "content": system_message},
            {"role": "user", "content": user_prompt}
        ]
    )
 
    content = chat_response.choices[0].message.content.strip()
    match = re.search(r'\{.*\}', content, re.DOTALL)
    parsed = json.loads(match.group(0)) if match else {"error": "No JSON returned", "raw": content}
 
    prompt = parsed["prompt"]
    caption = parsed["caption"]
 
    # æ­¥éª¤ 2: ç›´æ¥ä½¿ç”¨ openai-python ç”Ÿæˆå›¾åƒ
    openai_client = openai.OpenAI()
 
    image_response = openai_client.images.generate(
        model="dall-e-3",
        prompt=prompt,
        size=size,
        quality="standard",
        n=1,
        response_format="url"
    )
 
    image_url = image_response.data[0].url
 
    # å°†å›¾åƒä¿å­˜åˆ°æœ¬åœ°
    img_bytes = requests.get(image_url).content
    img = Image.open(BytesIO(img_bytes))
 
    filename = os.path.basename(image_url.split("?")[0])
    image_path = filename
    img.save(image_path)
 
 
    # ä½¿ç”¨æœ¬åœ°å›¾åƒè®°å½•æ‘˜è¦
    utils.log_final_summary_html(f"""
        <h3>ç”Ÿæˆçš„å›¾åƒå’Œå›¾æ³¨</h3>
 
        <p><strong>å›¾åƒè·¯å¾„ï¼š</strong> <code>{image_path}</code></p>
 
        <p><strong>ç”Ÿæˆçš„å›¾åƒï¼š</strong></p>
        <img src="{image_path}" alt="Generated Image" style="max-width: 100%; height: auto; border: 1px solid #ccc; border-radius: 8px; margin-top: 10px; margin-bottom: 10px;">
 
        <p><strong>æç¤ºè¯ï¼š</strong> {prompt}</p>
    """)
 
 
    return {
        "image_url": image_url,
        "prompt": prompt,
        "caption": caption,
        "image_path": image_path  
    }
 
 
ç°åœ¨ï¼Œè®©æˆ‘ä»¬è¿è¡Œ `graphic_designer_agent`ï¼Œä½¿ç”¨**å¸‚åœºç ”ç©¶æ™ºèƒ½ä½“**æä¾›çš„è¶‹åŠ¿æ´å¯Ÿæ¥ç”Ÿæˆè¥é”€æ´»åŠ¨å›¾åƒã€‚
```

```Plain
graphic_designer_agent_result = graphic_designer_agent(
    trend_insights=market_research_result,
)
```

æœ‰äº†è§†è§‰ç´ æï¼Œä½ å°†ä½¿ç”¨æ–‡æ¡ˆæ’°å†™æ™ºèƒ½ä½“æ¥æ‰“é€ è¥é”€æ´»åŠ¨çš„å£°éŸ³ã€‚

#### æ–‡æ¡ˆæ’°å†™æ™ºèƒ½ä½“

ä¸€æ—¦**å¸‚åœºç ”ç©¶****æ™ºèƒ½ä½“**å’Œ**å¹³é¢è®¾è®¡å¸ˆæ™ºèƒ½ä½“**å®Œæˆäº†ä»–ä»¬çš„å·¥ä½œï¼Œä½ ç°åœ¨è½¬å‘ **æ–‡æ¡ˆæ’°å†™æ™ºèƒ½ä½“ (Copywriter Agent)** ã€‚åŒæ—¶æŒæ¡äº†è¥é”€æ´»åŠ¨å›¾åƒå’Œè¶‹åŠ¿æ‘˜è¦ï¼Œä½ è¦æ±‚è¿™ä¸ªæ™ºèƒ½ä½“æ¥æ‰“é€ ä½ çš„è¥é”€æ´»åŠ¨â€œä»£è¨€ä¹‹å£°â€ã€‚

å®ƒå°†è§†è§‰å’Œåˆ†æä¸€èµ·ä½œä¸º **å¤šæ¨¡æ€è¾“å…¥ (multimodal input)** ï¼Œç²¾å¿ƒåˆ¶ä½œä¸€å¥ç®€çŸ­ã€ä¼˜é›…çš„è¥é”€å¼•è¯­ (quote)ï¼Œä»¥æ•æ‰ä¿¡æ¯çš„ç²¾é«“ã€‚é™¤äº†å¼•è¯­ï¼Œå®ƒè¿˜ä¸ºä½ æä¾›äº†ä¸€ä¸ªæ¸…æ™°çš„ **ç†ç”±é˜é‡Š (justification)** â€”â€”ä¸ºä»€ä¹ˆè¿™ä¸ªçŸ­è¯­é€‚åˆè¿™å¼ å›¾ç‰‡ï¼Œä»¥åŠå®ƒå¦‚ä½•ä¸è¶‹åŠ¿ç›¸è”ç³»ã€‚

è¿™æ ·ï¼Œä½ ä¸ä»…å¾—åˆ°äº†ä¸€å¥å¸å¼•äººçš„æ ‡è¯­ï¼Œè¿˜å¾—åˆ°äº†å®ƒèƒŒåçš„æ¨ç†è¿‡ç¨‹ï¼Œä½¿å…¶åœ¨åˆ©ç›Šç›¸å…³è€…é¢å‰æ›´å®¹æ˜“å¾—åˆ°è¾©æŠ¤å’Œå®Œå–„ã€‚

```Plain
def copywriter_agent(image_path: str, trend_summary: str, model: str = "openai:o4-mini") -> dict:"""
    ä½¿ç”¨ aisuite (ä»…é™ OpenAI) å‘é€å›¾åƒå’Œè¶‹åŠ¿æ‘˜è¦ï¼Œå¹¶è¿”å›ä¸€å¥è¥é”€æ´»åŠ¨å¼•è¯­ã€‚
 
    Args:
        image_path (str): å¾…åˆ†æå›¾åƒçš„ URLã€‚
        trend_summary (str): æ¥è‡ªç ”ç©¶æ™ºèƒ½ä½“çš„æ–‡æœ¬ã€‚
        model (str): OpenAI æ¨¡å‹ (ä¾‹å¦‚, openai:o4-mini, openai:gpt-4o)
 
    Returns:
        dict: {
            "quote": "...",
            "justification": "...",
            "image_path": "..."
        }
    """
 
    utils.log_agent_title_html("Copywriter Agent", "âœï¸")
 
    # æ­¥éª¤ 1: åŠ è½½æœ¬åœ°å›¾åƒå¹¶ç¼–ç ä¸º base64with open(image_path, "rb") as f:
        img_bytes = f.read()
 
    b64_img = base64.b64encode(img_bytes).decode("utf-8")
 
    # æ­¥éª¤ 2: æ„å»ºå…¼å®¹ OpenAI çš„å¤šæ¨¡æ€æ¶ˆæ¯
    messages = [
        {
            "role": "system",
            "content": "ä½ æ˜¯ä¸€åæ–‡æ¡ˆæ’°å†™äººï¼Œæ ¹æ®å›¾åƒå’Œè¥é”€è¶‹åŠ¿æ‘˜è¦åˆ›ä½œä¼˜é›…çš„è¥é”€æ´»åŠ¨å¼•è¯­ã€‚"
        },
        {
            "role": "user",
            "content": [
                {
                    "type": "image_url",
                    "image_url": {
                        "url": f"data:image/png;base64,{b64_img}",
                        "detail": "auto"
                    }
                },
                {
                    "type": "text",
                    "text": f"""
è¿™æ˜¯ä¸€å¼ è§†è§‰è¥é”€å›¾åƒå’Œä¸€ä»½è¶‹åŠ¿åˆ†æï¼š
 
è¶‹åŠ¿æ‘˜è¦ï¼š
\"\"\"{trend_summary}\"\"\"
 
è¯·è¿”å›ä¸€ä¸ª JSON å¯¹è±¡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
{{
  "quote": "ä¸€å¥ç®€çŸ­ã€ä¼˜é›…çš„è¥é”€çŸ­è¯­ï¼ˆæœ€å¤š 12 ä¸ªè¯ï¼‰",
  "justification": "ä¸ºä»€ä¹ˆè¿™å¥å¼•è¯­ä¸å›¾åƒå’Œè¶‹åŠ¿ç›¸åŒ¹é…"
}}"""
                }
            ]
        }
    ]
 
    # æ­¥éª¤ 3: é€šè¿‡ aisuite å‘é€è¯·æ±‚
    response = client.chat.completions.create(
        model=model,
        messages=messages,
    )
 
    # æ­¥éª¤ 4: è§£æ JSON å“åº”
    content = response.choices[0].message.content.strip()
 
    utils.log_final_summary_html(content)
 
    try:
        match = re.search(r'\{.*\}', content, re.DOTALL)
        parsed = json.loads(match.group(0)) if match else {"error": "No valid JSON returned"}
    except Exception as e:
        parsed = {"error": f"Failed to parse: {e}", "raw": content}
 
 
    parsed["image_path"] = image_path
    return parsed
```

æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬è°ƒç”¨**æ–‡æ¡ˆæ’°å†™** **æ™ºèƒ½ä½“** ï¼Œæ ¹æ®æ—©å…ˆç”Ÿæˆçš„è¥é”€å›¾åƒå’Œè¶‹åŠ¿æ´å¯Ÿæ¥ç”Ÿæˆä¸€å¥ç®€çŸ­çš„è¥é”€æ´»åŠ¨å¼•è¯­ã€‚

```Plain
copywriter_agent_result = copywriter_agent(
    image_path=graphic_designer_agent_result["image_path"],
    trend_summary=market_research_result,
)
```

æœ‰äº†å¼•è¯­å’Œç†ç”±é˜é‡Šï¼Œä½ å°†ä½¿ç”¨å°è£…æ™ºèƒ½ä½“å°†æ‰€æœ‰å†…å®¹æ‰“åŒ…æˆä¸€ä»½å¯ä¾›é«˜ç®¡å®¡é˜…çš„äº§å‡ºç‰©ã€‚

#### å°è£…æ™ºèƒ½ä½“

æœ€åï¼Œä½ å¼•å…¥**å°è£…****æ™ºèƒ½ä½“**** (Packaging Agent)** æ¥å°†æ‰€æœ‰å†…å®¹æ•´åˆåœ¨ä¸€èµ·ã€‚åœ¨**å¸‚åœºç ”ç©¶** **æ™ºèƒ½ä½“** ã€**å¹³é¢è®¾è®¡å¸ˆæ™ºèƒ½ä½“**å’Œ**æ–‡æ¡ˆæ’°å†™æ™ºèƒ½ä½“**å„è‡ªè´¡çŒ®äº†ä»–ä»¬çš„éƒ¨åˆ†ä¹‹åï¼Œè¿™ä¸ªæ™ºèƒ½ä½“å°†æ•´ä¸ªæ•…äº‹æ±‡ç¼–æˆä¸€ä¸ªç²¾ç¾çš„äº§å‡ºç‰©ã€‚

ä½ è¦æ±‚å®ƒè·å–è¶‹åŠ¿æ‘˜è¦ã€è¥é”€æ´»åŠ¨è§†è§‰ã€ç²¾å¿ƒåˆ¶ä½œçš„å¼•è¯­å’Œç†ç”±é˜é‡Šï¼Œå¹¶å°†å®ƒä»¬ç»„è£…æˆä¸€ä»½**å¯ä¾›é«˜ç®¡å®¡é˜…çš„ ****Markdown** ** æŠ¥å‘Š** ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå®ƒä¼šä¸ºäº†æ¸…æ™°åº¦å’Œè¯­æ°”**é‡å†™**è¶‹åŠ¿æ´å¯Ÿï¼Œç¡®ä¿å¼•è¯­ä¸å›¾åƒæ°å½“æ­é…ï¼Œå¹¶ç»„ç»‡æ‰€æœ‰å†…å®¹ï¼Œä½¿æœ€ç»ˆæ–‡æ¡£çœ‹èµ·æ¥ä¸“ä¸šä¸”æœ‰è¯´æœåŠ›ã€‚

é€šè¿‡è¿™ä¸€æ­¥ï¼Œä½ æœ€ç»ˆå¾—åˆ°äº†ä¸€ä¸ªå®Œæ•´çš„è¥é”€æ´»åŠ¨åŒ…â€”â€”æ˜“äºåˆ†äº«ã€è§†è§‰ä¸Šå¸å¼•äººï¼Œå¹¶å‡†å¤‡å¥½ä¾› CEO çº§åˆ«çš„å®¡é˜…ã€‚

```Plain
def packaging_agent(trend_summary: str, image_url: str, quote: str, justification: str, output_path: str = "campaign_summary.md") -> str:"""
    å°†è¥é”€æ´»åŠ¨ç´ ææ‰“åŒ…æˆä¸€ä»½æ ¼å¼ç²¾ç¾çš„ Markdown æŠ¥å‘Šï¼Œä»¥ä¾›é«˜ç®¡å®¡é˜…ã€‚
 
    Args:
        trend_summary (str): å¸‚åœºè¶‹åŠ¿æ‘˜è¦ã€‚
        image_url (str): è¥é”€æ´»åŠ¨å›¾åƒçš„ URLã€‚
        quote (str): è¦å åŠ çš„è¥é”€å¼•è¯­ã€‚
        justification (str): å¯¹å¼•è¯­çš„è§£é‡Šã€‚
        output_path (str): ä¿å­˜ Markdown æŠ¥å‘Šçš„è·¯å¾„ã€‚
 
    Returns:
        str: ä¿å­˜çš„ Markdown æ–‡ä»¶çš„è·¯å¾„ã€‚
    """
 
    utils.log_agent_title_html("Packaging Agent", "ğŸ“¦")
 
    # æˆ‘ä»¬åœ¨ <img> çš„ src ä¸­ä½¿ç”¨æ­¤è·¯å¾„
    styled_image_html = f"""
![æ‰“å¼€ç”Ÿæˆçš„æ–‡ä»¶ä»¥æŸ¥çœ‹]({image_url})
    """
 
    beautified_summary = client.chat.completions.create(
        model="openai:o4-mini",
        messages=[
            {"role": "system", "content": "ä½ æ˜¯ä¸€åè¥é”€ä¼ æ’­ä¸“å®¶ï¼Œä¸ºé«˜ç®¡æ’°å†™ä¼˜é›…çš„è¥é”€æ´»åŠ¨æ‘˜è¦ã€‚"},
            {"role": "user", "content": f"""
è¯·é‡å†™ä»¥ä¸‹è¶‹åŠ¿æ‘˜è¦ï¼Œä½¿å…¶å¯¹ CEO å—ä¼—è€Œè¨€æ¸…æ™°ã€ä¸“ä¸šä¸”å…·å¸å¼•åŠ›ï¼š
 
\"\"\"{trend_summary.strip()}\"\"\"
"""}
        ]
    ).choices[0].message.content.strip()
 
    utils.log_tool_result_html(beautified_summary)
 
    # å°†æ‰€æœ‰éƒ¨åˆ†ç»„åˆæˆ Markdown
    markdown_content = f"""# ğŸ•¶ï¸ å¤å­£å¤ªé˜³é•œè¥é”€æ´»åŠ¨ â€“ é«˜ç®¡æ‘˜è¦
 
## ğŸ“Š ä¼˜åŒ–åçš„è¶‹åŠ¿æ´å¯Ÿ
{beautified_summary}
 
## ğŸ¯ è¥é”€æ´»åŠ¨è§†è§‰
{styled_image_html}
 
## âœï¸ è¥é”€æ´»åŠ¨å¼•è¯­
{quote.strip()}
 
## âœ… ä¸ºä»€ä¹ˆè¿™å¾ˆæœ‰æ•ˆ
{justification.strip()}
 
---
 
*æŠ¥å‘Šç”Ÿæˆäº {datetime.now().strftime('%Y-%m-%d')}*
"""with open(output_path, "w", encoding="utf-8") as f:
        f.write(markdown_content)
 
    return output_path
 
 
å‡†å¤‡å¥½ä½ çš„è¶‹åŠ¿æ‘˜è¦ã€è¥é”€æ´»åŠ¨å›¾åƒå’Œå¼•è¯­åï¼Œä½ ç°åœ¨å°†æ‰€æœ‰å†…å®¹äº¤ç»™**å°è£…æ™ºèƒ½ä½“**ã€‚å®ƒçš„å·¥ä½œæ˜¯å°†è¿™äº›éƒ¨åˆ†ç»„åˆæˆä¸€ä»½ç²¾ç¾çš„ã€å¯ä¾›é«˜ç®¡å®¡é˜…çš„æŠ¥å‘Šã€‚è¿è¡Œä¸‹ä¸€ä¸ªå•å…ƒæ ¼æ¥ç”Ÿæˆå®ƒã€‚
```

```Plain
packaging_agent_result = packaging_agent(
    trend_summary=market_research_result,
    image_url=graphic_designer_agent_result["image_path"],
    quote=copywriter_agent_result["quote"],
    justification=copywriter_agent_result["justification"],
    output_path=f"campaign_summary_{datetime.now().strftime('%Y-%m-%d_%H-%M-%S')}.md"
)
```

æœ€ç»ˆç»“æœå°†æ˜¯ä¸€ä»½æ ¼å¼ç²¾ç¾çš„è¥é”€æ´»åŠ¨æŠ¥å‘Šï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ notebook ä¸­æŸ¥çœ‹ã€‚å®ƒå°†åŒ…æ‹¬ï¼š

* ä¸€ä»½ **ä¼˜åŒ–åçš„è¶‹åŠ¿æ‘˜è¦** ï¼Œä½ å°†çœ‹åˆ°å®ƒè¢«é‡å†™ä»¥ä½¿é«˜ç®¡æ›´æ¸…æ™°åœ°ç†è§£
* ä¸€ä¸ª **è§†è§‰é£æ ¼åŒ–çš„å›¾åƒ** ï¼Œç”¨ HTML å åŠ ä½ çš„è¥é”€æ´»åŠ¨å¼•è¯­
* ä¸€ä¸ª **æ¸…æ™°çš„ç†ç”±é˜é‡Š** ï¼Œè®©ä½ æ˜ç™½ä¸ºä»€ä¹ˆè§†è§‰å’Œä¿¡æ¯ä¸å½“å‰è¶‹åŠ¿ä¸€è‡´
* ä¸€ä¸ª **æ—¶é—´æˆ³** ï¼Œæ˜¾ç¤ºæŠ¥å‘Šçš„ç¡®åˆ‡ç”Ÿæˆæ—¶é—´

ä½ å¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼æŸ¥çœ‹å®ƒï¼š

```Plain
# åŠ è½½å¹¶æ¸²æŸ“ Markdown å†…å®¹with open(packaging_agent_result, "r", encoding="utf-8") as f:
    md_content = f.read()
 
display(Markdown(md_content))
```

æœ€åï¼Œä½ å°†æŠŠæ•´ä¸ªå·¥ä½œæµåŒ…è£…æˆä¸€ä¸ªå•ä¸€çš„å¯è°ƒç”¨å‡½æ•°ï¼Œä»¥ä¾¿ä¸€æ­¥è¿è¡Œå®Œæ•´çš„æµç¨‹ã€‚

---

#### å®Œæ•´çš„è¥é”€æ´»åŠ¨æµç¨‹ â€“ `run_sunglasses_campaign_pipeline`

åœ¨æ­¤æ­¥éª¤ä¸­ï¼Œä½ å°†å®šä¹‰ä¸€ä¸ªå•ä¸€å‡½æ•° `run_sunglasses_campaign_pipeline`ï¼Œå®ƒå°†æ‰€æœ‰éƒ¨åˆ†æ•´åˆæˆä¸€ä¸ªä¸ºä½ çš„å¤å­£å¤ªé˜³é•œè¥é”€æ´»åŠ¨è®¾è®¡çš„æ— ç¼å·¥ä½œæµã€‚

è¯¥å‡½æ•°å°†ï¼š

1. è¿è¡Œå¸‚åœºç ”ç©¶ï¼Œæ‰«ææ—¶å°šè¶‹åŠ¿å¹¶å°†å…¶ä¸ä½ çš„ç›®å½•åŒ¹é…ã€‚
2. ç”Ÿæˆè§†è§‰é£æ ¼åŒ–çš„å›¾åƒå’Œå›¾æ³¨ã€‚
3. åˆ›å»ºä¸€å¥ç®€çŸ­ã€ä¼˜é›…çš„è¥é”€æ´»åŠ¨å¼•è¯­ï¼Œå¹¶é™„ä¸Šç†ç”±é˜é‡Šã€‚
4. å°†æ‰€æœ‰å†…å®¹æ‰“åŒ…æˆä¸€ä»½ä¸ºé«˜ç®¡å®¡é˜…é‡èº«å®šåˆ¶çš„ç²¾ç¾ Markdown æŠ¥å‘Šã€‚

é€šè¿‡å®šä¹‰æ­¤å‡½æ•°ï¼Œä½ å¯ä»¥è½»æ¾åœ° **é€šè¿‡ä¸€æ¬¡è°ƒç”¨è¿è¡Œæ•´ä¸ªæµç¨‹** ï¼ŒåŒæ—¶ä»èƒ½è·Ÿè¸ªä¸­é—´ç»“æœå¹¶æŸ¥çœ‹æœ€ç»ˆæŠ¥å‘Šã€‚

```Plain
def run_sunglasses_campaign_pipeline(output_path: str = "campaign_summary.md") -> dict:"""
    è¿è¡Œå®Œæ•´çš„å¤å­£å¤ªé˜³é•œè¥é”€æ´»åŠ¨æµç¨‹ï¼š
    1. å¸‚åœºç ”ç©¶ï¼ˆæœç´¢è¶‹åŠ¿ + åŒ¹é…äº§å“ï¼‰
    2. ç”Ÿæˆè§†è§‰ + å›¾æ³¨
    3. æ ¹æ®å›¾åƒ + è¶‹åŠ¿ç”Ÿæˆå¼•è¯­
    4. åˆ›å»ºé«˜ç®¡ Markdown æŠ¥å‘Š
 
    Returns:
        dict: åŒ…å«æ‰€æœ‰ä¸­é—´ç»“æœ + æœ€ç»ˆæŠ¥å‘Šè·¯å¾„çš„å­—å…¸
    """# 1. è¿è¡Œå¸‚åœºç ”ç©¶æ™ºèƒ½ä½“
    trend_summary = market_research_agent()
    print("âœ… å¸‚åœºç ”ç©¶å®Œæˆ")
 
    # 2. ç”Ÿæˆå›¾åƒ + å›¾æ³¨
    visual_result = graphic_designer_agent(trend_insights=trend_summary)
    image_path = visual_result["image_path"]
    print("ğŸ–¼ï¸ å›¾åƒå·²ç”Ÿæˆ")
 
    # 3. æ ¹æ®å›¾åƒ + è¶‹åŠ¿ç”Ÿæˆå¼•è¯­
    quote_result = copywriter_agent(image_path=image_path, trend_summary=trend_summary)
    quote = quote_result.get("quote", "")
    justification = quote_result.get("justification", "")
    print("ğŸ’¬ å¼•è¯­å·²åˆ›å»º")
 
    # 4. ç”Ÿæˆ Markdown æŠ¥å‘Š
    md_path = packaging_agent(
        trend_summary=trend_summary,
        image_url=image_path,  
        quote=quote,
        justification=justification,
        output_path=f"campaign_summary_{datetime.now().strftime('%Y-%m-%d_%H-%M-%S')}.md"
    )
 
    print(f"ğŸ“¦ æŠ¥å‘Šå·²ç”Ÿæˆ: {md_path}")
 
    return {
        "trend_summary": trend_summary,
        "visual": visual_result,
        "quote": quote_result,
        "markdown_path": md_path
    }
 
 
ä½ ç°åœ¨å¯ä»¥é€šè¿‡ä¸€æ¬¡è°ƒç”¨è¿è¡Œè¯¥æµç¨‹æ¥åˆ›å»ºä¸€ä»½å®Œæ•´çš„è¥é”€æ´»åŠ¨æŠ¥å‘Šã€‚åªéœ€æ‰§è¡Œä¸‹ä¸€ä¸ªå•å…ƒæ ¼ï¼š
```

```Plain
results = run_sunglasses_campaign_pipeline()
```

#### ç»“æœ

è¿è¡Œä»¥ä¸‹å•å…ƒæ ¼ä»¥æŸ¥çœ‹å®Œæ•´è¥é”€æ´»åŠ¨æµç¨‹ç”Ÿæˆçš„è¾“å‡ºã€‚

```Plain
with open(results["markdown_path"], "r", encoding="utf-8") as f:
    md_content = f.read()
display(Markdown(md_content))
```

---

5. ### å…³é”®æ€»ç»“

é€šè¿‡å®Œæˆæœ¬å®éªŒï¼Œä½ å·²ç»äº†è§£äº†å¦‚ä½•ï¼š

* ä½¿ç”¨**å¤š****æ™ºèƒ½ä½“****LLM**** æµç¨‹**æ¥ç«¯åˆ°ç«¯åœ°è‡ªåŠ¨åŒ–åˆ›æ„å·¥ä½œæµã€‚
* ç»“åˆ **æ¨ç†ã€å·¥å…·è°ƒç”¨å’Œå¤–éƒ¨æ•°æ®** ï¼Œå°†ä½ çš„è¾“å‡ºé”šå®šäºç°å®ã€‚
* åº”ç”¨ **å¤šæ¨¡æ€æ¨¡å‹** ï¼ˆå¦‚ `gpt-4o`ï¼‰å¤„ç† **æ–‡æœ¬å’Œå›¾åƒ** ï¼Œä»¥å®Œæˆè¯¸å¦‚ç”Ÿæˆè¥é”€æ´»åŠ¨å¼•è¯­ä¹‹ç±»çš„ä»»åŠ¡ã€‚
* ä½¿ç”¨å·¥å…·ï¼ˆ`tavily_search_tool`, `product_catalog_tool`ï¼‰æ‰©å±•æ¨¡å‹çš„èƒ½åŠ›ï¼Œä½¿ä½ çš„è¾“å‡ºä¸ä»…å¯Œæœ‰æƒ³è±¡åŠ›ï¼Œè€Œä¸”å®ç”¨ã€‚
* é€šè¿‡ç»“æ„åŒ–æ—¥å¿—å’Œ HTML é£æ ¼çš„å—ï¼Œä¿æŒæ‰§è¡Œè¿‡ç¨‹ **é€æ˜ä¸”å¯è°ƒè¯•** ã€‚
* ä»¥ Markdown æ ¼å¼äº¤ä»˜ä¸€ä»½ç²¾ç¾çš„ã€ **å¯ä¾›é«˜ç®¡å®¡é˜…çš„æŠ¥å‘Š** ï¼Œå°†æ´å¯Ÿã€è§†è§‰å’Œç†ç”±é˜é‡Šèåˆæˆä¸€ä¸ªå•ä¸€çš„äº§å‡ºç‰©ã€‚

ğŸ‰ **æ­å–œï¼** ğŸ‰

ç°åœ¨ä½ å·²ç»æˆåŠŸæ„å»ºå¹¶è¿è¡Œäº†ä¸€ä¸ª**å¤š****æ™ºèƒ½ä½“** **æµç¨‹** ï¼šä½ ç ”ç©¶äº†è¶‹åŠ¿ï¼Œç”Ÿæˆäº†è§†è§‰ç´ æï¼Œç²¾å¿ƒåˆ¶ä½œäº†è¥é”€æ´»åŠ¨å¼•è¯­ï¼Œå¹¶å°†æ‰€æœ‰å†…å®¹æ‰“åŒ…æˆä¸€ä»½ **å¯ä¾›é«˜ç®¡å®¡é˜…çš„æŠ¥å‘Š** ã€‚

è¿™ä¸ªå·¥ä½œæµå‘ä½ å±•ç¤ºäº†å¦‚ä½•å°† **LLM çš„åˆ›é€ åŠ›**ä¸**ç»“æ„åŒ–ç¼–æ’çš„è§„èŒƒæ€§**ç»“åˆèµ·æ¥ï¼Œä¸ºä½ æä¾›ä¸€ä¸ªå¯é‡å¤çš„æ¨¡å¼ï¼Œä½ å¯ä»¥å°†å…¶åº”ç”¨äºè®¸å¤šç°å®ä¸–ç•Œçš„åœºæ™¯ã€‚ ğŸŒŸ

7. ## **Communication patterns for multi-agent systems** â€”â€” å¤šä»£ç†ç³»ç»Ÿçš„é€šä¿¡æ¨¡å¼

å½“æ‚¨æœ‰ä¸€ä¸ª**å›¢é˜Ÿ**ååŒå·¥ä½œæ—¶ï¼Œä»–ä»¬ä¹‹é—´çš„**é€šä¿¡æ¨¡å¼**å¯èƒ½ä¼š **éå¸¸å¤æ‚** ã€‚äº‹å®ä¸Šï¼Œè®¾è®¡**ç»„ç»‡****ç»“æ„å›¾**æœ¬èº«å°±æ˜¯ä¸€ä»¶ç›¸å½“å¤æ‚çš„äº‹æƒ…ï¼Œéœ€è¦å¼„æ¸…æ¥šäººä»¬**æ²Ÿé€šåä½œçš„æœ€ä½³æ–¹å¼**æ˜¯ä»€ä¹ˆã€‚

0:06

äº‹å®è¯æ˜ï¼Œè®¾è®¡**å¤šä»£ç†ç³»ç»Ÿçš„é€šä¿¡æ¨¡å¼**ä¹Ÿ **ç›¸å½“å¤æ‚** ã€‚ä½†è®©æˆ‘å‘æ‚¨å±•ç¤ºä¸€äº›æˆ‘ä»Šå¤©çœ‹åˆ°çš„è¢«ä¸åŒå›¢é˜Ÿä½¿ç”¨çš„ **æœ€å¸¸è§çš„è®¾è®¡æ¨¡å¼** ã€‚

0:16

åœ¨é‡‡ç”¨**çº¿æ€§è®¡åˆ’**çš„è¥é”€å›¢é˜Ÿä¸­ï¼Œå…ˆæ˜¯ç ”ç©¶å‘˜å·¥ä½œï¼Œç„¶åæ˜¯å¹³é¢è®¾è®¡å¸ˆï¼Œæ¥ç€æ˜¯æ’°ç¨¿äººï¼Œå…¶ **é€šä¿¡æ¨¡å¼æ˜¯çº¿æ€§çš„** ã€‚

0:26

ç ”ç©¶å‘˜ä¼šä¸å¹³é¢è®¾è®¡å¸ˆæ²Ÿé€šï¼Œç ”ç©¶å‘˜å’Œå¹³é¢è®¾è®¡å¸ˆéƒ½å¯èƒ½ä¼šå°† **è¾“å‡ºä¼ é€’ç»™æ’°ç¨¿äºº** ã€‚å› æ­¤ï¼Œè¿™æ˜¯ä¸€ç§ **éå¸¸çº¿æ€§çš„é€šä¿¡æ¨¡å¼** ã€‚è¿™æ˜¯æˆ‘ä»Šå¤©çœ‹åˆ°è¢«ä½¿ç”¨çš„ **ä¸¤ç§æœ€å¸¸è§çš„é€šä¿¡è®¡åˆ’ä¹‹ä¸€** ã€‚

0:40

ç¬¬äºŒç§æœ€å¸¸è§çš„é€šä¿¡è®¡åˆ’ç±»ä¼¼äºæ‚¨åœ¨è¿™ä¸ªä½¿ç”¨å¤šä»£ç†è¿›è¡Œè§„åˆ’çš„ä¾‹å­ä¸­çœ‹åˆ°çš„ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª**ç»ç†**ä¸è®¸å¤š**å›¢é˜Ÿæˆå‘˜**è¿›è¡Œæ²Ÿé€šå¹¶ **åè°ƒä»–ä»¬çš„å·¥ä½œ** ã€‚

0:46

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¥é”€ç»ç†å†³å®š**è°ƒç”¨ç ”ç©¶å‘˜**è¿›è¡Œä¸€äº›å·¥ä½œã€‚å¦‚æœæ‚¨å°†è¥é”€ç»ç†è§†ä¸º **æ¥æ”¶æŠ¥å‘Š** ï¼Œç„¶åå°†å…¶ **å‘é€ç»™å¹³é¢è®¾è®¡å¸ˆ** ï¼Œæ¥æ”¶æŠ¥å‘Šï¼Œç„¶å **å‘é€ç»™æ’°ç¨¿äºº** ï¼Œé‚£ä¹ˆè¿™å°†æ˜¯ä¸€ç§ **å±‚çº§å¼é€šä¿¡æ¨¡å¼ (hierarchical communication pattern)** ã€‚

1:05

å¦‚æœæ‚¨å®é™…å®ç°å±‚çº§å¼é€šä¿¡æ¨¡å¼ï¼Œè®© **ç ”ç©¶å‘˜å°†æŠ¥å‘Šä¼ å›ç»™è¥é”€ç»ç†** ï¼Œè€Œä¸æ˜¯è®©ç ”ç©¶å‘˜ç›´æ¥å°†ç»“æœä¼ é€’ç»™å¹³é¢è®¾è®¡å¸ˆå’Œæ’°ç¨¿äººï¼Œå¯èƒ½ä¼šæ›´ç®€å•ã€‚

1:20

ä½†è¿™ç§**å±‚çº§ç»“æ„**ä¹Ÿæ˜¯ä¸€ç§è§„åˆ’é€šä¿¡æ¨¡å¼çš„**ç›¸å½“å¸¸è§**æ–¹å¼ï¼Œå³æ‚¨æœ‰ä¸€ä¸ª**ç»ç†**æ¥ **åè°ƒè®¸å¤šå…¶ä»–ä»£ç†çš„å·¥ä½œ** ã€‚

1:34

ä¸ºäº†ä¸æ‚¨åˆ†äº«ä¸€äº›**æ›´é«˜çº§**ä¸” **ä½¿ç”¨é¢‘ç‡è¾ƒä½** ï¼Œä½†åœ¨å®è·µä¸­æœ‰æ—¶ä¹Ÿä¼šä½¿ç”¨çš„é€šä¿¡æ¨¡å¼ï¼š

1:45

ä¸€ç§æ˜¯ **æ›´æ·±çš„å±‚çº§ç»“æ„ (deeper hierarchy)** ã€‚ä¸ä¹‹å‰ä¸€æ ·ï¼Œè¥é”€ç»ç†å‘ç ”ç©¶å‘˜ã€å¹³é¢è®¾è®¡å¸ˆã€æ’°ç¨¿äººå‘é€ä»»åŠ¡ï¼Œä½†**ç ”ç©¶å‘˜æœ¬èº«**å¯èƒ½åˆè°ƒç”¨ **å¦å¤–ä¸¤ä¸ªä»£ç†** ï¼Œä¾‹å¦‚**ç½‘ç»œç ”ç©¶å‘˜**å’Œ **äº‹å®æ ¸æŸ¥å‘˜** ã€‚

1:50

å¹³é¢è®¾è®¡å¸ˆå¯èƒ½åªæ˜¯ç‹¬è‡ªå·¥ä½œï¼Œè€Œæ’°ç¨¿äººå¯èƒ½æœ‰**åˆæ­¥æ–‡é£æ’°ç¨¿äºº**å’Œ **å¼•ç”¨æ ¸æŸ¥å‘˜** ã€‚å› æ­¤ï¼Œè¿™å°†æ˜¯ä¸€ç§ **å±‚çº§å¼çš„ä»£ç†ç»„ç»‡** ï¼Œå…¶ä¸­ä¸€äº›ä»£ç† **æœ¬èº«å¯èƒ½ä¼šè°ƒç”¨å…¶ä»–å­ä»£ç†** ã€‚

2:07

æˆ‘åœ¨ä¸€äº›åº”ç”¨ä¸­ä¹Ÿçœ‹åˆ°äº†è¿™ç§ç”¨æ³•ï¼Œä½†è¿™æ¯”å•å±‚å±‚çº§ç»“æ„ **å¤æ‚å¾—å¤š** ï¼Œæ‰€ä»¥ä»Šå¤©ä½¿ç”¨é¢‘ç‡è¾ƒä½ã€‚

2:19

æœ€åä¸€ç§æ¨¡å¼ **æ‰§è¡Œèµ·æ¥ç›¸å½“å…·æœ‰æŒ‘æˆ˜æ€§** ï¼Œä½†æˆ‘çœ‹åˆ°ä¸€äº›å®éªŒæ€§é¡¹ç›®åœ¨ä½¿ç”¨ï¼Œé‚£å°±æ˜¯ **å…¨äº’è”é€šä¿¡æ¨¡å¼ (all-to-all communication pattern)** ã€‚

2:25

åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œ**ä»»ä½•äºº**éƒ½ **è¢«å…è®¸éšæ—¶ä¸å…¶ä»–äººäº¤è°ˆ** ã€‚

2:31

æ‚¨å®ç°æ­¤æ¨¡å¼çš„æ–¹å¼æ˜¯ï¼šæ‚¨ **æç¤ºæ‰€æœ‰å››ä¸ªä»£ç†** ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼‰ï¼Œå‘Šè¯‰å®ƒä»¬ **è¿˜æœ‰å…¶ä»–ä¸‰ä¸ªä»£ç†å¯ä»¥å†³å®šè°ƒç”¨** ã€‚å½“æ‚¨çš„ä¸€ä¸ªä»£ç†å†³å®šå‘å¦ä¸€ä¸ªä»£ç†å‘é€æ¶ˆæ¯æ—¶ï¼Œè¯¥æ¶ˆæ¯ä¼šè¢«**æ·»åŠ åˆ°æ¥æ”¶ä»£ç†çš„è”ç³»äºº**ä¸­ã€‚

2:44

ç„¶åï¼Œæ¥æ”¶ä»£ç†å¯ä»¥æ€è€ƒä¸€ä¼šå„¿ï¼Œå¹¶å†³å®š**ä½•æ—¶å›å¤**ç¬¬ä¸€ä¸ªä»£ç†ã€‚å› æ­¤ï¼Œå®ƒä»¬å¯ä»¥åœ¨ä¸€ä¸ªç¾¤ä½“ä¸­**åä½œå’Œç›¸äº’äº¤è°ˆ**ä¸€æ®µæ—¶é—´ï¼Œç›´åˆ°ï¼ˆä¾‹å¦‚ï¼‰å®ƒä»¬ä¸­çš„**æ¯ä¸€ä¸ª**éƒ½å£°æ˜**å·²å®Œæˆ**ä»»åŠ¡ï¼Œç„¶åå¼€å§‹åœæ­¢äº¤è°ˆã€‚ä¹Ÿè®¸å½“æ‰€æœ‰äººéƒ½è®¤ä¸ºä»»åŠ¡å®Œæˆæ—¶ï¼Œæˆ–è€…å½“æ’°ç¨¿äººå¾—å‡ºç»“è®ºè¯´æŠ¥å‘Šè¶³å¤Ÿå¥½æ—¶ï¼Œå°±ç”Ÿæˆæœ€ç»ˆè¾“å‡ºã€‚

3:07

åœ¨å®è·µä¸­ï¼Œæˆ‘å‘ç° **å…¨äº’è”é€šä¿¡æ¨¡å¼çš„ç»“æœæœ‰ç‚¹éš¾ä»¥é¢„æµ‹** ã€‚

3:13

å› æ­¤ï¼Œæœ‰äº›åº”ç”¨ä¸éœ€è¦é«˜åº¦æ§åˆ¶ã€‚æ‚¨å¯ä»¥è¿è¡Œå®ƒï¼Œçœ‹çœ‹æ‚¨å¾—åˆ°äº†ä»€ä¹ˆã€‚å¦‚æœè¥é”€æ‰‹å†Œä¸å¤Ÿå¥½ï¼Œé‚£å¯èƒ½æ²¡å…³ç³»ã€‚æ‚¨åªéœ€å†è¿è¡Œä¸€æ¬¡ï¼Œçœ‹çœ‹æ˜¯å¦å¾—åˆ°äº†ä¸åŒçš„ç»“æœã€‚

3:22

ä½†æˆ‘è®¤ä¸ºå¯¹äºé‚£äº›**æ„¿æ„å®¹å¿ä¸€äº›æ··ä¹±å’Œä¸å¯é¢„æµ‹æ€§**çš„åº”ç”¨ï¼Œæˆ‘ç¡®å®çœ‹åˆ°ä¸€äº›å¼€å‘äººå‘˜åœ¨ä½¿ç”¨è¿™ç§é€šä¿¡æ¨¡å¼ã€‚

3:37

æˆ‘å¸Œæœ›è¿™èƒ½ä¼ è¾¾å¤šä»£ç†ç³»ç»Ÿçš„ **ä¸€äº›ä¸°å¯Œæ€§** ã€‚ä»Šå¤©ï¼Œä¹Ÿæœ‰**ç›¸å½“å¤šçš„è½¯ä»¶æ¡†æ¶**æ”¯æŒè½»æ¾æ„å»ºå¤šä»£ç†ç³»ç»Ÿã€‚å®ƒä»¬ä¹Ÿä½¿å¾—å®ç°å…¶ä¸­ä¸€äº›é€šä¿¡æ¨¡å¼ **ç›¸å¯¹å®¹æ˜“** ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨ä½¿ç”¨è‡ªå·±çš„å¤šä»£ç†ç³»ç»Ÿï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°å…¶ä¸­ä¸€äº›æ¡†æ¶å¯¹äºæ¢ç´¢è¿™äº›ä¸åŒçš„é€šä¿¡æ¨¡å¼å¾ˆæœ‰å¸®åŠ©ã€‚

3:44

ç°åœ¨ï¼Œè¿™ä¹Ÿå°†æˆ‘ä»¬å¸¦åˆ°äº† **æœ¬å•å…ƒå’Œæœ¬è¯¾ç¨‹çš„æœ€åä¸€ä¸ªè§†é¢‘** ã€‚è®©æˆ‘ä»¬ç»§ç»­è§‚çœ‹æœ€åä¸€ä¸ªè§†é¢‘è¿›è¡Œæ€»ç»“ã€‚

1. ## Module 5 quiz** â€”â€” æ¨¡å—5æµ‹éªŒ
2. ## M5 Graded Assignment - Agentic Workflows** â€”â€” æ¨¡å—5è¯„åˆ†ä½œä¸šï¼šæ™ºèƒ½ä»£ç†å·¥ä½œæµç¨‹
3.  ## **Conclusion** â€”â€” æ€»ç»“

æ¬¢è¿æ¥åˆ°æœ¬è¯¾ç¨‹çš„ **æœ€åä¸€ä¸ªè§†é¢‘** ã€‚æ„Ÿè§‰æˆ‘ä»¬ä¸€èµ·ç»å†äº†è®¸å¤šï¼Œåªæœ‰ä½ å’Œæˆ‘ï¼Œæˆ‘ä»¬å…±åŒå­¦ä¹ äº†**ä»£ç†å¼ ****AI** ä¸­çš„è®¸å¤šä¸»é¢˜ã€‚è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ã€‚

0:04

åœ¨**ç¬¬ä¸€ä¸ªå•å…ƒ**ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†**ä»£ç†å¼ ****AI** å¯ä»¥æ„å»ºçš„ã€**ä»¥å‰ä¸å¯èƒ½å®ç°**çš„åº”ç”¨ã€‚

0:10

ç„¶åæˆ‘ä»¬å¼€å§‹ç ”ç©¶ **å…³é”®è®¾è®¡æ¨¡å¼** ï¼ŒåŒ…æ‹¬ **åæ€ (reflection) è®¾è®¡æ¨¡å¼** ï¼ˆè¿™æ˜¯ä¸€ç§ç®€å•çš„ã€æœ‰æ—¶èƒ½ç»™æ‚¨çš„åº”ç”¨å¸¦æ¥è‰¯å¥½æ€§èƒ½æå‡çš„æ–¹æ³•ï¼‰ï¼Œä»¥åŠ **å·¥å…·ä½¿ç”¨ (tool use) æˆ–å‡½æ•°è°ƒç”¨ (function calling)** ï¼ˆå®ƒæ‰©å±•äº†æ‚¨çš„ LLM åº”ç”¨çš„èƒ½åŠ›ï¼Œ**ä»£ç æ‰§è¡Œ**æ˜¯å…¶ä¸­ä¸€ä¸ªé‡è¦çš„ä¾‹å­ï¼‰ã€‚

0:22

æ¥ç€ï¼Œæˆ‘ä»¬èŠ±è´¹å¤§é‡æ—¶é—´è®¨è®ºäº†**è¯„ä¼° (evaluations)** å’Œ **é”™è¯¯åˆ†æ (error analysis)** ï¼Œä»¥åŠå¦‚ä½•æ¨åŠ¨ä¸€ä¸ª **ä¸¥è°¨çš„æµç¨‹** ï¼Œå°†**æ„å»º**ä¸**åˆ†æ**ç»“åˆèµ·æ¥ï¼Œä»è€Œé«˜æ•ˆåœ°ä¸æ–­æé«˜æ‚¨çš„ä»£ç†å¼ AI ç³»ç»Ÿçš„æ€§èƒ½ã€‚

0:38

è¿™**ç¬¬å››ä¸ªå•å…ƒ**ä¸­çš„ä¸€äº›ææ–™ï¼Œæˆ‘å¸Œæœ›æ‚¨åœ¨**é•¿æœŸæ„å»ºä»£ç†å¼ ****AI**** ç³»ç»Ÿ**çš„è¿‡ç¨‹ä¸­ä¼šè§‰å¾— **éå¸¸æœ‰ç”¨** ã€‚

0:50

åœ¨æœ¬å•å…ƒä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†**è§„åˆ’ (planning)** å’Œ **å¤šä»£ç†ç³»ç»Ÿ (multi-agent systems)** ï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©æ‚¨æ„å»º **æ›´å¼ºå¤§** ï¼Œå°½ç®¡æœ‰æ—¶ **æ›´éš¾æ§åˆ¶** ã€**æ›´éš¾äº‹å…ˆé¢„æµ‹**çš„ç³»ç»Ÿã€‚

1:01

å› æ­¤ï¼Œå‡­å€Ÿæ‚¨ä»æœ¬è¯¾ç¨‹å­¦åˆ°çš„æŠ€èƒ½ï¼Œæˆ‘è®¤ä¸ºæ‚¨ç°åœ¨çŸ¥é“å¦‚ä½•æ„å»ºè®¸å¤š**é…·ç‚«ã€ä»¤äººå…´å¥‹çš„ä»£ç†å¼ ****AI** ** åº”ç”¨** ã€‚

1:13

å½“æˆ‘çš„å›¢é˜Ÿï¼Œæˆ–è€…æˆ‘çœ‹åˆ°å…¶ä»–å›¢é˜Ÿåœ¨è¿›è¡Œ**é¢è¯•æ‹›è˜**æ—¶ï¼Œæˆ‘å‘ç°é¢è¯•é€šå¸¸è¯•å›¾è¯„ä¼°å€™é€‰äººæ˜¯å¦å…·å¤‡ **æ‚¨æ­£åœ¨æœ¬è¯¾ç¨‹ä¸­å­¦ä¹ çš„è¿™äº›æŠ€èƒ½** ã€‚å› æ­¤ï¼Œæˆ‘å¸Œæœ›æœ¬è¯¾ç¨‹ä¹Ÿèƒ½ä¸ºæ‚¨å¼€å¯ **æ–°çš„èŒä¸šæœºä¼š** ï¼Œå¹¶è®©æ‚¨èƒ½åšæ›´å¤šäº‹æƒ…ã€‚

1:19

æ— è®ºæ‚¨æ˜¯ä¸ºäº†ä¹è¶£è¿˜æ˜¯åœ¨ä¸“ä¸šçš„å®è·µç¯å¢ƒä¸­åšè¿™äº›äº‹æƒ…ï¼Œæˆ‘è®¤ä¸ºæ‚¨éƒ½ä¼šå–œæ¬¢è¿™ **å¥—æ–°çš„æ„å»ºèƒ½åŠ›** ã€‚

1:36

æœ€åï¼Œæˆ‘æƒ³å†æ¬¡**æ„Ÿè°¢**æ‚¨ä¸æˆ‘å…±åº¦çš„æ‰€æœ‰æ—¶é—´ï¼Œæˆ‘å¸Œæœ›æ‚¨èƒ½**è´Ÿè´£ä»»åœ°**è¿ç”¨è¿™äº›æŠ€èƒ½ï¼Œç„¶åå» **æ„å»ºé…·ç‚«çš„ä¸œè¥¿** ã€‚

# è¯¾ç¨‹å†…å®¹æ€»ç»“

1. ## **Planning workflows** â€”â€” å·¥ä½œæµç¨‹è§„åˆ’

### è§„åˆ’ (Planning) è®¾è®¡æ¨¡å¼ä¸é«˜åº¦è‡ªä¸»ä»£ç†

è¿™æ®µæ¼”è®²ä»‹ç»äº† **è§„åˆ’ (Planning) è®¾è®¡æ¨¡å¼** ï¼Œè¿™æ˜¯ä¸€ç§æ„å»º**é«˜åº¦è‡ªä¸»ä»£ç† (Highly Autonomous Agents)** çš„æ–¹æ³•ï¼Œä½¿å…¶èƒ½å¤Ÿ**è‡ªè¡Œå†³å®š**æ‰§è¡Œå¤æ‚ä»»åŠ¡æ‰€éœ€çš„å·¥å…·è°ƒç”¨åºåˆ—ï¼Œè€Œæ— éœ€äº‹å…ˆç¡¬ç¼–ç ã€‚

1. æ ¸å¿ƒæ¦‚å¿µï¼šè§„åˆ’æ¨¡å¼ (The Planning Design Pattern)

* **ç›®æ ‡ï¼š** æ„å»ºèƒ½å¤Ÿå›ç­”å¹¿æ³›ã€å¤æ‚æŸ¥è¯¢çš„ä»£ç†ï¼Œåœ¨è¿è¡Œæ—¶**çµæ´»åœ°**å†³å®šé‡‡å–å“ªäº›è¡ŒåŠ¨ã€‚
* **æ–¹æ³•ï¼š**
  * **æä¾›å·¥å…·é›†ï¼š** ç»™ LLM æä¾›ä¸€å¥—åŠŸèƒ½å·¥å…·ï¼ˆä¾‹å¦‚ï¼šæ£€æŸ¥åº“å­˜ã€è·å–ä»·æ ¼ã€å¤„ç†é€€è´§ç­‰ï¼‰ã€‚
  * **LLM ç¼–å†™è®¡åˆ’ï¼š** å‘ LLM æç¤ºï¼Œè¦æ±‚å®ƒæ ¹æ®ç”¨æˆ·è¯·æ±‚ **è¿”å›ä¸€ä¸ªé€æ­¥çš„æ‰§è¡Œè®¡åˆ’** ï¼Œè¯´æ˜åº”æŒ‰ä»€ä¹ˆé¡ºåºè°ƒç”¨å“ªäº›å·¥å…·ã€‚
  * **é€æ­¥æ‰§è¡Œï¼š** æŒ‰ç…§è®¡åˆ’ï¼Œå°†**æ¯ä¸€æ­¥çš„****æŒ‡ä»¤**å’Œ**ä¸Šä¸€æ­¥çš„è¾“å‡º/ä¸Šä¸‹æ–‡**ä¾æ¬¡å–‚ç»™ LLMï¼Œè®©å®ƒè°ƒç”¨ç›¸åº”çš„å·¥å…·å¹¶æ‰§è¡Œã€‚
  * **æœ€ç»ˆè¾“å‡ºï¼š** å°†æ‰€æœ‰æ­¥éª¤çš„ç»“æœåé¦ˆç»™ LLMï¼Œç”Ÿæˆæœ€ç»ˆçš„ç”¨æˆ·ç­”æ¡ˆã€‚

2. æ¡ˆä¾‹åˆ†æ

| æ¡ˆä¾‹       | å¤æ‚è¯·æ±‚                                          | LLM ç”Ÿæˆçš„è®¡åˆ’ï¼ˆç®€åŒ–ï¼‰                                                                  | å…³é”®ä¼˜åŠ¿                                               |
| ---------- | ------------------------------------------------- | --------------------------------------------------------------------------------------- | ------------------------------------------------------ |
| å¤ªé˜³é•œå®¢æœ | â€œæœ‰æ²¡æœ‰ä½äº 100 ç¾å…ƒçš„åœ†å½¢å¤ªé˜³é•œï¼Ÿâ€             | 1.è·å–ç‰©å“æè¿°ï¼ˆæ‰¾åœ†å½¢ï¼‰ã€‚2. æ£€æŸ¥åº“å­˜ï¼ˆçœ‹æ˜¯å¦æœ‰è´§ï¼‰ã€‚3. è·å–ç‰©å“ä»·æ ¼ï¼ˆç­›é€‰ä½äº $100ï¼‰ã€‚ | ä»£ç†æ— éœ€ç¡¬ç¼–ç å°±èƒ½å¤„ç†æ¶‰åŠå¤šé‡çº¦æŸå’Œå¤šæ­¥éª¤é€»è¾‘çš„æŸ¥è¯¢ã€‚ |
| é‚®ä»¶åŠ©ç†   | â€œå›å¤ Bob çš„é‚®ä»¶è¯´æˆ‘ä¼šå‚åŠ æ™šé¤ï¼Œç„¶åå½’æ¡£é‚®ä»¶ã€‚â€ | 1.æœç´¢é‚®ä»¶ï¼ˆæ‰¾åˆ° Bob çš„é‚®ä»¶ï¼‰ã€‚2. ç”Ÿæˆå¹¶å‘é€é‚®ä»¶ï¼ˆç¡®è®¤å‡ºå¸­ï¼‰ã€‚3. ç§»åŠ¨é‚®ä»¶ï¼ˆå½’æ¡£ï¼‰ã€‚     | ä»£ç†èƒ½å°†æŠ½è±¡è¯·æ±‚è½¬åŒ–ä¸ºæ¶‰åŠä¸åŒå·¥å…·çš„å…·ä½“æ“ä½œåºåˆ—ã€‚     |
| ç¼–ç ç³»ç»Ÿ   | å¤æ‚çš„è½¯ä»¶ç¼–å†™è¯·æ±‚ã€‚                              | ç”Ÿæˆä¸€ä¸ªæ„å»ºæ¸…å•ï¼Œåˆ—å‡ºè¦æ„å»ºçš„å„ä¸ªç»„ä»¶ï¼Œç„¶åé€ä¸€æ‰§è¡Œã€‚                                  | åœ¨é«˜åº¦ä»£ç†åŒ–çš„åœºæ™¯ä¸­è¡¨ç°è‰¯å¥½ã€‚                         |

3. è§„åˆ’æ¨¡å¼çš„ä»·å€¼ä¸æŒ‘æˆ˜

* **ä»·å€¼ï¼š** æå¤§åœ°æ‰©å±•äº†ä»£ç†èƒ½æ‰§è¡Œçš„ **ä»»åŠ¡èŒƒå›´** ã€‚å¼€å‘è€…**æ— éœ€äº‹å…ˆç¡¬ç¼–ç **å·¥å…·è°ƒç”¨çš„ç¡®åˆ‡åºåˆ—ï¼Œæé«˜äº†ç³»ç»Ÿçš„çµæ´»æ€§å’Œè‡ªä¸»æ€§ã€‚
* **æŒ‘æˆ˜ï¼š**
  * **æ§åˆ¶éš¾åº¦ï¼š** åœ¨è¿è¡Œæ—¶ï¼Œå¼€å‘è€…**æ— æ³•é¢„çŸ¥** LLM ä¼šç”Ÿæˆä»€ä¹ˆæ ·çš„è®¡åˆ’ï¼Œä½¿å¾—ç³»ç»Ÿæœ‰æ—¶éš¾ä»¥æ§åˆ¶ã€‚
  * **åº”ç”¨ç°çŠ¶ï¼š** ç›®å‰åœ¨**é«˜åº¦ä»£ç†åŒ–çš„ç¼–ç ç³»ç»Ÿ**ä¸­åº”ç”¨éå¸¸æˆåŠŸï¼Œä½†åœ¨å…¶ä»–é¢†åŸŸçš„æ™®åŠåº¦ä»åœ¨å¢é•¿ä¸­ï¼Œ **ä»å…·æœ‰ä¸€å®šçš„å®éªŒæ€§** ã€‚

2. ## **Creating and executing ****LLM**** plans** â€”â€” åˆ›å»ºå¹¶æ‰§è¡Œå¤§è¯­è¨€æ¨¡å‹è®¡åˆ’

### è§„åˆ’è®¾è®¡æ¨¡å¼çš„å®æ–½ç»†èŠ‚â€”â€”ç»“æ„åŒ–è¾“å‡º

è¿™æ®µæ¼”è®²æ·±å…¥æ¢è®¨äº†**è§„åˆ’ (Planning) è®¾è®¡æ¨¡å¼**åœ¨å®é™…å®æ–½ä¸­çš„å…³é”®æŠ€æœ¯ï¼Œå³å¦‚ä½•åˆ©ç”¨**ç»“æ„åŒ–è¾“å‡º**æ¥ä¿è¯ LLM ç”Ÿæˆçš„è®¡åˆ’èƒ½å¤Ÿè¢«ä¸‹æ¸¸ä»£ç å¯é åœ°æ‰§è¡Œã€‚

1. ç»“æ„åŒ–è¾“å‡ºçš„éœ€æ±‚ä¸ä¼˜åŠ¿

* **é—®é¢˜ï¼š** ä¸Šä¸€è®²ä¸­çš„ç®€å•æ–‡æœ¬æè¿°è®¡åˆ’ï¼ˆå¦‚â€œå…ˆåšä»€ä¹ˆï¼Œå†åšä»€ä¹ˆâ€ï¼‰ **ä¸å¤Ÿæ¸…æ™°å’Œæ˜ç¡®** ï¼Œéš¾ä»¥è¢«ä¸‹æ¸¸ä»£ç ç¨³å®šåœ°è§£æå’Œæ‰§è¡Œã€‚
* **è§£å†³æ–¹æ¡ˆï¼š** è¦æ±‚ LLM ä»¥ **ç»“æ„åŒ–æ ¼å¼** ï¼ˆå¦‚ JSON æˆ– XMLï¼‰è¾“å‡ºè®¡åˆ’ã€‚
* **ä¼˜åŠ¿ï¼š**
  * **æ¸…æ™°æ˜ç¡® (Clear and Unambiguous)ï¼š** ç»“æ„åŒ–æ ¼å¼èƒ½å¤Ÿæ¸…æ¥šåœ°ç•Œå®šè®¡åˆ’çš„æ­¥éª¤ã€æ‰€éœ€å·¥å…·åŠå…¶å‚æ•°ã€‚
  * **ä¸‹æ¸¸ä»£ç å¯é æ€§ï¼š** å…è®¸ä¸‹æ¸¸ä»£ç **æ›´å¯é åœ°è§£æ (parse)** è®¡åˆ’çš„æ¯ä¸ªæ­¥éª¤ï¼Œä»è€Œç³»ç»Ÿæ€§åœ°ã€ä¸€æ­¥ä¸€æ­¥åœ°æ‰§è¡Œã€‚

2. æ¨èçš„ç»“æ„åŒ–æ ¼å¼

| æ ¼å¼     | æ¨èåº¦ | ç‰¹ç‚¹                                                                                                   |
| -------- | ------ | ------------------------------------------------------------------------------------------------------ |
| JSON     | é«˜     | æµè¡Œçš„é€‰æ‹©ã€‚LLM éå¸¸æ“…é•¿ç”Ÿæˆ JSON è¾“å‡ºã€‚é€šè¿‡é”®å€¼å¯¹æ¸…æ™°åœ°å®šä¹‰æ­¥éª¤æè¿°ã€è¦ä½¿ç”¨çš„å·¥å…·å’Œä¼ é€’ç»™å·¥å…·çš„å‚æ•°ã€‚ |
| XML      | é«˜     | å¦ä¸€ä¸ªè‰¯å¥½çš„é€‰æ‹©ã€‚ä½¿ç”¨ XML æ ‡ç­¾æ¥æ¸…æ™°æŒ‡å®šè®¡åˆ’çš„æ­¥éª¤å’Œç¼–å·ã€‚                                            |
| Markdown | ä½     | è§£æèµ·æ¥å¯èƒ½ç¨å¾®æ¨¡ç³Šã€‚                                                                                 |
| çº¯æ–‡æœ¬   | æœ€ä½   | æœ€ä¸å¯é çš„é€‰é¡¹ã€‚                                                                                       |

3. JSON æ ¼å¼ç¤ºä¾‹ï¼ˆç³»ç»Ÿæç¤ºä¸è¾“å‡ºï¼‰

* **ç³»ç»Ÿæç¤ºè¦æ±‚ï¼š** å¼€å‘è€…å‘ LLM æŒ‡ç¤ºï¼šâ€œæ‚¨æœ‰æƒè®¿é—®ä»¥ä¸‹å·¥å…·â€ï¼Œå¹¶è¦æ±‚å®ƒ**â€œä»¥ JSON æ ¼å¼åˆ›å»ºä¸€ä¸ªä¸€æ­¥ä¸€æ­¥çš„è®¡åˆ’â€**ï¼ŒåŒæ—¶è¯¦ç»†æè¿°æ‰€éœ€çš„ JSON ç»“æ„ã€‚
* **JSON**** è¾“å‡ºç»“æ„ï¼š** LLM è¿”å›ä¸€ä¸ª JSON åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­çš„æ¯ä¸ªå¯¹è±¡ä»£è¡¨ä¸€ä¸ªæ­¥éª¤ï¼ŒåŒ…å«æ¸…æ™°çš„é”®å€¼ï¼š
  * `description` (æ­¥éª¤æè¿°)
  * `tool` (è¦è°ƒç”¨çš„å·¥å…·åç§°)
  * `arguments` (ä¼ é€’ç»™å·¥å…·çš„å‚æ•°)

4. ä¸‹ä¸€æ­¥ï¼šç”¨ä»£ç è¡¨è¾¾è®¡åˆ’

æ¼”è®²è€…å¼•å‡ºäº†ä¸€ä¸ªæ›´å·§å¦™çš„è§„åˆ’æ€è·¯ï¼šè®© LLM  **ç¼–å†™ä»£ç ** ï¼Œå¹¶ç”¨ **ä»£ç æ¥è¡¨è¾¾è®¡åˆ’** ã€‚è¿™å°†æ˜¯ä¸‹ä¸€ä¸ªè§†é¢‘è®¨è®ºçš„é‡ç‚¹ã€‚

3. ## **Planning with code execution** â€”â€” ç»“åˆä»£ç æ‰§è¡Œçš„è§„åˆ’

### è§„åˆ’è®¾è®¡æ¨¡å¼çš„è¿›é˜¶â€”â€”ä½¿ç”¨ä»£ç ä½œä¸ºè¡ŒåŠ¨ï¼ˆCode as Actionï¼‰

è¿™æ®µæ¼”è®²ä»‹ç»äº†**ä½¿ç”¨ä»£ç æ‰§è¡Œè¿›è¡Œè§„åˆ’ (Planning with Code Execution)** è¿™ä¸€å¼ºå¤§çš„è®¾è®¡æ¨¡å¼ï¼Œå¹¶å°†å…¶ä¸ç»“æ„åŒ–æ•°æ®è§„åˆ’è¿›è¡Œäº†å¯¹æ¯”ï¼Œè¯´æ˜äº†å®ƒåœ¨å¤„ç†å¤æ‚æ•°æ®ä»»åŠ¡ä¸­çš„æ˜¾è‘—ä¼˜åŠ¿ã€‚

1. æ ¸å¿ƒæ¦‚å¿µï¼šä»£ç ä½œä¸ºè¡ŒåŠ¨ (Code as Action)

* **åŸºæœ¬æ€æƒ³ï¼š** ä¸å…¶è®© LLM è¾“å‡º JSON ç­‰ç»“æ„åŒ–æ•°æ®æ¥è¡¨ç¤ºè®¡åˆ’ï¼Œä¸å¦‚è®© LLM ç›´æ¥ **ç¼–å†™è½¯ä»¶ä»£ç ** ï¼ˆå¦‚ Pythonï¼‰ï¼Œå¹¶ç”¨è¿™æ®µä»£ç æ¥ **è¡¨è¾¾è®¡åˆ’çš„å¤šä¸ªæ­¥éª¤å’Œå·¥å…·è°ƒç”¨** ã€‚
* **æ‰§è¡Œæ–¹å¼ï¼š** å¼€å‘è€…æ‰§è¡Œ LLM ç”Ÿæˆçš„ä»£ç ï¼Œä»è€Œå®ç°å¤æ‚çš„è®¡åˆ’ã€‚

2. ä»£ç è§„åˆ’çš„åŠ¨æœºä¸ä¼˜åŠ¿ï¼ˆä»¥æ•°æ®æŸ¥è¯¢ä¸ºä¾‹ï¼‰

* **ä¼ ç»Ÿå·¥å…·é›†çš„å±€é™æ€§ï¼š** åœ¨å¤„ç†å¤æ‚çš„æ•°æ®æŸ¥è¯¢ï¼ˆå¦‚â€œå“ªä¸ªæœˆä»½çƒ­å·§å…‹åŠ›é”€é‡æœ€é«˜ï¼Ÿâ€ï¼‰æ—¶ï¼Œå¦‚æœåªæä¾›å°‘é‡åŸºç¡€å·¥å…·ï¼ˆå¦‚ `è·å–æœ€å¤§å€¼`ã€`è¿‡æ»¤è¡Œ`ï¼‰ï¼Œä»£ç†éœ€è¦**æå…¶å¤æ‚ä¸”å†—é•¿çš„å·¥å…·è°ƒç”¨åºåˆ—**æ¥è§£å†³é—®é¢˜ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå¯¹äºæ–°çš„ã€æ›´å¤æ‚çš„æŸ¥è¯¢ï¼ˆå¦‚â€œä¸Šå‘¨æœ‰å¤šå°‘ç‹¬ç‰¹äº¤æ˜“ï¼Ÿâ€ï¼‰ï¼Œå¯èƒ½éœ€è¦ä¸æ–­åœ° **åˆ›å»ºæ–°çš„å®šåˆ¶å·¥å…·** ï¼Œè¿™ç§æ–¹æ³•æ˜¯**è„†å¼±ä¸”ä½æ•ˆ**çš„**ã€‚**
* **ä»£ç è§„åˆ’çš„ä¼˜åŠ¿ï¼š**
  * **åˆ©ç”¨å¤§å‹åº“ï¼š** å…è®¸ LLM åˆ©ç”¨åƒ **Pandas** è¿™æ ·çš„æ•°æ®å¤„ç†åº“ä¸­ **æ•°ç™¾ç”šè‡³æ•°åƒä¸ªå†…ç½®å‡½æ•°** ã€‚
  * **é«˜è¡¨è¾¾èƒ½åŠ›ï¼š** LLM èƒ½å¤Ÿç¼–å†™ç®€æ´çš„ä»£ç æ¥è¡¨è¾¾ä¸€ä¸ªæ¶‰åŠå¤šæ­¥éª¤ã€å¤æ‚é€»è¾‘çš„è®¡åˆ’ï¼ˆä¾‹å¦‚ï¼šè§£ææ—¥æœŸã€æŒ‰æ—¥æœŸæ’åºã€è¿‡æ»¤ã€å»é‡ã€è®¡æ•°ï¼‰ã€‚
  * **æ€§èƒ½æ›´ä¼˜ï¼š** ç ”ç©¶è¡¨æ˜ï¼Œåœ¨è®¸å¤šä»»åŠ¡ä¸­ï¼Œè®© LLM ç¼–å†™ä»£ç æ¥é‡‡å–è¡ŒåŠ¨ï¼ˆCode as Actionï¼‰çš„æ€§èƒ½**ä¼˜äº**è®©å®ƒç¼–å†™ JSON æˆ–çº¯æ–‡æœ¬è®¡åˆ’ã€‚

3. å®æ–½ç»†èŠ‚ä¸æ³¨æ„äº‹é¡¹

* **æç¤ºè¦æ±‚ï¼š** æç¤º LLM æ˜ç¡®è¦æ±‚LLMâ€œç¼–å†™ä»£ç æ¥è§£å†³ç”¨æˆ·çš„æŸ¥è¯¢ï¼Œå¹¶ä»¥ Python ä»£ç è¿”å›æ‚¨çš„ç­”æ¡ˆâ€ï¼Œé€šå¸¸ä½¿ç”¨ `<execute_python>` ç­‰æ ‡ç­¾è¿›è¡Œåˆ†éš”ã€‚
* **å®‰å…¨é—®é¢˜ï¼ˆ**  **æ²™ç®±** **ï¼‰ï¼š** è¿è¡Œ LLM ç”Ÿæˆçš„ä»£ç å­˜åœ¨å®‰å…¨é£é™©ï¼Œ**éœ€è¦è€ƒè™‘ä½¿ç”¨æ²™ç®± (Sandbox)** ç­‰å®‰å…¨æ‰§è¡Œç¯å¢ƒã€‚

4. è§„åˆ’æ¨¡å¼çš„ç°çŠ¶æ€»ç»“

* **æœ€å¼ºåº”ç”¨ï¼š** **é«˜åº¦ä»£ç†åŒ–çš„è½¯ä»¶ç¼–ç ç³»ç»Ÿ**æ˜¯è§„åˆ’æ¨¡å¼ç›®å‰æœ€å¼ºå¤§ã€æœ€æˆç†Ÿçš„åº”ç”¨ã€‚LLM å¯ä»¥ç”Ÿæˆä¸€ä¸ªè¯¦ç»†çš„â€œæ„å»ºæ¸…å•â€å¹¶é€æ­¥æ‰§è¡Œå¤æ‚çš„è½¯ä»¶å¼€å‘ä»»åŠ¡ã€‚
* **æŒ‘æˆ˜ï¼š** è§„åˆ’æ¨¡å¼çš„**ç¼ºç‚¹**æ˜¯ **éš¾ä»¥æ§åˆ¶** ï¼Œå› ä¸ºå¼€å‘è€…æ— æ³•é¢„å…ˆçŸ¥é“ LLM ä¼šç”Ÿæˆä»€ä¹ˆæ ·çš„è¡ŒåŠ¨åºåˆ—ã€‚
* **ç»“è®ºï¼š** å°½ç®¡å­˜åœ¨æ§åˆ¶é—®é¢˜ï¼Œä½†**æ”¾å¼ƒä¸€äº›æ§åˆ¶æƒ**å¯ä»¥ **æ˜¾è‘—å¢åŠ æ¨¡å‹å¯ä»¥å°è¯•çš„äº‹ç‰©èŒƒå›´** ã€‚è¿™æ˜¯ä¸€é¡¹å‰æ²¿æŠ€æœ¯ï¼Œä»åœ¨å…¶ä»–é¢†åŸŸå‘å±•ä¸­ã€‚

5. ä¸‹ä¸€æ­¥é¢„å‘Š

ä¸‹ä¸€ä¸ªè®¾è®¡æ¨¡å¼æ˜¯ **å¤šä»£ç†ç³»ç»Ÿ (Multi-Agent Systems)** ï¼Œå³è®©å¤šä¸ªä»£ç†ååŒå·¥ä½œæ¥å®Œæˆå¤æ‚ä»»åŠ¡ã€‚

4. ## **ã€å®éªŒã€‘Ungraded Lab: ****Customer Service**** Agent** â€”â€” éè¯„åˆ†å®éªŒï¼šå®¢æœä»£ç†
5. ## **Multi-agentic workflows** â€”â€” å¤šä»£ç†å·¥ä½œæµç¨‹

### å¤šä»£ç†ç³»ç»Ÿ (Multi-Agent Systems) è®¾è®¡æ¨¡å¼

è¿™æ®µæ¼”è®²ä»‹ç»äº†**å¤šä»£ç†ç³»ç»Ÿ (Multi-Agent Systems)** è®¾è®¡æ¨¡å¼ï¼Œè¯¥æ¨¡å¼é€šè¿‡è®©**å¤šä¸ªå…·æœ‰ä¸åŒè§’è‰²çš„ä»£ç†**åä½œæ¥è§£å†³å¤æ‚çš„ä»»åŠ¡ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„æ•ˆç‡å’Œæ¨¡å—åŒ–ã€‚

1. å¤šä»£ç†ç³»ç»Ÿçš„åŸºæœ¬åŸç†ä¸ä¼˜åŠ¿

* **æ ¸å¿ƒç†å¿µï¼š** å°½ç®¡æ‰€æœ‰ä»£ç†å¯èƒ½éƒ½åŸºäºåŒä¸€ä¸ª LLM è¿è¡Œåœ¨åŒä¸€å°ç”µè„‘ä¸Šï¼Œä½†å°†å¤æ‚ä»»åŠ¡**åˆ†è§£**æˆå¤šä¸ª**ç‹¬ç«‹çš„è§’è‰²**æˆ–**è¿›ç¨‹**æ˜¯ä¸€ç§æ›´æœ‰æ•ˆçš„å¼€å‘æ–¹æ³•ï¼ˆç±»ä¼¼äºäººç±»å›¢é˜Ÿåä½œæˆ–è®¡ç®—æœºçš„å¤šçº¿ç¨‹/å¤šè¿›ç¨‹ï¼‰ã€‚
* **ä¼˜åŠ¿ï¼š**
  * **ä»»åŠ¡åˆ†è§£ (Decomposition)ï¼š** åƒäººç±»å›¢é˜Ÿä¸€æ ·ï¼Œå°†å¤æ‚ä»»åŠ¡è‡ªç„¶åœ°åˆ†è§£ä¸ºæ‹¥æœ‰**ä¸åŒè§’è‰²å’ŒæŠ€èƒ½**çš„å­ä»»åŠ¡ã€‚
  * **ä¸“æ³¨æ€§ (Focus)ï¼š** å…è®¸å¼€å‘è€… **ä¸€æ¬¡ä¸“æ³¨äºæ„å»ºä¸€ä¸ªç‰¹å®šè§’è‰²** ï¼ˆä¾‹å¦‚ï¼Œåªéœ€ä¸“æ³¨äºæ„å»ºæœ€å¥½çš„â€œå¹³é¢è®¾è®¡å¸ˆä»£ç†â€ï¼‰ã€‚
  * **æ¨¡å—åŒ–ä¸å¤ç”¨ï¼š** æœ‰æœºä¼šåˆ›å»ºå¯**å¤ç”¨äºå…¶ä»–åº”ç”¨**çš„é€šç”¨ä»£ç†ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªé€šç”¨çš„â€œå¹³é¢è®¾è®¡å¸ˆä»£ç†â€å¯ä»¥ç”¨äºè¥é”€æ‰‹å†Œå’Œç¤¾äº¤åª’ä½“å¸–å­ï¼‰ã€‚

2. æ„å»ºå•ä¸ªä»£ç†çš„æ–¹æ³•

* **è§’è‰²æç¤º (Role Prompting)ï¼š** é€šè¿‡**æç¤ºè¯ä½¿ ****LLM**** æ‰®æ¼”**ç‰¹å®šçš„è§’è‰²èº«ä»½ï¼ˆä¾‹å¦‚ï¼šâ€œä½ æ˜¯ä¸€åç ”ç©¶ä»£ç†ï¼Œæ“…é•¿åˆ†æå¸‚åœºè¶‹åŠ¿â€ï¼‰ï¼Œå¹¶ä¸ºå…¶é…å¤‡å®Œæˆè¯¥è§’è‰²ä»»åŠ¡æ‰€éœ€çš„ **ç‰¹å®šå·¥å…·** ã€‚
  | ä»£ç†è§’è‰²                      | ä»»åŠ¡æè¿°                             | å¯èƒ½éœ€è¦çš„å·¥å…·                                 |
  | ----------------------------- | ------------------------------------ | ---------------------------------------------- |
  | ç ”ç©¶å‘˜ (Researcher)           | åˆ†æå¸‚åœºè¶‹åŠ¿ï¼Œç ”ç©¶ç«äº‰å¯¹æ‰‹ã€‚         | ç½‘é¡µæœç´¢ (Web Search)ã€‚                        |
  | å¹³é¢è®¾è®¡å¸ˆ (Graphic Designer) | åˆ›å»ºæ•°æ®å¯è§†åŒ–å›¾è¡¨å’Œè‰ºæœ¯ä½œå“ã€‚       | å›¾åƒç”Ÿæˆ/æ“ä½œ APIã€ä»£ç æ‰§è¡Œï¼ˆç”Ÿæˆå›¾è¡¨ï¼‰ã€‚      |
  | æ’°ç¨¿äºº (Writer)               | å°†ç ”ç©¶æˆæœè½¬åŒ–ä¸ºæŠ¥å‘Šæ–‡æœ¬å’Œè¥é”€æ–‡æ¡ˆã€‚ | LLM è‡ªèº«çš„æ–‡æœ¬ç”Ÿæˆèƒ½åŠ›ï¼ˆå¯èƒ½ä¸éœ€è¦é¢å¤–å·¥å…·ï¼‰ã€‚ |

3. ä¸¤ç§ä¸»è¦çš„åä½œæ¨¡å¼

å¤šä»£ç†ç³»ç»Ÿçš„è®¾è®¡æ ¸å¿ƒåœ¨äº **ä»£ç†ä¹‹é—´çš„é€šä¿¡æ¨¡å¼** ã€‚

| æ¨¡å¼                                 | æè¿°                                                                                  | ç»“æ„                                                         | ç‰¹ç‚¹                                                                 |
| ------------------------------------ | ------------------------------------------------------------------------------------- | ------------------------------------------------------------ | -------------------------------------------------------------------- |
| 1. çº¿æ€§å·¥ä½œæµç¨‹ (Linear Workflow)    | ä»£ç†ä¾æ¬¡æ‰§è¡Œä»»åŠ¡ï¼Œå°†è¾“å‡ºä¼ é€’ç»™ä¸‹ä¸€ä¸ªä»£ç†ï¼Œç›´åˆ°æœ€ç»ˆå®Œæˆã€‚                              | ç ”ç©¶å‘˜$\rightarrow$ å¹³é¢è®¾è®¡å¸ˆ $\rightarrow$ æ’°ç¨¿äºº      | ç®€å•ã€ç›´æ¥ï¼Œé€‚ç”¨äºæ­¥éª¤é¡ºåºå›ºå®šçš„ä»»åŠ¡ã€‚                               |
| 2. è§„åˆ’/ç®¡ç†å™¨æ¨¡å¼ (Manager Pattern) | ä¸€ä¸ªä¸»è¦çš„ LLM å……å½“â€œç»ç†â€ï¼ˆç¬¬å››ä¸ªä»£ç†ï¼‰ï¼Œè´Ÿè´£åˆ¶å®šè®¡åˆ’å¹¶å§”æ‰˜ä»»åŠ¡ç»™å›¢é˜Ÿä¸­çš„å…¶ä»–ä»£ç†ã€‚ | è¥é”€ç»ç† (LLM)$\rightarrow$ (ç ”ç©¶å‘˜ / å¹³é¢è®¾è®¡å¸ˆ / æ’°ç¨¿äºº) | æ›´çµæ´»ã€‚LLM å¯ä»¥åœ¨è¿è¡Œæ—¶å†³å®šä»»åŠ¡é¡ºåºï¼Œç”šè‡³åœ¨æœ€åä¸€æ­¥è¿›è¡Œåæ€æˆ–å®¡æŸ¥ã€‚ |

4. ä¸‹ä¸€æ­¥

ä¸‹ä¸€ä¸ªè§†é¢‘å°†æ·±å…¥æ¢è®¨**ä»£ç†ä¹‹é—´é€šä¿¡æ¨¡å¼**çš„è®¾è®¡ï¼Œä»‹ç»ä¸€äº›æœ€å¸¸è§çš„æ¨¡å¼ï¼Œä»¥æŒ‡å¯¼å¼€å‘è€…å¦‚ä½•è®©å¤šä¸ªä»£ç†æœ‰æ•ˆåœ°ç›¸äº’åä½œã€‚

6. ## **Communication patterns for multi-agent systems** â€”â€” å¤šä»£ç†ç³»ç»Ÿçš„é€šä¿¡æ¨¡å¼

### å¤šä»£ç†ç³»ç»Ÿçš„é€šä¿¡æ¨¡å¼

è¿™æ®µæ¼”è®²è®¨è®ºäº†åœ¨å¤šä»£ç†ç³»ç»Ÿä¸­ï¼Œä»£ç†ä¹‹é—´**å¦‚ä½•ç»„ç»‡å’Œäº¤æµ**æ˜¯å†³å®šç³»ç»Ÿæ•ˆç‡å’Œå¤æ‚æ€§çš„å…³é”®è®¾è®¡å†³ç­–ï¼Œå¹¶ä»‹ç»äº†å½“å‰æœ€å¸¸è§çš„å‡ ç§é€šä¿¡æ¨¡å¼ã€‚

1. é€šä¿¡æ¨¡å¼çš„é‡è¦æ€§

* **å¤æ‚æ€§ï¼š** å°±åƒè®¾è®¡äººç±»å›¢é˜Ÿçš„ç»„ç»‡ç»“æ„å›¾ä¸€æ ·ï¼Œè®¾è®¡å¤šä»£ç†ç³»ç»Ÿä¸­çš„é€šä¿¡æ¨¡å¼ä¹Ÿæ˜¯ä¸€ä¸ªå¤æ‚çš„ç ”ç©¶é¢†åŸŸã€‚
* **ç›®æ ‡ï¼š** é€‰æ‹©åˆé€‚çš„æ¨¡å¼æ¥åè°ƒä»£ç†çš„å·¥ä½œï¼Œä»¥ç¡®ä¿é«˜æ•ˆçš„åä½œã€‚

2. å¸¸è§çš„é€šä¿¡è®¾è®¡æ¨¡å¼

æ¼”è®²è€…ä»‹ç»äº†ä¸¤ç§æœ€å¸¸ç”¨çš„æ¨¡å¼ï¼Œä»¥åŠä¸¤ç§æ›´å¤æ‚å’Œå®éªŒæ€§çš„æ¨¡å¼ï¼š

| æ¨¡å¼                                 | ç»“æ„ç‰¹ç‚¹                                                                                                                           | ä¼˜ç‚¹ä¸åº”ç”¨                                                                                                           |
| ------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------- |
| 1. çº¿æ€§æ¨¡å¼ (Linear)                 | ä»£ç†ä¾æ¬¡è¡ŒåŠ¨ã€‚å‰ä¸€ä¸ªä»£ç†çš„è¾“å‡ºæ˜¯åä¸€ä¸ªä»£ç†çš„è¾“å…¥ã€‚                                                                                 | æœ€å¸¸è§ä¹‹ä¸€ã€‚ ç»“æ„ç®€å•ï¼Œé€‚ç”¨äºæ­¥éª¤é¡ºåºå›ºå®šã€ä¾èµ–å…³ç³»æ˜ç¡®çš„ä»»åŠ¡ï¼ˆå¦‚ï¼šç ”ç©¶$\rightarrow$ è®¾è®¡ $\rightarrow$ æ’°å†™ï¼‰ã€‚ |
| 2. å±‚çº§æ¨¡å¼ (Hierarchical)           | æœ‰ä¸€ä¸ªä¸­å¿ƒç»ç†ä»£ç†ï¼Œè´Ÿè´£ä¸å¤šä¸ªå›¢é˜Ÿæˆå‘˜ä»£ç†æ²Ÿé€šå¹¶åè°ƒä»–ä»¬çš„å·¥ä½œã€‚                                                                   | æœ€å¸¸è§ä¹‹ä¸€ã€‚ ç»ç†è´Ÿè´£åˆ¶å®šæ–¹å‘å’Œå§”æ‰˜ä»»åŠ¡ï¼Œæé«˜äº†å·¥ä½œçš„åè°ƒæ€§å’Œé›†ä¸­æ§åˆ¶èƒ½åŠ›ã€‚                                          |
| 3. æ›´æ·±çš„å±‚çº§ç»“æ„ (Deeper Hierarchy) | é¡¶å±‚ä»£ç†ï¼ˆå¦‚ç»ç†ï¼‰å°†å…¶ä»»åŠ¡å§”æ‰˜ç»™å…¶ä»–ä»£ç†ï¼Œè€Œè¿™äº›ä»£ç†æœ¬èº«åˆå¯ä»¥è¿›ä¸€æ­¥è°ƒç”¨å­ä»£ç†ï¼ˆä¾‹å¦‚ï¼šç ”ç©¶å‘˜è°ƒç”¨â€œç½‘ç»œç ”ç©¶å‘˜â€å’Œâ€œäº‹å®æ ¸æŸ¥å‘˜â€ï¼‰ã€‚ | å¤æ‚æ€§é«˜ã€‚ é€‚ç”¨äºéœ€è¦å¤šå±‚ä¸“ä¸šåˆ†å·¥çš„å¤§å‹å¤æ‚ä»»åŠ¡ï¼Œç›®å‰ä½¿ç”¨è¾ƒå°‘ã€‚                                                      |
| 4. å…¨äº’è”æ¨¡å¼ (All-to-All)           | å›¢é˜Ÿä¸­çš„ä»»ä½•ä»£ç†éƒ½å¯ä»¥åœ¨ä»»ä½•æ—¶é—´ä¸ä»»ä½•å…¶ä»–ä»£ç†äº¤æµã€‚é€šè¿‡å°†æ¶ˆæ¯æ·»åŠ åˆ°æ¥æ”¶ä»£ç†çš„â€œè”ç³»äººâ€ä¸­ï¼Œè®©å…¶è‡ªè¡Œå†³å®šä½•æ—¶å›å¤ã€‚                 | å®éªŒæ€§é«˜ã€‚ ç»“æœéš¾ä»¥é¢„æµ‹ï¼Œä½†é€‚ç”¨äºé‚£äº›å¯ä»¥å®¹å¿ä¸€å®šç¨‹åº¦æ··ä¹±å’Œä¸å¯é¢„æµ‹æ€§çš„åº”ç”¨ï¼Œèƒ½æ˜¾è‘—å¢åŠ æ¨¡å‹æ¢ç´¢é—®é¢˜è§£æ³•çš„èŒƒå›´ã€‚      |

3. æ€»ç»“ä¸å±•æœ›

* **è½¯ä»¶æ¡†æ¶ï¼š** ç›®å‰æœ‰è®¸å¤šè½¯ä»¶æ¡†æ¶æ”¯æŒè½»æ¾æ„å»ºå¤šä»£ç†ç³»ç»Ÿï¼Œå¹¶ç®€åŒ–äº†ä¸Šè¿°é€šä¿¡æ¨¡å¼çš„å®ç°ã€‚
* **è®¾è®¡å†³ç­–ï¼š** ä»£ç†é—´çš„é€šä¿¡æ¨¡å¼æ˜¯æ„å»ºå¤šä»£ç†ç³»ç»Ÿæ—¶éœ€è¦åšçš„**å…³é”®è®¾è®¡å†³ç­–**ä¹‹ä¸€ã€‚
* **è¯¾ç¨‹ç»“æŸï¼š** è¿™éƒ¨åˆ†å†…å®¹æ ‡å¿—ç€æœ¬è¯¾ç¨‹æ‰€æœ‰è®¾è®¡æ¨¡å¼å’Œå…³é”®æ¦‚å¿µçš„è®²è§£ç»“æŸã€‚

7.  ## **Conclusion** â€”â€” æ€»ç»“

### ä»£ç†å¼ AI è¯¾ç¨‹å›é¡¾ä¸å±•æœ›

è¿™æ®µè§†é¢‘æ˜¯å¯¹æ•´ä¸ªè¯¾ç¨‹å†…å®¹çš„ç®€è¦å›é¡¾ï¼Œå¼ºè°ƒäº†æ‰€å­¦æŠ€èƒ½åœ¨æ„å»ºåˆ›æ–°åº”ç”¨å’ŒèŒä¸šå‘å±•ä¸­çš„é‡è¦æ€§ã€‚

1. è¯¾ç¨‹æ ¸å¿ƒå†…å®¹å›é¡¾

| æ¨¡å—         | æ ¸å¿ƒä¸»é¢˜                     | å…³é”®è®¾è®¡æ¨¡å¼ä¸æ¦‚å¿µ                                                                                    |
| ------------ | ---------------------------- | ----------------------------------------------------------------------------------------------------- |
| åº”ç”¨ä¸åŸºç¡€   | ä»£ç†å¼ AI çš„åº”ç”¨èŒƒå›´å’Œæ½œåŠ›ã€‚ | æ„å»ºä»¥å‰ä¸å¯èƒ½å®ç°çš„æ–°å‹åº”ç”¨ã€‚                                                                        |
| è®¾è®¡æ¨¡å¼ I   | æå‡ç³»ç»Ÿæ€§èƒ½ä¸åŠŸèƒ½çš„æ–¹æ³•ã€‚   | åæ€ (Reflection)ï¼šç®€å•çš„æ€§èƒ½æå‡æ‰‹æ®µã€‚                                                               |
| è®¾è®¡æ¨¡å¼ II  | æ‰©å±• LLM èƒ½åŠ›ã€‚              | å·¥å…·ä½¿ç”¨ (Tool Use) / å‡½æ•°è°ƒç”¨ (Function Calling)ï¼šä»¥ä»£ç æ‰§è¡Œä¸ºä¾‹ï¼Œæ‰©å±•æ¨¡å‹çš„å¯æ“ä½œèŒƒå›´ã€‚             |
| å¼€å‘æµç¨‹     | ç¡®ä¿ç³»ç»ŸæŒç»­æ”¹è¿›çš„é«˜æ•ˆæ–¹æ³•ã€‚ | è¯„ä¼° (Evals) & é”™è¯¯åˆ†æ (Error Analysis)ï¼šé©±åŠ¨ä¸¥è°¨çš„æ„å»ºä¸åˆ†ææµç¨‹ï¼Œé«˜æ•ˆæå‡ç³»ç»Ÿæ€§èƒ½ã€‚                |
| é«˜çº§è®¾è®¡æ¨¡å¼ | æ„å»ºæ›´å¼ºå¤§ã€æ›´è‡ªä¸»çš„ç³»ç»Ÿã€‚   | è§„åˆ’ (Planning) å’Œ å¤šä»£ç†ç³»ç»Ÿ (Multi-Agent Systems)ï¼šç”¨äºæ„å»ºåŠŸèƒ½æ›´å¼ºå¤§ã€ä½†æ§åˆ¶å’Œé¢„æµ‹éš¾åº¦æ›´é«˜çš„ç³»ç»Ÿã€‚ |

2. æŠ€èƒ½çš„ä»·å€¼ä¸å±•æœ›

* **æ„å»ºèƒ½åŠ›ï¼š** è¯¾ç¨‹æ•™æˆçš„æŠ€èƒ½ä½¿å­¦ä¹ è€…èƒ½å¤Ÿæ„å»ºè®¸å¤šé…·ç‚«ã€ä»¤äººå…´å¥‹çš„ä»£ç†å¼ AI åº”ç”¨ã€‚
* **èŒä¸šæœºä¼šï¼š** æ¼”è®²è€…æŒ‡å‡ºï¼Œè®¸å¤šå…¬å¸åœ¨é¢è¯•æ—¶ä¼šè¯„ä¼°å€™é€‰äººæ˜¯å¦å…·å¤‡æœ¬è¯¾ç¨‹æ‰€æ•™æˆçš„æŠ€èƒ½ï¼Œå› æ­¤è¿™äº›çŸ¥è¯†æœ‰æœ›ä¸ºå­¦ä¹ è€…å¼€å¯æ–°çš„èŒä¸šå‘å±•æœºä¼šã€‚
* **æœ€ç»ˆå¯„è¯­ï¼š** é¼“åŠ±å­¦ä¹ è€…è´Ÿè´£ä»»åœ°è¿ç”¨æ‰€å­¦æŠ€èƒ½ï¼Œå»â€œæ„å»ºé…·ç‚«çš„ä¸œè¥¿â€ã€‚

